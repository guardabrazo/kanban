(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function uS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var em={exports:{}},Vl={};var dv;function cS(){if(dv)return Vl;dv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var p in l)p!=="key"&&(u[p]=l[p])}else u=l;return l=u.ref,{$$typeof:r,type:s,key:f,ref:l!==void 0?l:null,props:u}}return Vl.Fragment=t,Vl.jsx=n,Vl.jsxs=n,Vl}var mv;function hS(){return mv||(mv=1,em.exports=cS()),em.exports}var L=hS(),nm={exports:{}},Tt={};var pv;function fS(){if(pv)return Tt;pv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),C=Symbol.iterator;function q(V){return V===null||typeof V!="object"?null:(V=C&&V[C]||V["@@iterator"],typeof V=="function"?V:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,Y={};function lt(V,$,nt){this.props=V,this.context=$,this.refs=Y,this.updater=nt||J}lt.prototype.isReactComponent={},lt.prototype.setState=function(V,$){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,$,"setState")},lt.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function yt(){}yt.prototype=lt.prototype;function pt(V,$,nt){this.props=V,this.context=$,this.refs=Y,this.updater=nt||J}var Ft=pt.prototype=new yt;Ft.constructor=pt,W(Ft,lt.prototype),Ft.isPureReactComponent=!0;var ht=Array.isArray;function Rt(){}var D={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function w(V,$,nt){var st=nt.ref;return{$$typeof:r,type:V,key:$,ref:st!==void 0?st:null,props:nt}}function M(V,$){return w(V.type,$,V.props)}function O(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function k(V){var $={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(nt){return $[nt]})}var R=/\/+/g;function ae(V,$){return typeof V=="object"&&V!==null&&V.key!=null?k(""+V.key):$.toString(36)}function Me(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(Rt,Rt):(V.status="pending",V.then(function($){V.status==="pending"&&(V.status="fulfilled",V.value=$)},function($){V.status==="pending"&&(V.status="rejected",V.reason=$)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function F(V,$,nt,st,vt){var bt=typeof V;(bt==="undefined"||bt==="boolean")&&(V=null);var Pt=!1;if(V===null)Pt=!0;else switch(bt){case"bigint":case"string":case"number":Pt=!0;break;case"object":switch(V.$$typeof){case r:case t:Pt=!0;break;case T:return Pt=V._init,F(Pt(V._payload),$,nt,st,vt)}}if(Pt)return vt=vt(V),Pt=st===""?"."+ae(V,0):st,ht(vt)?(nt="",Pt!=null&&(nt=Pt.replace(R,"$&/")+"/"),F(vt,$,nt,"",function(_s){return _s})):vt!=null&&(O(vt)&&(vt=M(vt,nt+(vt.key==null||V&&V.key===vt.key?"":(""+vt.key).replace(R,"$&/")+"/")+Pt)),$.push(vt)),1;Pt=0;var xe=st===""?".":st+":";if(ht(V))for(var oe=0;oe<V.length;oe++)st=V[oe],bt=xe+ae(st,oe),Pt+=F(st,$,nt,bt,vt);else if(oe=q(V),typeof oe=="function")for(V=oe.call(V),oe=0;!(st=V.next()).done;)st=st.value,bt=xe+ae(st,oe++),Pt+=F(st,$,nt,bt,vt);else if(bt==="object"){if(typeof V.then=="function")return F(Me(V),$,nt,st,vt);throw $=String(V),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Pt}function et(V,$,nt){if(V==null)return V;var st=[],vt=0;return F(V,st,"","",function(bt){return $.call(nt,bt,vt++)}),st}function ft(V){if(V._status===-1){var $=V._result;$=$(),$.then(function(nt){(V._status===0||V._status===-1)&&(V._status=1,V._result=nt)},function(nt){(V._status===0||V._status===-1)&&(V._status=2,V._result=nt)}),V._status===-1&&(V._status=0,V._result=$)}if(V._status===1)return V._result.default;throw V._result}var zt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Qt={map:et,forEach:function(V,$,nt){et(V,function(){$.apply(this,arguments)},nt)},count:function(V){var $=0;return et(V,function(){$++}),$},toArray:function(V){return et(V,function($){return $})||[]},only:function(V){if(!O(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Tt.Activity=S,Tt.Children=Qt,Tt.Component=lt,Tt.Fragment=n,Tt.Profiler=l,Tt.PureComponent=pt,Tt.StrictMode=s,Tt.Suspense=g,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return D.H.useMemoCache(V)}},Tt.cache=function(V){return function(){return V.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(V,$,nt){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var st=W({},V.props),vt=V.key;if($!=null)for(bt in $.key!==void 0&&(vt=""+$.key),$)!b.call($,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&$.ref===void 0||(st[bt]=$[bt]);var bt=arguments.length-2;if(bt===1)st.children=nt;else if(1<bt){for(var Pt=Array(bt),xe=0;xe<bt;xe++)Pt[xe]=arguments[xe+2];st.children=Pt}return w(V.type,vt,st)},Tt.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Tt.createElement=function(V,$,nt){var st,vt={},bt=null;if($!=null)for(st in $.key!==void 0&&(bt=""+$.key),$)b.call($,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(vt[st]=$[st]);var Pt=arguments.length-2;if(Pt===1)vt.children=nt;else if(1<Pt){for(var xe=Array(Pt),oe=0;oe<Pt;oe++)xe[oe]=arguments[oe+2];vt.children=xe}if(V&&V.defaultProps)for(st in Pt=V.defaultProps,Pt)vt[st]===void 0&&(vt[st]=Pt[st]);return w(V,bt,vt)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(V){return{$$typeof:p,render:V}},Tt.isValidElement=O,Tt.lazy=function(V){return{$$typeof:T,_payload:{_status:-1,_result:V},_init:ft}},Tt.memo=function(V,$){return{$$typeof:_,type:V,compare:$===void 0?null:$}},Tt.startTransition=function(V){var $=D.T,nt={};D.T=nt;try{var st=V(),vt=D.S;vt!==null&&vt(nt,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(Rt,zt)}catch(bt){zt(bt)}finally{$!==null&&nt.types!==null&&($.types=nt.types),D.T=$}},Tt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Tt.use=function(V){return D.H.use(V)},Tt.useActionState=function(V,$,nt){return D.H.useActionState(V,$,nt)},Tt.useCallback=function(V,$){return D.H.useCallback(V,$)},Tt.useContext=function(V){return D.H.useContext(V)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(V,$){return D.H.useDeferredValue(V,$)},Tt.useEffect=function(V,$){return D.H.useEffect(V,$)},Tt.useEffectEvent=function(V){return D.H.useEffectEvent(V)},Tt.useId=function(){return D.H.useId()},Tt.useImperativeHandle=function(V,$,nt){return D.H.useImperativeHandle(V,$,nt)},Tt.useInsertionEffect=function(V,$){return D.H.useInsertionEffect(V,$)},Tt.useLayoutEffect=function(V,$){return D.H.useLayoutEffect(V,$)},Tt.useMemo=function(V,$){return D.H.useMemo(V,$)},Tt.useOptimistic=function(V,$){return D.H.useOptimistic(V,$)},Tt.useReducer=function(V,$,nt){return D.H.useReducer(V,$,nt)},Tt.useRef=function(V){return D.H.useRef(V)},Tt.useState=function(V){return D.H.useState(V)},Tt.useSyncExternalStore=function(V,$,nt){return D.H.useSyncExternalStore(V,$,nt)},Tt.useTransition=function(){return D.H.useTransition()},Tt.version="19.2.1",Tt}var gv;function $m(){return gv||(gv=1,nm.exports=fS()),nm.exports}var It=$m();const Zr=uS(It);var im={exports:{}},Ml={},rm={exports:{}},sm={};var _v;function dS(){return _v||(_v=1,(function(r){function t(F,et){var ft=F.length;F.push(et);t:for(;0<ft;){var zt=ft-1>>>1,Qt=F[zt];if(0<l(Qt,et))F[zt]=et,F[ft]=Qt,ft=zt;else break t}}function n(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var et=F[0],ft=F.pop();if(ft!==et){F[0]=ft;t:for(var zt=0,Qt=F.length,V=Qt>>>1;zt<V;){var $=2*(zt+1)-1,nt=F[$],st=$+1,vt=F[st];if(0>l(nt,ft))st<Qt&&0>l(vt,nt)?(F[zt]=vt,F[st]=ft,zt=st):(F[zt]=nt,F[$]=ft,zt=$);else if(st<Qt&&0>l(vt,ft))F[zt]=vt,F[st]=ft,zt=st;else break t}}return et}function l(F,et){var ft=F.sortIndex-et.sortIndex;return ft!==0?ft:F.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();r.unstable_now=function(){return f.now()-p}}var g=[],_=[],T=1,S=null,C=3,q=!1,J=!1,W=!1,Y=!1,lt=typeof setTimeout=="function"?setTimeout:null,yt=typeof clearTimeout=="function"?clearTimeout:null,pt=typeof setImmediate<"u"?setImmediate:null;function Ft(F){for(var et=n(_);et!==null;){if(et.callback===null)s(_);else if(et.startTime<=F)s(_),et.sortIndex=et.expirationTime,t(g,et);else break;et=n(_)}}function ht(F){if(W=!1,Ft(F),!J)if(n(g)!==null)J=!0,Rt||(Rt=!0,k());else{var et=n(_);et!==null&&Me(ht,et.startTime-F)}}var Rt=!1,D=-1,b=5,w=-1;function M(){return Y?!0:!(r.unstable_now()-w<b)}function O(){if(Y=!1,Rt){var F=r.unstable_now();w=F;var et=!0;try{t:{J=!1,W&&(W=!1,yt(D),D=-1),q=!0;var ft=C;try{e:{for(Ft(F),S=n(g);S!==null&&!(S.expirationTime>F&&M());){var zt=S.callback;if(typeof zt=="function"){S.callback=null,C=S.priorityLevel;var Qt=zt(S.expirationTime<=F);if(F=r.unstable_now(),typeof Qt=="function"){S.callback=Qt,Ft(F),et=!0;break e}S===n(g)&&s(g),Ft(F)}else s(g);S=n(g)}if(S!==null)et=!0;else{var V=n(_);V!==null&&Me(ht,V.startTime-F),et=!1}}break t}finally{S=null,C=ft,q=!1}et=void 0}}finally{et?k():Rt=!1}}}var k;if(typeof pt=="function")k=function(){pt(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ae=R.port2;R.port1.onmessage=O,k=function(){ae.postMessage(null)}}else k=function(){lt(O,0)};function Me(F,et){D=lt(function(){F(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return C},r.unstable_next=function(F){switch(C){case 1:case 2:case 3:var et=3;break;default:et=C}var ft=C;C=et;try{return F()}finally{C=ft}},r.unstable_requestPaint=function(){Y=!0},r.unstable_runWithPriority=function(F,et){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ft=C;C=F;try{return et()}finally{C=ft}},r.unstable_scheduleCallback=function(F,et,ft){var zt=r.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?zt+ft:zt):ft=zt,F){case 1:var Qt=-1;break;case 2:Qt=250;break;case 5:Qt=1073741823;break;case 4:Qt=1e4;break;default:Qt=5e3}return Qt=ft+Qt,F={id:T++,callback:et,priorityLevel:F,startTime:ft,expirationTime:Qt,sortIndex:-1},ft>zt?(F.sortIndex=ft,t(_,F),n(g)===null&&F===n(_)&&(W?(yt(D),D=-1):W=!0,Me(ht,ft-zt))):(F.sortIndex=Qt,t(g,F),J||q||(J=!0,Rt||(Rt=!0,k()))),F},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(F){var et=C;return function(){var ft=C;C=et;try{return F.apply(this,arguments)}finally{C=ft}}}})(sm)),sm}var yv;function mS(){return yv||(yv=1,rm.exports=dS()),rm.exports}var am={exports:{}},Je={};var vv;function pS(){if(vv)return Je;vv=1;var r=$m();function t(g){var _="https://react.dev/errors/"+g;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(g,_,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:g,containerInfo:_,implementation:T}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,_){if(g==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Je.createPortal=function(g,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return u(g,_,null,T)},Je.flushSync=function(g){var _=f.T,T=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=_,s.p=T,s.d.f()}},Je.preconnect=function(g,_){typeof g=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(g,_))},Je.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Je.preinit=function(g,_){if(typeof g=="string"&&_&&typeof _.as=="string"){var T=_.as,S=p(T,_.crossOrigin),C=typeof _.integrity=="string"?_.integrity:void 0,q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?s.d.S(g,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:C,fetchPriority:q}):T==="script"&&s.d.X(g,{crossOrigin:S,integrity:C,fetchPriority:q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Je.preinitModule=function(g,_){if(typeof g=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=p(_.as,_.crossOrigin);s.d.M(g,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(g)},Je.preload=function(g,_){if(typeof g=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,S=p(T,_.crossOrigin);s.d.L(g,T,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Je.preloadModule=function(g,_){if(typeof g=="string")if(_){var T=p(_.as,_.crossOrigin);s.d.m(g,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(g)},Je.requestFormReset=function(g){s.d.r(g)},Je.unstable_batchedUpdates=function(g,_){return g(_)},Je.useFormState=function(g,_,T){return f.H.useFormState(g,_,T)},Je.useFormStatus=function(){return f.H.useHostTransitionStatus()},Je.version="19.2.1",Je}var Ev;function gS(){if(Ev)return am.exports;Ev=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),am.exports=pS(),am.exports}var Tv;function _S(){if(Tv)return Ml;Tv=1;var r=mS(),t=$m(),n=gS();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function p(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(u(e)!==e)throw Error(s(188))}function _(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,o=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),e;if(d===o)return g(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=d;else{for(var y=!1,E=h.child;E;){if(E===a){y=!0,a=h,o=d;break}if(E===o){y=!0,o=h,a=d;break}E=E.sibling}if(!y){for(E=d.child;E;){if(E===a){y=!0,a=d,o=h;break}if(E===o){y=!0,o=d,a=h;break}E=E.sibling}if(!y)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function T(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=T(e),i!==null)return i;e=e.sibling}return null}var S=Object.assign,C=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),lt=Symbol.for("react.profiler"),yt=Symbol.for("react.consumer"),pt=Symbol.for("react.context"),Ft=Symbol.for("react.forward_ref"),ht=Symbol.for("react.suspense"),Rt=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function ae(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case W:return"Fragment";case lt:return"Profiler";case Y:return"StrictMode";case ht:return"Suspense";case Rt:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case J:return"Portal";case pt:return e.displayName||"Context";case yt:return(e._context.displayName||"Context")+".Consumer";case Ft:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D:return i=e.displayName||null,i!==null?i:ae(e.type)||"Memo";case b:i=e._payload,e=e._init;try{return ae(e(i))}catch{}}return null}var Me=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},zt=[],Qt=-1;function V(e){return{current:e}}function $(e){0>Qt||(e.current=zt[Qt],zt[Qt]=null,Qt--)}function nt(e,i){Qt++,zt[Qt]=e.current,e.current=i}var st=V(null),vt=V(null),bt=V(null),Pt=V(null);function xe(e,i){switch(nt(bt,i),nt(vt,e),nt(st,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Py(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Py(i),e=Uy(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}$(st),nt(st,e)}function oe(){$(st),$(vt),$(bt)}function _s(e){e.memoizedState!==null&&nt(Pt,e);var i=st.current,a=Uy(i,e.type);i!==a&&(nt(vt,e),nt(st,a))}function la(e){vt.current===e&&($(st),$(vt)),Pt.current===e&&($(Pt),Cl._currentValue=ft)}var ua,ca;function ui(e){if(ua===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ua=i&&i[1]||"",ca=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ua+e+ca}var Co=!1;function ys(e,i){if(!e||Co)return"";Co=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var j=H}Reflect.construct(e,[],X)}else{try{X.call()}catch(H){j=H}e.call(X.prototype)}}else{try{throw Error()}catch(H){j=H}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&j&&typeof H.stack=="string")return[H.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),y=d[0],E=d[1];if(y&&E){var I=y.split(`
`),z=E.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===z.length)for(o=I.length-1,h=z.length-1;1<=o&&0<=h&&I[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==z[h]){var G=`
`+I[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{Co=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ui(a):""}function Do(e,i){switch(e.tag){case 26:case 27:case 5:return ui(e.type);case 16:return ui("Lazy");case 13:return e.child!==i&&i!==null?ui("Suspense Fallback"):ui("Suspense");case 19:return ui("SuspenseList");case 0:case 15:return ys(e.type,!1);case 11:return ys(e.type.render,!1);case 1:return ys(e.type,!0);case 31:return ui("Activity");default:return""}}function No(e){try{var i="",a=null;do i+=Do(e,a),a=e,e=e.return;while(e);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Ee=Object.prototype.hasOwnProperty,ke=r.unstable_scheduleCallback,mr=r.unstable_cancelCallback,nf=r.unstable_shouldYield,vu=r.unstable_requestPaint,rn=r.unstable_now,vs=r.unstable_getCurrentPriorityLevel,Oo=r.unstable_ImmediatePriority,Vo=r.unstable_UserBlockingPriority,pr=r.unstable_NormalPriority,rf=r.unstable_LowPriority,Eu=r.unstable_IdlePriority,Tu=r.log,Au=r.unstable_setDisableYieldValue,Kn=null,He=null;function Nn(e){if(typeof Tu=="function"&&Au(e),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(Kn,e)}catch{}}var de=Math.clz32?Math.clz32:bu,Su=Math.log,ha=Math.LN2;function bu(e){return e>>>=0,e===0?32:31-(Su(e)/ha|0)|0}var ci=256,Es=262144,Te=4194304;function hi(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function fi(e,i,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,d=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~d,o!==0?h=hi(o):(y&=E,y!==0?h=hi(y):a||(a=E&~e,a!==0&&(h=hi(a))))):(E=o&~d,E!==0?h=hi(E):y!==0?h=hi(y):a||(a=o&~e,a!==0&&(h=hi(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Yn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function sf(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wu(){var e=Te;return Te<<=1,(Te&62914560)===0&&(Te=4194304),e}function di(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function Ts(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function af(e,i,a,o,h,d){var y=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,I=e.expirationTimes,z=e.hiddenUpdates;for(a=y&~a;0<a;){var G=31-de(a),X=1<<G;E[G]=0,I[G]=-1;var j=z[G];if(j!==null)for(z[G]=null,G=0;G<j.length;G++){var H=j[G];H!==null&&(H.lane&=-536870913)}a&=~X}o!==0&&As(e,o,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(y&~i))}function As(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-de(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function Mo(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-de(a),h=1<<o;h&i|e[o]&i&&(e[o]|=i),a&=~h}}function xo(e,i){var a=i&-i;return a=(a&42)!==0?1:Ss(a),(a&(e.suspendedLanes|i))!==0?0:a}function Ss(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Li(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ru(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:av(e.type))}function Xn(e,i){var a=et.p;try{return et.p=e,i()}finally{et.p=a}}var $n=Math.random().toString(36).slice(2),Ae="__reactFiber$"+$n,Le="__reactProps$"+$n,mi="__reactContainer$"+$n,fa="__reactEvents$"+$n,of="__reactListeners$"+$n,Iu="__reactHandles$"+$n,Cu="__reactResources$"+$n,pi="__reactMarker$"+$n;function da(e){delete e[Ae],delete e[Le],delete e[fa],delete e[of],delete e[Iu]}function gi(e){var i=e[Ae];if(i)return i;for(var a=e.parentNode;a;){if(i=a[mi]||a[Ae]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=Gy(e);e!==null;){if(a=e[Ae])return a;e=Gy(e)}return i}e=a,a=e.parentNode}return null}function On(e){if(e=e[Ae]||e[mi]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function _n(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function _i(e){var i=e[Cu];return i||(i=e[Cu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Se(e){e[pi]=!0}var ko=new Set,Po={};function yi(e,i){vi(e,i),vi(e+"Capture",i)}function vi(e,i){for(Po[e]=i,e=0;e<i.length;e++)ko.add(i[e])}var Uo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lo={},zo={};function Du(e){return Ee.call(zo,e)?!0:Ee.call(Lo,e)?!1:Uo.test(e)?zo[e]=!0:(Lo[e]=!0,!1)}function ma(e,i,a){if(Du(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function yn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function be(e,i,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+o)}}function ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function gr(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function jo(e,i,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,d=o.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(y){a=""+y,d.call(this,y)}}),Object.defineProperty(e,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Kt(e){if(!e._valueTracker){var i=gr(e)?"checked":"value";e._valueTracker=jo(e,i,""+e[i])}}function bs(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=gr(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function Ei(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ws=/[\n"\\]/g;function ln(e){return e.replace(ws,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function pa(e,i,a,o,h,d,y,E){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),i!=null?y==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+ze(i)):e.value!==""+ze(i)&&(e.value=""+ze(i)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),i!=null?Bo(e,y,ze(i)):a!=null?Bo(e,y,ze(a)):o!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+ze(E):e.removeAttribute("name")}function Nu(e,i,a,o,h,d,y,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Kt(e);return}a=a!=null?""+ze(a):"",i=i!=null?""+ze(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),Kt(e)}function Bo(e,i,a){i==="number"&&Ei(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function _r(e,i,a,o){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+ze(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Ou(e,i,a){if(i!=null&&(i=""+ze(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+ze(a):""}function yr(e,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(Me(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=ze(i),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Kt(e)}function un(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var Vu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qo(e,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,a):typeof a!="number"||a===0||Vu.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Ho(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&qo(e,h,o)}else for(var d in i)i.hasOwnProperty(d)&&qo(e,d,i[d])}function ga(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _a(e){return vr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Zn(){}var Go=null;function Vn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Er=null,Ti=null;function Rs(e){var i=On(e);if(i&&(e=i.stateNode)){var a=e[Le]||null;t:switch(e=i.stateNode,i.type){case"input":if(pa(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ln(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var h=o[Le]||null;if(!h)throw Error(s(90));pa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===e.form&&bs(o)}break t;case"textarea":Ou(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&_r(e,!!a.multiple,i,!1)}}}var ya=!1;function Tr(e,i,a){if(ya)return e(i,a);ya=!0;try{var o=e(i);return o}finally{if(ya=!1,(Er!==null||Ti!==null)&&(Rc(),Er&&(i=Er,e=Ti,Ti=Er=null,Rs(i),e)))for(i=0;i<e.length;i++)Rs(e[i])}}function Jn(e,i){var a=e.stateNode;if(a===null)return null;var o=a[Le]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Is=!1;if(Mn)try{var Zt={};Object.defineProperty(Zt,"passive",{get:function(){Is=!0}}),window.addEventListener("test",Zt,Zt),window.removeEventListener("test",Zt,Zt)}catch{Is=!1}var Ai=null,Fo=null,Cs=null;function Qo(){if(Cs)return Cs;var e,i=Fo,a=i.length,o,h="value"in Ai?Ai.value:Ai.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var y=a-e;for(o=1;o<=y&&i[a-o]===h[d-o];o++);return Cs=h.slice(e,1<o?1-o:void 0)}function Ds(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function zi(){return!0}function Wn(){return!1}function Ge(e){function i(a,o,h,d,y){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?zi:Wn,this.isPropagationStopped=Wn,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=zi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=zi)},persist:function(){},isPersistent:zi}),i}var ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=Ge(ji),Ar=S({},ji,{view:0,detail:0}),Ko=Ge(Ar),Sr,va,bi,Ea=S({},Ar,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:br,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bi&&(bi&&e.type==="mousemove"?(Sr=e.screenX-bi.screenX,va=e.screenY-bi.screenY):va=Sr=0,bi=e),Sr)},movementY:function(e){return"movementY"in e?e.movementY:va}}),Yo=Ge(Ea),Ns=S({},Ea,{dataTransfer:0}),xu=Ge(Ns),ku=S({},Ar,{relatedTarget:0}),Os=Ge(ku),Xo=S({},ji,{animationName:0,elapsedTime:0,pseudoElement:0}),Pu=Ge(Xo),Ta=S({},ji,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Uu=Ge(Ta),Lu=S({},ji,{data:0}),wi=Ge(Lu),zu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ju={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qu(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Bu[e])?!!i[e]:!1}function br(){return qu}var sn=S({},Ar,{key:function(e){if(e.key){var i=zu[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Ds(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ju[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:br,charCode:function(e){return e.type==="keypress"?Ds(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ds(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Hu=Ge(sn),Gu=S({},Ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bi=Ge(Gu),c=S({},Ar,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:br}),m=Ge(c),v=S({},ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Ge(v),P=S({},Ea,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Ge(P),tt=S({},ji,{newState:0,oldState:0}),At=Ge(tt),me=[9,13,27,32],Ht=Mn&&"CompositionEvent"in window,le=null;Mn&&"documentMode"in document&&(le=document.documentMode);var xn=Mn&&"TextEvent"in window&&!le,Ri=Mn&&(!Ht||le&&8<le&&11>=le),ti=" ",ei=!1;function Vs(e,i){switch(e){case"keyup":return me.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Aa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Sa=!1;function M1(e,i){switch(e){case"compositionend":return Aa(i);case"keypress":return i.which!==32?null:(ei=!0,ti);case"textInput":return e=i.data,e===ti&&ei?null:e;default:return null}}function x1(e,i){if(Sa)return e==="compositionend"||!Ht&&Vs(e,i)?(e=Qo(),Cs=Fo=Ai=null,Sa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ri&&i.locale!=="ko"?null:i.data;default:return null}}var k1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kp(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!k1[e.type]:i==="textarea"}function Yp(e,i,a,o){Er?Ti?Ti.push(o):Ti=[o]:Er=o,i=Mc(i,"onChange"),0<i.length&&(a=new Si("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var $o=null,Zo=null;function P1(e){Ny(e,0)}function Fu(e){var i=_n(e);if(bs(i))return e}function Xp(e,i){if(e==="change")return i}var $p=!1;if(Mn){var lf;if(Mn){var uf="oninput"in document;if(!uf){var Zp=document.createElement("div");Zp.setAttribute("oninput","return;"),uf=typeof Zp.oninput=="function"}lf=uf}else lf=!1;$p=lf&&(!document.documentMode||9<document.documentMode)}function Jp(){$o&&($o.detachEvent("onpropertychange",Wp),Zo=$o=null)}function Wp(e){if(e.propertyName==="value"&&Fu(Zo)){var i=[];Yp(i,Zo,e,Vn(e)),Tr(P1,i)}}function U1(e,i,a){e==="focusin"?(Jp(),$o=i,Zo=a,$o.attachEvent("onpropertychange",Wp)):e==="focusout"&&Jp()}function L1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Fu(Zo)}function z1(e,i){if(e==="click")return Fu(i)}function j1(e,i){if(e==="input"||e==="change")return Fu(i)}function B1(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var vn=typeof Object.is=="function"?Object.is:B1;function Jo(e,i){if(vn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Ee.call(i,h)||!vn(e[h],i[h]))return!1}return!0}function tg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function eg(e,i){var a=tg(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=tg(a)}}function ng(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?ng(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function ig(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Ei(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Ei(e.document)}return i}function cf(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var q1=Mn&&"documentMode"in document&&11>=document.documentMode,ba=null,hf=null,Wo=null,ff=!1;function rg(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ff||ba==null||ba!==Ei(o)||(o=ba,"selectionStart"in o&&cf(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Wo&&Jo(Wo,o)||(Wo=o,o=Mc(hf,"onSelect"),0<o.length&&(i=new Si("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=ba)))}function Ms(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var wa={animationend:Ms("Animation","AnimationEnd"),animationiteration:Ms("Animation","AnimationIteration"),animationstart:Ms("Animation","AnimationStart"),transitionrun:Ms("Transition","TransitionRun"),transitionstart:Ms("Transition","TransitionStart"),transitioncancel:Ms("Transition","TransitionCancel"),transitionend:Ms("Transition","TransitionEnd")},df={},sg={};Mn&&(sg=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function xs(e){if(df[e])return df[e];if(!wa[e])return e;var i=wa[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in sg)return df[e]=i[a];return e}var ag=xs("animationend"),og=xs("animationiteration"),lg=xs("animationstart"),H1=xs("transitionrun"),G1=xs("transitionstart"),F1=xs("transitioncancel"),ug=xs("transitionend"),cg=new Map,mf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mf.push("scrollEnd");function ni(e,i){cg.set(e,i),yi(i,[e])}var Qu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},kn=[],Ra=0,pf=0;function Ku(){for(var e=Ra,i=pf=Ra=0;i<e;){var a=kn[i];kn[i++]=null;var o=kn[i];kn[i++]=null;var h=kn[i];kn[i++]=null;var d=kn[i];if(kn[i++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}d!==0&&hg(a,h,d)}}function Yu(e,i,a,o){kn[Ra++]=e,kn[Ra++]=i,kn[Ra++]=a,kn[Ra++]=o,pf|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function gf(e,i,a,o){return Yu(e,i,a,o),Xu(e)}function ks(e,i){return Yu(e,null,null,i),Xu(e)}function hg(e,i,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-de(a),e=d.hiddenUpdates,o=e[h],o===null?e[h]=[i]:o.push(i),i.lane=a|536870912),d):null}function Xu(e){if(50<Tl)throw Tl=0,wd=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Ia={};function Q1(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(e,i,a,o){return new Q1(e,i,a,o)}function _f(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qi(e,i){var a=e.alternate;return a===null?(a=En(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function fg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function $u(e,i,a,o,h,d){var y=0;if(o=e,typeof e=="function")_f(e)&&(y=1);else if(typeof e=="string")y=ZA(e,a,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=En(31,a,i,h),e.elementType=w,e.lanes=d,e;case W:return Ps(a.children,h,d,i);case Y:y=8,h|=24;break;case lt:return e=En(12,a,i,h|2),e.elementType=lt,e.lanes=d,e;case ht:return e=En(13,a,i,h),e.elementType=ht,e.lanes=d,e;case Rt:return e=En(19,a,i,h),e.elementType=Rt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pt:y=10;break t;case yt:y=9;break t;case Ft:y=11;break t;case D:y=14;break t;case b:y=16,o=null;break t}y=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return i=En(y,a,i,h),i.elementType=e,i.type=o,i.lanes=d,i}function Ps(e,i,a,o){return e=En(7,e,o,i),e.lanes=a,e}function yf(e,i,a){return e=En(6,e,null,i),e.lanes=a,e}function dg(e){var i=En(18,null,null,0);return i.stateNode=e,i}function vf(e,i,a){return i=En(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var mg=new WeakMap;function Pn(e,i){if(typeof e=="object"&&e!==null){var a=mg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:No(i)},mg.set(e,i),i)}return{value:e,source:i,stack:No(i)}}var Ca=[],Da=0,Zu=null,tl=0,Un=[],Ln=0,wr=null,Ii=1,Ci="";function Hi(e,i){Ca[Da++]=tl,Ca[Da++]=Zu,Zu=e,tl=i}function pg(e,i,a){Un[Ln++]=Ii,Un[Ln++]=Ci,Un[Ln++]=wr,wr=e;var o=Ii;e=Ci;var h=32-de(o)-1;o&=~(1<<h),a+=1;var d=32-de(i)+h;if(30<d){var y=h-h%5;d=(o&(1<<y)-1).toString(32),o>>=y,h-=y,Ii=1<<32-de(i)+h|a<<h|o,Ci=d+e}else Ii=1<<d|a<<h|o,Ci=e}function Ef(e){e.return!==null&&(Hi(e,1),pg(e,1,0))}function Tf(e){for(;e===Zu;)Zu=Ca[--Da],Ca[Da]=null,tl=Ca[--Da],Ca[Da]=null;for(;e===wr;)wr=Un[--Ln],Un[Ln]=null,Ci=Un[--Ln],Un[Ln]=null,Ii=Un[--Ln],Un[Ln]=null}function gg(e,i){Un[Ln++]=Ii,Un[Ln++]=Ci,Un[Ln++]=wr,Ii=i.id,Ci=i.overflow,wr=e}var Fe=null,ie=null,kt=!1,Rr=null,zn=!1,Af=Error(s(519));function Ir(e){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw el(Pn(i,e)),Af}function _g(e){var i=e.stateNode,a=e.type,o=e.memoizedProps;switch(i[Ae]=e,i[Le]=o,a){case"dialog":Dt("cancel",i),Dt("close",i);break;case"iframe":case"object":case"embed":Dt("load",i);break;case"video":case"audio":for(a=0;a<Sl.length;a++)Dt(Sl[a],i);break;case"source":Dt("error",i);break;case"img":case"image":case"link":Dt("error",i),Dt("load",i);break;case"details":Dt("toggle",i);break;case"input":Dt("invalid",i),Nu(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Dt("invalid",i);break;case"textarea":Dt("invalid",i),yr(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||xy(i.textContent,a)?(o.popover!=null&&(Dt("beforetoggle",i),Dt("toggle",i)),o.onScroll!=null&&Dt("scroll",i),o.onScrollEnd!=null&&Dt("scrollend",i),o.onClick!=null&&(i.onclick=Zn),i=!0):i=!1,i||Ir(e,!0)}function yg(e){for(Fe=e.return;Fe;)switch(Fe.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:Fe=Fe.return}}function Na(e){if(e!==Fe)return!1;if(!kt)return yg(e),kt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||jd(e.type,e.memoizedProps)),a=!a),a&&ie&&Ir(e),yg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ie=Hy(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ie=Hy(e)}else i===27?(i=ie,Br(e.type)?(e=Fd,Fd=null,ie=e):ie=i):ie=Fe?Bn(e.stateNode.nextSibling):null;return!0}function Us(){ie=Fe=null,kt=!1}function Sf(){var e=Rr;return e!==null&&(dn===null?dn=e:dn.push.apply(dn,e),Rr=null),e}function el(e){Rr===null?Rr=[e]:Rr.push(e)}var bf=V(null),Ls=null,Gi=null;function Cr(e,i,a){nt(bf,i._currentValue),i._currentValue=a}function Fi(e){e._currentValue=bf.current,$(bf)}function wf(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function Rf(e,i,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var y=h.child;d=d.firstContext;t:for(;d!==null;){var E=d;d=h;for(var I=0;I<i.length;I++)if(E.context===i[I]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),wf(d.return,a,e),o||(y=null);break t}d=E.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(s(341));y.lanes|=a,d=y.alternate,d!==null&&(d.lanes|=a),wf(y,a,e),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===e){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function Oa(e,i,a,o){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var E=h.type;vn(h.pendingProps.value,y.value)||(e!==null?e.push(E):e=[E])}}else if(h===Pt.current){if(y=h.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Cl):e=[Cl])}h=h.return}e!==null&&Rf(i,e,a,o),i.flags|=262144}function Ju(e){for(e=e.firstContext;e!==null;){if(!vn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function zs(e){Ls=e,Gi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Qe(e){return vg(Ls,e)}function Wu(e,i){return Ls===null&&zs(e),vg(e,i)}function vg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Gi===null){if(e===null)throw Error(s(308));Gi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Gi=Gi.next=i;return a}var K1=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},Y1=r.unstable_scheduleCallback,X1=r.unstable_NormalPriority,we={$$typeof:pt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function If(){return{controller:new K1,data:new Map,refCount:0}}function nl(e){e.refCount--,e.refCount===0&&Y1(X1,function(){e.controller.abort()})}var il=null,Cf=0,Va=0,Ma=null;function $1(e,i){if(il===null){var a=il=[];Cf=0,Va=Od(),Ma={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Cf++,i.then(Eg,Eg),i}function Eg(){if(--Cf===0&&il!==null){Ma!==null&&(Ma.status="fulfilled");var e=il;il=null,Va=0,Ma=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function Z1(e,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Tg=F.S;F.S=function(e,i){ry=rn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&$1(e,i),Tg!==null&&Tg(e,i)};var js=V(null);function Df(){var e=js.current;return e!==null?e:ne.pooledCache}function tc(e,i){i===null?nt(js,js.current):nt(js,i.pool)}function Ag(){var e=Df();return e===null?null:{parent:we._currentValue,pool:e}}var xa=Error(s(460)),Nf=Error(s(474)),ec=Error(s(542)),nc={then:function(){}};function Sg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function bg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Zn,Zn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Rg(e),e;default:if(typeof i.status=="string")i.then(Zn,Zn);else{if(e=ne,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Rg(e),e}throw qs=i,xa}}function Bs(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(qs=a,xa):a}}var qs=null;function wg(){if(qs===null)throw Error(s(459));var e=qs;return qs=null,e}function Rg(e){if(e===xa||e===ec)throw Error(s(483))}var ka=null,rl=0;function ic(e){var i=rl;return rl+=1,ka===null&&(ka=[]),bg(ka,e,i)}function sl(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function rc(e,i){throw i.$$typeof===C?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Ig(e){function i(x,N){if(e){var U=x.deletions;U===null?(x.deletions=[N],x.flags|=16):U.push(N)}}function a(x,N){if(!e)return null;for(;N!==null;)i(x,N),N=N.sibling;return null}function o(x){for(var N=new Map;x!==null;)x.key!==null?N.set(x.key,x):N.set(x.index,x),x=x.sibling;return N}function h(x,N){return x=qi(x,N),x.index=0,x.sibling=null,x}function d(x,N,U){return x.index=U,e?(U=x.alternate,U!==null?(U=U.index,U<N?(x.flags|=67108866,N):U):(x.flags|=67108866,N)):(x.flags|=1048576,N)}function y(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function E(x,N,U,Q){return N===null||N.tag!==6?(N=yf(U,x.mode,Q),N.return=x,N):(N=h(N,U),N.return=x,N)}function I(x,N,U,Q){var ct=U.type;return ct===W?G(x,N,U.props.children,Q,U.key):N!==null&&(N.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===b&&Bs(ct)===N.type)?(N=h(N,U.props),sl(N,U),N.return=x,N):(N=$u(U.type,U.key,U.props,null,x.mode,Q),sl(N,U),N.return=x,N)}function z(x,N,U,Q){return N===null||N.tag!==4||N.stateNode.containerInfo!==U.containerInfo||N.stateNode.implementation!==U.implementation?(N=vf(U,x.mode,Q),N.return=x,N):(N=h(N,U.children||[]),N.return=x,N)}function G(x,N,U,Q,ct){return N===null||N.tag!==7?(N=Ps(U,x.mode,Q,ct),N.return=x,N):(N=h(N,U),N.return=x,N)}function X(x,N,U){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=yf(""+N,x.mode,U),N.return=x,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case q:return U=$u(N.type,N.key,N.props,null,x.mode,U),sl(U,N),U.return=x,U;case J:return N=vf(N,x.mode,U),N.return=x,N;case b:return N=Bs(N),X(x,N,U)}if(Me(N)||k(N))return N=Ps(N,x.mode,U,null),N.return=x,N;if(typeof N.then=="function")return X(x,ic(N),U);if(N.$$typeof===pt)return X(x,Wu(x,N),U);rc(x,N)}return null}function j(x,N,U,Q){var ct=N!==null?N.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ct!==null?null:E(x,N,""+U,Q);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case q:return U.key===ct?I(x,N,U,Q):null;case J:return U.key===ct?z(x,N,U,Q):null;case b:return U=Bs(U),j(x,N,U,Q)}if(Me(U)||k(U))return ct!==null?null:G(x,N,U,Q,null);if(typeof U.then=="function")return j(x,N,ic(U),Q);if(U.$$typeof===pt)return j(x,N,Wu(x,U),Q);rc(x,U)}return null}function H(x,N,U,Q,ct){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return x=x.get(U)||null,E(N,x,""+Q,ct);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case q:return x=x.get(Q.key===null?U:Q.key)||null,I(N,x,Q,ct);case J:return x=x.get(Q.key===null?U:Q.key)||null,z(N,x,Q,ct);case b:return Q=Bs(Q),H(x,N,U,Q,ct)}if(Me(Q)||k(Q))return x=x.get(U)||null,G(N,x,Q,ct,null);if(typeof Q.then=="function")return H(x,N,U,ic(Q),ct);if(Q.$$typeof===pt)return H(x,N,U,Wu(N,Q),ct);rc(N,Q)}return null}function at(x,N,U,Q){for(var ct=null,jt=null,ot=N,wt=N=0,Ot=null;ot!==null&&wt<U.length;wt++){ot.index>wt?(Ot=ot,ot=null):Ot=ot.sibling;var Bt=j(x,ot,U[wt],Q);if(Bt===null){ot===null&&(ot=Ot);break}e&&ot&&Bt.alternate===null&&i(x,ot),N=d(Bt,N,wt),jt===null?ct=Bt:jt.sibling=Bt,jt=Bt,ot=Ot}if(wt===U.length)return a(x,ot),kt&&Hi(x,wt),ct;if(ot===null){for(;wt<U.length;wt++)ot=X(x,U[wt],Q),ot!==null&&(N=d(ot,N,wt),jt===null?ct=ot:jt.sibling=ot,jt=ot);return kt&&Hi(x,wt),ct}for(ot=o(ot);wt<U.length;wt++)Ot=H(ot,x,wt,U[wt],Q),Ot!==null&&(e&&Ot.alternate!==null&&ot.delete(Ot.key===null?wt:Ot.key),N=d(Ot,N,wt),jt===null?ct=Ot:jt.sibling=Ot,jt=Ot);return e&&ot.forEach(function(Qr){return i(x,Qr)}),kt&&Hi(x,wt),ct}function mt(x,N,U,Q){if(U==null)throw Error(s(151));for(var ct=null,jt=null,ot=N,wt=N=0,Ot=null,Bt=U.next();ot!==null&&!Bt.done;wt++,Bt=U.next()){ot.index>wt?(Ot=ot,ot=null):Ot=ot.sibling;var Qr=j(x,ot,Bt.value,Q);if(Qr===null){ot===null&&(ot=Ot);break}e&&ot&&Qr.alternate===null&&i(x,ot),N=d(Qr,N,wt),jt===null?ct=Qr:jt.sibling=Qr,jt=Qr,ot=Ot}if(Bt.done)return a(x,ot),kt&&Hi(x,wt),ct;if(ot===null){for(;!Bt.done;wt++,Bt=U.next())Bt=X(x,Bt.value,Q),Bt!==null&&(N=d(Bt,N,wt),jt===null?ct=Bt:jt.sibling=Bt,jt=Bt);return kt&&Hi(x,wt),ct}for(ot=o(ot);!Bt.done;wt++,Bt=U.next())Bt=H(ot,x,wt,Bt.value,Q),Bt!==null&&(e&&Bt.alternate!==null&&ot.delete(Bt.key===null?wt:Bt.key),N=d(Bt,N,wt),jt===null?ct=Bt:jt.sibling=Bt,jt=Bt);return e&&ot.forEach(function(lS){return i(x,lS)}),kt&&Hi(x,wt),ct}function te(x,N,U,Q){if(typeof U=="object"&&U!==null&&U.type===W&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case q:t:{for(var ct=U.key;N!==null;){if(N.key===ct){if(ct=U.type,ct===W){if(N.tag===7){a(x,N.sibling),Q=h(N,U.props.children),Q.return=x,x=Q;break t}}else if(N.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===b&&Bs(ct)===N.type){a(x,N.sibling),Q=h(N,U.props),sl(Q,U),Q.return=x,x=Q;break t}a(x,N);break}else i(x,N);N=N.sibling}U.type===W?(Q=Ps(U.props.children,x.mode,Q,U.key),Q.return=x,x=Q):(Q=$u(U.type,U.key,U.props,null,x.mode,Q),sl(Q,U),Q.return=x,x=Q)}return y(x);case J:t:{for(ct=U.key;N!==null;){if(N.key===ct)if(N.tag===4&&N.stateNode.containerInfo===U.containerInfo&&N.stateNode.implementation===U.implementation){a(x,N.sibling),Q=h(N,U.children||[]),Q.return=x,x=Q;break t}else{a(x,N);break}else i(x,N);N=N.sibling}Q=vf(U,x.mode,Q),Q.return=x,x=Q}return y(x);case b:return U=Bs(U),te(x,N,U,Q)}if(Me(U))return at(x,N,U,Q);if(k(U)){if(ct=k(U),typeof ct!="function")throw Error(s(150));return U=ct.call(U),mt(x,N,U,Q)}if(typeof U.then=="function")return te(x,N,ic(U),Q);if(U.$$typeof===pt)return te(x,N,Wu(x,U),Q);rc(x,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,N!==null&&N.tag===6?(a(x,N.sibling),Q=h(N,U),Q.return=x,x=Q):(a(x,N),Q=yf(U,x.mode,Q),Q.return=x,x=Q),y(x)):a(x,N)}return function(x,N,U,Q){try{rl=0;var ct=te(x,N,U,Q);return ka=null,ct}catch(ot){if(ot===xa||ot===ec)throw ot;var jt=En(29,ot,null,x.mode);return jt.lanes=Q,jt.return=x,jt}finally{}}}var Hs=Ig(!0),Cg=Ig(!1),Dr=!1;function Of(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Nr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Or(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Gt&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=Xu(e),hg(e,null,a),i}return Yu(e,o,i,a),Xu(e)}function al(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,Mo(e,a)}}function Mf(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=y:d=d.next=y,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var xf=!1;function ol(){if(xf){var e=Ma;if(e!==null)throw e}}function ll(e,i,a,o){xf=!1;var h=e.updateQueue;Dr=!1;var d=h.firstBaseUpdate,y=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,z=I.next;I.next=null,y===null?d=z:y.next=z,y=I;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==y&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=I))}if(d!==null){var X=h.baseState;y=0,G=z=I=null,E=d;do{var j=E.lane&-536870913,H=j!==E.lane;if(H?(Nt&j)===j:(o&j)===j){j!==0&&j===Va&&(xf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=e,mt=E;j=i;var te=a;switch(mt.tag){case 1:if(at=mt.payload,typeof at=="function"){X=at.call(te,X,j);break t}X=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=mt.payload,j=typeof at=="function"?at.call(te,X,j):at,j==null)break t;X=S({},X,j);break t;case 2:Dr=!0}}j=E.callback,j!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[j]:H.push(j))}else H={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=H,I=X):G=G.next=H,y|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(I=X),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=G,d===null&&(h.shared.lanes=0),Pr|=y,e.lanes=y,e.memoizedState=X}}function Dg(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Ng(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Dg(a[e],i)}var Pa=V(null),sc=V(0);function Og(e,i){e=tr,nt(sc,e),nt(Pa,i),tr=e|i.baseLanes}function kf(){nt(sc,tr),nt(Pa,Pa.current)}function Pf(){tr=sc.current,$(Pa),$(sc)}var Tn=V(null),jn=null;function Vr(e){var i=e.alternate;nt(pe,pe.current&1),nt(Tn,e),jn===null&&(i===null||Pa.current!==null||i.memoizedState!==null)&&(jn=e)}function Uf(e){nt(pe,pe.current),nt(Tn,e),jn===null&&(jn=e)}function Vg(e){e.tag===22?(nt(pe,pe.current),nt(Tn,e),jn===null&&(jn=e)):Mr()}function Mr(){nt(pe,pe.current),nt(Tn,Tn.current)}function An(e){$(Tn),jn===e&&(jn=null),$(pe)}var pe=V(0);function ac(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Hd(a)||Gd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Qi=0,St=null,Jt=null,Re=null,oc=!1,Ua=!1,Gs=!1,lc=0,ul=0,La=null,J1=0;function he(){throw Error(s(321))}function Lf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!vn(e[a],i[a]))return!1;return!0}function zf(e,i,a,o,h,d){return Qi=d,St=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=e===null||e.memoizedState===null?p_:td,Gs=!1,d=a(o,h),Gs=!1,Ua&&(d=xg(i,a,o,h)),Mg(e),d}function Mg(e){F.H=fl;var i=Jt!==null&&Jt.next!==null;if(Qi=0,Re=Jt=St=null,oc=!1,ul=0,La=null,i)throw Error(s(300));e===null||Ie||(e=e.dependencies,e!==null&&Ju(e)&&(Ie=!0))}function xg(e,i,a,o){St=e;var h=0;do{if(Ua&&(La=null),ul=0,Ua=!1,25<=h)throw Error(s(301));if(h+=1,Re=Jt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}F.H=g_,d=i(a,o)}while(Ua);return d}function W1(){var e=F.H,i=e.useState()[0];return i=typeof i.then=="function"?cl(i):i,e=e.useState()[0],(Jt!==null?Jt.memoizedState:null)!==e&&(St.flags|=1024),i}function jf(){var e=lc!==0;return lc=0,e}function Bf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function qf(e){if(oc){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}oc=!1}Qi=0,Re=Jt=St=null,Ua=!1,ul=lc=0,La=null}function an(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?St.memoizedState=Re=e:Re=Re.next=e,Re}function ge(){if(Jt===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=Jt.next;var i=Re===null?St.memoizedState:Re.next;if(i!==null)Re=i,Jt=e;else{if(e===null)throw St.alternate===null?Error(s(467)):Error(s(310));Jt=e,e={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Re===null?St.memoizedState=Re=e:Re=Re.next=e}return Re}function uc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cl(e){var i=ul;return ul+=1,La===null&&(La=[]),e=bg(La,e,i),i=St,(Re===null?i.memoizedState:Re.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?p_:td),e}function cc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return cl(e);if(e.$$typeof===pt)return Qe(e)}throw Error(s(438,String(e)))}function Hf(e){var i=null,a=St.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=St.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=uc(),St.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),o=0;o<e;o++)a[o]=M;return i.index++,a}function Ki(e,i){return typeof i=="function"?i(e):i}function hc(e){var i=ge();return Gf(i,Jt,e)}function Gf(e,i,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,d=o.pending;if(d!==null){if(h!==null){var y=h.next;h.next=d.next,d.next=y}i.baseQueue=h=d,o.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var E=y=null,I=null,z=i,G=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(Nt&X)===X:(Qi&X)===X){var j=z.revertLane;if(j===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===Va&&(G=!0);else if((Qi&j)===j){z=z.next,j===Va&&(G=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=X,y=d):I=I.next=X,St.lanes|=j,Pr|=j;X=z.action,Gs&&a(d,X),d=z.hasEagerState?z.eagerState:a(d,X)}else j={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=j,y=d):I=I.next=j,St.lanes|=X,Pr|=X;z=z.next}while(z!==null&&z!==i);if(I===null?y=d:I.next=E,!vn(d,e.memoizedState)&&(Ie=!0,G&&(a=Ma,a!==null)))throw a;e.memoizedState=d,e.baseState=y,e.baseQueue=I,o.lastRenderedState=d}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Ff(e){var i=ge(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do d=e(d,y.action),y=y.next;while(y!==h);vn(d,i.memoizedState)||(Ie=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,o]}function kg(e,i,a){var o=St,h=ge(),d=kt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var y=!vn((Jt||h).memoizedState,a);if(y&&(h.memoizedState=a,Ie=!0),h=h.queue,Yf(Lg.bind(null,o,h,e),[e]),h.getSnapshot!==i||y||Re!==null&&Re.memoizedState.tag&1){if(o.flags|=2048,za(9,{destroy:void 0},Ug.bind(null,o,h,a,i),null),ne===null)throw Error(s(349));d||(Qi&127)!==0||Pg(o,i,a)}return a}function Pg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=St.updateQueue,i===null?(i=uc(),St.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Ug(e,i,a,o){i.value=a,i.getSnapshot=o,zg(i)&&jg(e)}function Lg(e,i,a){return a(function(){zg(i)&&jg(e)})}function zg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!vn(e,a)}catch{return!0}}function jg(e){var i=ks(e,2);i!==null&&mn(i,e,2)}function Qf(e){var i=an();if(typeof e=="function"){var a=e;if(e=a(),Gs){Nn(!0);try{a()}finally{Nn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:e},i}function Bg(e,i,a,o){return e.baseState=a,Gf(e,Jt,typeof o=="function"?o:Ki)}function tA(e,i,a,o,h){if(mc(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){d.listeners.push(y)}};F.T!==null?a(!0):d.isTransition=!1,o(d),a=i.pending,a===null?(d.next=i.pending=d,qg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function qg(e,i){var a=i.action,o=i.payload,h=e.state;if(i.isTransition){var d=F.T,y={};F.T=y;try{var E=a(h,o),I=F.S;I!==null&&I(y,E),Hg(e,i,E)}catch(z){Kf(e,i,z)}finally{d!==null&&y.types!==null&&(d.types=y.types),F.T=d}}else try{d=a(h,o),Hg(e,i,d)}catch(z){Kf(e,i,z)}}function Hg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Gg(e,i,o)},function(o){return Kf(e,i,o)}):Gg(e,i,a)}function Gg(e,i,a){i.status="fulfilled",i.value=a,Fg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,qg(e,a)))}function Kf(e,i,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,Fg(i),i=i.next;while(i!==o)}e.action=null}function Fg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Qg(e,i){return i}function Kg(e,i){if(kt){var a=ne.formState;if(a!==null){t:{var o=St;if(kt){if(ie){e:{for(var h=ie,d=zn;h.nodeType!==8;){if(!d){h=null;break e}if(h=Bn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ie=Bn(h.nextSibling),o=h.data==="F!";break t}}Ir(o)}o=!1}o&&(i=a[0])}}return a=an(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qg,lastRenderedState:i},a.queue=o,a=f_.bind(null,St,o),o.dispatch=a,o=Qf(!1),d=Wf.bind(null,St,!1,o.queue),o=an(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,a=tA.bind(null,St,h,d,a),h.dispatch=a,o.memoizedState=e,[i,a,!1]}function Yg(e){var i=ge();return Xg(i,Jt,e)}function Xg(e,i,a){if(i=Gf(e,i,Qg)[0],e=hc(Ki)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=cl(i)}catch(y){throw y===xa?ec:y}else o=i;i=ge();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(St.flags|=2048,za(9,{destroy:void 0},eA.bind(null,h,a),null)),[o,d,e]}function eA(e,i){e.action=i}function $g(e){var i=ge(),a=Jt;if(a!==null)return Xg(i,a,e);ge(),i=i.memoizedState,a=ge();var o=a.queue.dispatch;return a.memoizedState=e,[i,o,!1]}function za(e,i,a,o){return e={tag:e,create:a,deps:o,inst:i,next:null},i=St.updateQueue,i===null&&(i=uc(),St.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e),e}function Zg(){return ge().memoizedState}function fc(e,i,a,o){var h=an();St.flags|=e,h.memoizedState=za(1|i,{destroy:void 0},a,o===void 0?null:o)}function dc(e,i,a,o){var h=ge();o=o===void 0?null:o;var d=h.memoizedState.inst;Jt!==null&&o!==null&&Lf(o,Jt.memoizedState.deps)?h.memoizedState=za(i,d,a,o):(St.flags|=e,h.memoizedState=za(1|i,d,a,o))}function Jg(e,i){fc(8390656,8,e,i)}function Yf(e,i){dc(2048,8,e,i)}function nA(e){St.flags|=4;var i=St.updateQueue;if(i===null)i=uc(),St.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function Wg(e){var i=ge().memoizedState;return nA({ref:i,nextImpl:e}),function(){if((Gt&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function t_(e,i){return dc(4,2,e,i)}function e_(e,i){return dc(4,4,e,i)}function n_(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function i_(e,i,a){a=a!=null?a.concat([e]):null,dc(4,4,n_.bind(null,i,e),a)}function Xf(){}function r_(e,i){var a=ge();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&Lf(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function s_(e,i){var a=ge();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&Lf(i,o[1]))return o[0];if(o=e(),Gs){Nn(!0);try{e()}finally{Nn(!1)}}return a.memoizedState=[o,i],o}function $f(e,i,a){return a===void 0||(Qi&1073741824)!==0&&(Nt&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=ay(),St.lanes|=e,Pr|=e,a)}function a_(e,i,a,o){return vn(a,i)?a:Pa.current!==null?(e=$f(e,a,o),vn(e,i)||(Ie=!0),e):(Qi&42)===0||(Qi&1073741824)!==0&&(Nt&261930)===0?(Ie=!0,e.memoizedState=a):(e=ay(),St.lanes|=e,Pr|=e,i)}function o_(e,i,a,o,h){var d=et.p;et.p=d!==0&&8>d?d:8;var y=F.T,E={};F.T=E,Wf(e,!1,i,a);try{var I=h(),z=F.S;if(z!==null&&z(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var G=Z1(I,o);hl(e,i,G,wn(e))}else hl(e,i,o,wn(e))}catch(X){hl(e,i,{then:function(){},status:"rejected",reason:X},wn())}finally{et.p=d,y!==null&&E.types!==null&&(y.types=E.types),F.T=y}}function iA(){}function Zf(e,i,a,o){if(e.tag!==5)throw Error(s(476));var h=l_(e).queue;o_(e,h,i,ft,a===null?iA:function(){return u_(e),a(o)})}function l_(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:ft},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function u_(e){var i=l_(e);i.next===null&&(i=e.alternate.memoizedState),hl(e,i.next.queue,{},wn())}function Jf(){return Qe(Cl)}function c_(){return ge().memoizedState}function h_(){return ge().memoizedState}function rA(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=wn();e=Nr(a);var o=Or(i,e,a);o!==null&&(mn(o,i,a),al(o,i,a)),i={cache:If()},e.payload=i;return}i=i.return}}function sA(e,i,a){var o=wn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},mc(e)?d_(i,a):(a=gf(e,i,a,o),a!==null&&(mn(a,e,o),m_(a,i,o)))}function f_(e,i,a){var o=wn();hl(e,i,a,o)}function hl(e,i,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(mc(e))d_(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var y=i.lastRenderedState,E=d(y,a);if(h.hasEagerState=!0,h.eagerState=E,vn(E,y))return Yu(e,i,h,0),ne===null&&Ku(),!1}catch{}finally{}if(a=gf(e,i,h,o),a!==null)return mn(a,e,o),m_(a,i,o),!0}return!1}function Wf(e,i,a,o){if(o={lane:2,revertLane:Od(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},mc(e)){if(i)throw Error(s(479))}else i=gf(e,a,o,2),i!==null&&mn(i,e,2)}function mc(e){var i=e.alternate;return e===St||i!==null&&i===St}function d_(e,i){Ua=oc=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function m_(e,i,a){if((a&4194048)!==0){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,Mo(e,a)}}var fl={readContext:Qe,use:cc,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he};fl.useEffectEvent=he;var p_={readContext:Qe,use:cc,useCallback:function(e,i){return an().memoizedState=[e,i===void 0?null:i],e},useContext:Qe,useEffect:Jg,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,fc(4194308,4,n_.bind(null,i,e),a)},useLayoutEffect:function(e,i){return fc(4194308,4,e,i)},useInsertionEffect:function(e,i){fc(4,2,e,i)},useMemo:function(e,i){var a=an();i=i===void 0?null:i;var o=e();if(Gs){Nn(!0);try{e()}finally{Nn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(e,i,a){var o=an();if(a!==void 0){var h=a(i);if(Gs){Nn(!0);try{a(i)}finally{Nn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=sA.bind(null,St,e),[o.memoizedState,e]},useRef:function(e){var i=an();return e={current:e},i.memoizedState=e},useState:function(e){e=Qf(e);var i=e.queue,a=f_.bind(null,St,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Xf,useDeferredValue:function(e,i){var a=an();return $f(a,e,i)},useTransition:function(){var e=Qf(!1);return e=o_.bind(null,St,e.queue,!0,!1),an().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var o=St,h=an();if(kt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),ne===null)throw Error(s(349));(Nt&127)!==0||Pg(o,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Jg(Lg.bind(null,o,d,e),[e]),o.flags|=2048,za(9,{destroy:void 0},Ug.bind(null,o,d,a,i),null),a},useId:function(){var e=an(),i=ne.identifierPrefix;if(kt){var a=Ci,o=Ii;a=(o&~(1<<32-de(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=lc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=J1++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Jf,useFormState:Kg,useActionState:Kg,useOptimistic:function(e){var i=an();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Wf.bind(null,St,!0,a),a.dispatch=i,[e,i]},useMemoCache:Hf,useCacheRefresh:function(){return an().memoizedState=rA.bind(null,St)},useEffectEvent:function(e){var i=an(),a={impl:e};return i.memoizedState=a,function(){if((Gt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},td={readContext:Qe,use:cc,useCallback:r_,useContext:Qe,useEffect:Yf,useImperativeHandle:i_,useInsertionEffect:t_,useLayoutEffect:e_,useMemo:s_,useReducer:hc,useRef:Zg,useState:function(){return hc(Ki)},useDebugValue:Xf,useDeferredValue:function(e,i){var a=ge();return a_(a,Jt.memoizedState,e,i)},useTransition:function(){var e=hc(Ki)[0],i=ge().memoizedState;return[typeof e=="boolean"?e:cl(e),i]},useSyncExternalStore:kg,useId:c_,useHostTransitionStatus:Jf,useFormState:Yg,useActionState:Yg,useOptimistic:function(e,i){var a=ge();return Bg(a,Jt,e,i)},useMemoCache:Hf,useCacheRefresh:h_};td.useEffectEvent=Wg;var g_={readContext:Qe,use:cc,useCallback:r_,useContext:Qe,useEffect:Yf,useImperativeHandle:i_,useInsertionEffect:t_,useLayoutEffect:e_,useMemo:s_,useReducer:Ff,useRef:Zg,useState:function(){return Ff(Ki)},useDebugValue:Xf,useDeferredValue:function(e,i){var a=ge();return Jt===null?$f(a,e,i):a_(a,Jt.memoizedState,e,i)},useTransition:function(){var e=Ff(Ki)[0],i=ge().memoizedState;return[typeof e=="boolean"?e:cl(e),i]},useSyncExternalStore:kg,useId:c_,useHostTransitionStatus:Jf,useFormState:$g,useActionState:$g,useOptimistic:function(e,i){var a=ge();return Jt!==null?Bg(a,Jt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Hf,useCacheRefresh:h_};g_.useEffectEvent=Wg;function ed(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:S({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var nd={enqueueSetState:function(e,i,a){e=e._reactInternals;var o=wn(),h=Nr(o);h.payload=i,a!=null&&(h.callback=a),i=Or(e,h,o),i!==null&&(mn(i,e,o),al(i,e,o))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=wn(),h=Nr(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Or(e,h,o),i!==null&&(mn(i,e,o),al(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=wn(),o=Nr(a);o.tag=2,i!=null&&(o.callback=i),i=Or(e,o,a),i!==null&&(mn(i,e,a),al(i,e,a))}};function __(e,i,a,o,h,d,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,y):i.prototype&&i.prototype.isPureReactComponent?!Jo(a,o)||!Jo(h,d):!0}function y_(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&nd.enqueueReplaceState(i,i.state,null)}function Fs(e,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(e=e.defaultProps){a===i&&(a=S({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function v_(e){Qu(e)}function E_(e){console.error(e)}function T_(e){Qu(e)}function pc(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function A_(e,i,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function id(e,i,a){return a=Nr(a),a.tag=3,a.payload={element:null},a.callback=function(){pc(e,i)},a}function S_(e){return e=Nr(e),e.tag=3,e}function b_(e,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;e.payload=function(){return h(d)},e.callback=function(){A_(i,a,o)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){A_(i,a,o),typeof h!="function"&&(Ur===null?Ur=new Set([this]):Ur.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function aA(e,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Oa(i,a,h,!0),a=Tn.current,a!==null){switch(a.tag){case 31:case 13:return jn===null?Ic():a.alternate===null&&fe===0&&(fe=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===nc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),Cd(e,o,h)),!1;case 22:return a.flags|=65536,o===nc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),Cd(e,o,h)),!1}throw Error(s(435,a.tag))}return Cd(e,o,h),Ic(),!1}if(kt)return i=Tn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==Af&&(e=Error(s(422),{cause:o}),el(Pn(e,a)))):(o!==Af&&(i=Error(s(423),{cause:o}),el(Pn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Pn(o,a),h=id(e.stateNode,o,h),Mf(e,h),fe!==4&&(fe=2)),!1;var d=Error(s(520),{cause:o});if(d=Pn(d,a),El===null?El=[d]:El.push(d),fe!==4&&(fe=2),i===null)return!0;o=Pn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=id(a.stateNode,o,e),Mf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ur===null||!Ur.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=S_(h),b_(h,e,a,o),Mf(a,h),!1}a=a.return}while(a!==null);return!1}var rd=Error(s(461)),Ie=!1;function Ke(e,i,a,o){i.child=e===null?Cg(i,null,a,o):Hs(i,e.child,a,o)}function w_(e,i,a,o,h){a=a.render;var d=i.ref;if("ref"in o){var y={};for(var E in o)E!=="ref"&&(y[E]=o[E])}else y=o;return zs(i),o=zf(e,i,a,y,d,h),E=jf(),e!==null&&!Ie?(Bf(e,i,h),Yi(e,i,h)):(kt&&E&&Ef(i),i.flags|=1,Ke(e,i,o,h),i.child)}function R_(e,i,a,o,h){if(e===null){var d=a.type;return typeof d=="function"&&!_f(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,I_(e,i,d,o,h)):(e=$u(a.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!fd(e,h)){var y=d.memoizedProps;if(a=a.compare,a=a!==null?a:Jo,a(y,o)&&e.ref===i.ref)return Yi(e,i,h)}return i.flags|=1,e=qi(d,o),e.ref=i.ref,e.return=i,i.child=e}function I_(e,i,a,o,h){if(e!==null){var d=e.memoizedProps;if(Jo(d,o)&&e.ref===i.ref)if(Ie=!1,i.pendingProps=o=d,fd(e,h))(e.flags&131072)!==0&&(Ie=!0);else return i.lanes=e.lanes,Yi(e,i,h)}return sd(e,i,a,o,h)}function C_(e,i,a,o){var h=o.children,d=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(o=i.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~d}else o=0,i.child=null;return D_(e,i,d,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&tc(i,d!==null?d.cachePool:null),d!==null?Og(i,d):kf(),Vg(i);else return o=i.lanes=536870912,D_(e,i,d!==null?d.baseLanes|a:a,a,o)}else d!==null?(tc(i,d.cachePool),Og(i,d),Mr(),i.memoizedState=null):(e!==null&&tc(i,null),kf(),Mr());return Ke(e,i,h,a),i.child}function dl(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function D_(e,i,a,o,h){var d=Df();return d=d===null?null:{parent:we._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},e!==null&&tc(i,null),kf(),Vg(i),e!==null&&Oa(e,i,o,!0),i.childLanes=h,null}function gc(e,i){return i=yc({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function N_(e,i,a){return Hs(i,e.child,null,a),e=gc(i,i.pendingProps),e.flags|=2,An(i),i.memoizedState=null,e}function oA(e,i,a){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(kt){if(o.mode==="hidden")return e=gc(i,o),i.lanes=536870912,dl(null,e);if(Uf(i),(e=ie)?(e=qy(e,zn),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:wr!==null?{id:Ii,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},a=dg(e),a.return=i,i.child=a,Fe=i,ie=null)):e=null,e===null)throw Ir(i);return i.lanes=536870912,null}return gc(i,o)}var d=e.memoizedState;if(d!==null){var y=d.dehydrated;if(Uf(i),h)if(i.flags&256)i.flags&=-257,i=N_(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(s(558));else if(Ie||Oa(e,i,a,!1),h=(a&e.childLanes)!==0,Ie||h){if(o=ne,o!==null&&(y=xo(o,a),y!==0&&y!==d.retryLane))throw d.retryLane=y,ks(e,y),mn(o,e,y),rd;Ic(),i=N_(e,i,a)}else e=d.treeContext,ie=Bn(y.nextSibling),Fe=i,kt=!0,Rr=null,zn=!1,e!==null&&gg(i,e),i=gc(i,o),i.flags|=4096;return i}return e=qi(e.child,{mode:o.mode,children:o.children}),e.ref=i.ref,i.child=e,e.return=i,e}function _c(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function sd(e,i,a,o,h){return zs(i),a=zf(e,i,a,o,void 0,h),o=jf(),e!==null&&!Ie?(Bf(e,i,h),Yi(e,i,h)):(kt&&o&&Ef(i),i.flags|=1,Ke(e,i,a,h),i.child)}function O_(e,i,a,o,h,d){return zs(i),i.updateQueue=null,a=xg(i,o,a,h),Mg(e),o=jf(),e!==null&&!Ie?(Bf(e,i,d),Yi(e,i,d)):(kt&&o&&Ef(i),i.flags|=1,Ke(e,i,a,d),i.child)}function V_(e,i,a,o,h){if(zs(i),i.stateNode===null){var d=Ia,y=a.contextType;typeof y=="object"&&y!==null&&(d=Qe(y)),d=new a(o,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=nd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=o,d.state=i.memoizedState,d.refs={},Of(i),y=a.contextType,d.context=typeof y=="object"&&y!==null?Qe(y):Ia,d.state=i.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(ed(i,a,y,o),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(y=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),y!==d.state&&nd.enqueueReplaceState(d,d.state,null),ll(i,o,d,h),ol(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){d=i.stateNode;var E=i.memoizedProps,I=Fs(a,E);d.props=I;var z=d.context,G=a.contextType;y=Ia,typeof G=="object"&&G!==null&&(y=Qe(G));var X=a.getDerivedStateFromProps;G=typeof X=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,G||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||z!==y)&&y_(i,d,o,y),Dr=!1;var j=i.memoizedState;d.state=j,ll(i,o,d,h),ol(),z=i.memoizedState,E||j!==z||Dr?(typeof X=="function"&&(ed(i,a,X,o),z=i.memoizedState),(I=Dr||__(i,a,I,o,j,z,y))?(G||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=z),d.props=o,d.state=z,d.context=y,o=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{d=i.stateNode,Vf(e,i),y=i.memoizedProps,G=Fs(a,y),d.props=G,X=i.pendingProps,j=d.context,z=a.contextType,I=Ia,typeof z=="object"&&z!==null&&(I=Qe(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y!==X||j!==I)&&y_(i,d,o,I),Dr=!1,j=i.memoizedState,d.state=j,ll(i,o,d,h),ol();var H=i.memoizedState;y!==X||j!==H||Dr||e!==null&&e.dependencies!==null&&Ju(e.dependencies)?(typeof E=="function"&&(ed(i,a,E,o),H=i.memoizedState),(G=Dr||__(i,a,G,o,j,H,I)||e!==null&&e.dependencies!==null&&Ju(e.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,H,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,H,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=H),d.props=o,d.state=H,d.context=I,o=G):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),o=!1)}return d=o,_c(e,i),o=(i.flags&128)!==0,d||o?(d=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&o?(i.child=Hs(i,e.child,null,h),i.child=Hs(i,null,a,h)):Ke(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Yi(e,i,h),e}function M_(e,i,a,o){return Us(),i.flags|=256,Ke(e,i,a,o),i.child}var ad={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function od(e){return{baseLanes:e,cachePool:Ag()}}function ld(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=bn),e}function x_(e,i,a){var o=i.pendingProps,h=!1,d=(i.flags&128)!==0,y;if((y=d)||(y=e!==null&&e.memoizedState===null?!1:(pe.current&2)!==0),y&&(h=!0,i.flags&=-129),y=(i.flags&32)!==0,i.flags&=-33,e===null){if(kt){if(h?Vr(i):Mr(),(e=ie)?(e=qy(e,zn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:wr!==null?{id:Ii,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},a=dg(e),a.return=i,i.child=a,Fe=i,ie=null)):e=null,e===null)throw Ir(i);return Gd(e)?i.lanes=32:i.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Mr(),h=i.mode,E=yc({mode:"hidden",children:E},h),o=Ps(o,h,a,null),E.return=i,o.return=i,E.sibling=o,i.child=E,o=i.child,o.memoizedState=od(a),o.childLanes=ld(e,y,a),i.memoizedState=ad,dl(null,o)):(Vr(i),ud(i,E))}var I=e.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(d)i.flags&256?(Vr(i),i.flags&=-257,i=cd(e,i,a)):i.memoizedState!==null?(Mr(),i.child=e.child,i.flags|=128,i=null):(Mr(),E=o.fallback,h=i.mode,o=yc({mode:"visible",children:o.children},h),E=Ps(E,h,a,null),E.flags|=2,o.return=i,E.return=i,o.sibling=E,i.child=o,Hs(i,e.child,null,a),o=i.child,o.memoizedState=od(a),o.childLanes=ld(e,y,a),i.memoizedState=ad,i=dl(null,o));else if(Vr(i),Gd(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var z=y.dgst;y=z,o=Error(s(419)),o.stack="",o.digest=y,el({value:o,source:null,stack:null}),i=cd(e,i,a)}else if(Ie||Oa(e,i,a,!1),y=(a&e.childLanes)!==0,Ie||y){if(y=ne,y!==null&&(o=xo(y,a),o!==0&&o!==I.retryLane))throw I.retryLane=o,ks(e,o),mn(y,e,o),rd;Hd(E)||Ic(),i=cd(e,i,a)}else Hd(E)?(i.flags|=192,i.child=e.child,i=null):(e=I.treeContext,ie=Bn(E.nextSibling),Fe=i,kt=!0,Rr=null,zn=!1,e!==null&&gg(i,e),i=ud(i,o.children),i.flags|=4096);return i}return h?(Mr(),E=o.fallback,h=i.mode,I=e.child,z=I.sibling,o=qi(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,z!==null?E=qi(z,E):(E=Ps(E,h,a,null),E.flags|=2),E.return=i,o.return=i,o.sibling=E,i.child=o,dl(null,o),o=i.child,E=e.child.memoizedState,E===null?E=od(a):(h=E.cachePool,h!==null?(I=we._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Ag(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=ld(e,y,a),i.memoizedState=ad,dl(e.child,o)):(Vr(i),a=e.child,e=a.sibling,a=qi(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,e!==null&&(y=i.deletions,y===null?(i.deletions=[e],i.flags|=16):y.push(e)),i.child=a,i.memoizedState=null,a)}function ud(e,i){return i=yc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function yc(e,i){return e=En(22,e,null,i),e.lanes=0,e}function cd(e,i,a){return Hs(i,e.child,null,a),e=ud(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function k_(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),wf(e.return,i,a)}function hd(e,i,a,o,h,d){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:d}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=a,y.tailMode=h,y.treeForkCount=d)}function P_(e,i,a){var o=i.pendingProps,h=o.revealOrder,d=o.tail;o=o.children;var y=pe.current,E=(y&2)!==0;if(E?(y=y&1|2,i.flags|=128):y&=1,nt(pe,y),Ke(e,i,o,a),o=kt?tl:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&k_(e,a,i);else if(e.tag===19)k_(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&ac(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),hd(i,!1,h,a,d,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&ac(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}hd(i,!0,a,null,d,o);break;case"together":hd(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function Yi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Pr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Oa(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=qi(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=qi(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function fd(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Ju(e)))}function lA(e,i,a){switch(i.tag){case 3:xe(i,i.stateNode.containerInfo),Cr(i,we,e.memoizedState.cache),Us();break;case 27:case 5:_s(i);break;case 4:xe(i,i.stateNode.containerInfo);break;case 10:Cr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Uf(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Vr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?x_(e,i,a):(Vr(i),e=Yi(e,i,a),e!==null?e.sibling:null);Vr(i);break;case 19:var h=(e.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Oa(e,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return P_(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(pe,pe.current),o)break;return null;case 22:return i.lanes=0,C_(e,i,a,i.pendingProps);case 24:Cr(i,we,e.memoizedState.cache)}return Yi(e,i,a)}function U_(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Ie=!0;else{if(!fd(e,a)&&(i.flags&128)===0)return Ie=!1,lA(e,i,a);Ie=(e.flags&131072)!==0}else Ie=!1,kt&&(i.flags&1048576)!==0&&pg(i,tl,i.index);switch(i.lanes=0,i.tag){case 16:t:{var o=i.pendingProps;if(e=Bs(i.elementType),i.type=e,typeof e=="function")_f(e)?(o=Fs(e,o),i.tag=1,i=V_(null,i,e,o,a)):(i.tag=0,i=sd(null,i,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===Ft){i.tag=11,i=w_(null,i,e,o,a);break t}else if(h===D){i.tag=14,i=R_(null,i,e,o,a);break t}}throw i=ae(e)||e,Error(s(306,i,""))}}return i;case 0:return sd(e,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=Fs(o,i.pendingProps),V_(e,i,o,h,a);case 3:t:{if(xe(i,i.stateNode.containerInfo),e===null)throw Error(s(387));o=i.pendingProps;var d=i.memoizedState;h=d.element,Vf(e,i),ll(i,o,null,a);var y=i.memoizedState;if(o=y.cache,Cr(i,we,o),o!==d.cache&&Rf(i,[we],a,!0),ol(),o=y.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:y.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=M_(e,i,o,a);break t}else if(o!==h){h=Pn(Error(s(424)),i),el(h),i=M_(e,i,o,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ie=Bn(e.firstChild),Fe=i,kt=!0,Rr=null,zn=!0,a=Cg(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Us(),o===h){i=Yi(e,i,a);break t}Ke(e,i,o,a)}i=i.child}return i;case 26:return _c(e,i),e===null?(a=Yy(i.type,null,i.pendingProps,null))?i.memoizedState=a:kt||(a=i.type,e=i.pendingProps,o=xc(bt.current).createElement(a),o[Ae]=i,o[Le]=e,Ye(o,a,e),Se(o),i.stateNode=o):i.memoizedState=Yy(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return _s(i),e===null&&kt&&(o=i.stateNode=Fy(i.type,i.pendingProps,bt.current),Fe=i,zn=!0,h=ie,Br(i.type)?(Fd=h,ie=Bn(o.firstChild)):ie=h),Ke(e,i,i.pendingProps.children,a),_c(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&kt&&((h=o=ie)&&(o=LA(o,i.type,i.pendingProps,zn),o!==null?(i.stateNode=o,Fe=i,ie=Bn(o.firstChild),zn=!1,h=!0):h=!1),h||Ir(i)),_s(i),h=i.type,d=i.pendingProps,y=e!==null?e.memoizedProps:null,o=d.children,jd(h,d)?o=null:y!==null&&jd(h,y)&&(i.flags|=32),i.memoizedState!==null&&(h=zf(e,i,W1,null,null,a),Cl._currentValue=h),_c(e,i),Ke(e,i,o,a),i.child;case 6:return e===null&&kt&&((e=a=ie)&&(a=zA(a,i.pendingProps,zn),a!==null?(i.stateNode=a,Fe=i,ie=null,e=!0):e=!1),e||Ir(i)),null;case 13:return x_(e,i,a);case 4:return xe(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=Hs(i,null,o,a):Ke(e,i,o,a),i.child;case 11:return w_(e,i,i.type,i.pendingProps,a);case 7:return Ke(e,i,i.pendingProps,a),i.child;case 8:return Ke(e,i,i.pendingProps.children,a),i.child;case 12:return Ke(e,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,Cr(i,i.type,o.value),Ke(e,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,zs(i),h=Qe(h),o=o(h),i.flags|=1,Ke(e,i,o,a),i.child;case 14:return R_(e,i,i.type,i.pendingProps,a);case 15:return I_(e,i,i.type,i.pendingProps,a);case 19:return P_(e,i,a);case 31:return oA(e,i,a);case 22:return C_(e,i,a,i.pendingProps);case 24:return zs(i),o=Qe(we),e===null?(h=Df(),h===null&&(h=ne,d=If(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:o,cache:h},Of(i),Cr(i,we,h)):((e.lanes&a)!==0&&(Vf(e,i),ll(i,null,null,a),ol()),h=e.memoizedState,d=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Cr(i,we,o)):(o=d.cache,Cr(i,we,o),o!==h.cache&&Rf(i,[we],a,!0))),Ke(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Xi(e){e.flags|=4}function dd(e,i,a,o,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(cy())e.flags|=8192;else throw qs=nc,Nf}else e.flags&=-16777217}function L_(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Wy(i))if(cy())e.flags|=8192;else throw qs=nc,Nf}function vc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?wu():536870912,e.lanes|=i,Ha|=i)}function ml(e,i){if(!kt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function re(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function uA(e,i,a){var o=i.pendingProps;switch(Tf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(i),null;case 1:return re(i),null;case 3:return a=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Fi(we),oe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Na(i)?Xi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Sf())),re(i),null;case 26:var h=i.type,d=i.memoizedState;return e===null?(Xi(i),d!==null?(re(i),L_(i,d)):(re(i),dd(i,h,null,o,a))):d?d!==e.memoizedState?(Xi(i),re(i),L_(i,d)):(re(i),i.flags&=-16777217):(e=e.memoizedProps,e!==o&&Xi(i),re(i),dd(i,h,e,o,a)),null;case 27:if(la(i),a=bt.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Xi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return re(i),null}e=st.current,Na(i)?_g(i):(e=Fy(h,o,a),i.stateNode=e,Xi(i))}return re(i),null;case 5:if(la(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Xi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return re(i),null}if(d=st.current,Na(i))_g(i);else{var y=xc(bt.current);switch(d){case 1:d=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=y.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?d.multiple=!0:o.size&&(d.size=o.size);break;default:d=typeof o.is=="string"?y.createElement(h,{is:o.is}):y.createElement(h)}}d[Ae]=i,d[Le]=o;t:for(y=i.child;y!==null;){if(y.tag===5||y.tag===6)d.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===i)break t;for(;y.sibling===null;){if(y.return===null||y.return===i)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}i.stateNode=d;t:switch(Ye(d,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Xi(i)}}return re(i),dd(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&Xi(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(e=bt.current,Na(i)){if(e=i.stateNode,a=i.memoizedProps,o=null,h=Fe,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ae]=i,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||xy(e.nodeValue,a)),e||Ir(i,!0)}else e=xc(e).createTextNode(o),e[Ae]=i,i.stateNode=e}return re(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(o=Na(i),a!==null){if(e===null){if(!o)throw Error(s(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Ae]=i}else Us(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;re(i),e=!1}else a=Sf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(An(i),i):(An(i),null);if((i.flags&128)!==0)throw Error(s(558))}return re(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Na(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ae]=i}else Us(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;re(i),h=!1}else h=Sf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(An(i),i):(An(i),null)}return An(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),vc(i,i.updateQueue),re(i),null);case 4:return oe(),e===null&&kd(i.stateNode.containerInfo),re(i),null;case 10:return Fi(i.type),re(i),null;case 19:if($(pe),o=i.memoizedState,o===null)return re(i),null;if(h=(i.flags&128)!==0,d=o.rendering,d===null)if(h)ml(o,!1);else{if(fe!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=ac(e),d!==null){for(i.flags|=128,ml(o,!1),e=d.updateQueue,i.updateQueue=e,vc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)fg(a,e),a=a.sibling;return nt(pe,pe.current&1|2),kt&&Hi(i,o.treeForkCount),i.child}e=e.sibling}o.tail!==null&&rn()>bc&&(i.flags|=128,h=!0,ml(o,!1),i.lanes=4194304)}else{if(!h)if(e=ac(d),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,vc(i,e),ml(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!kt)return re(i),null}else 2*rn()-o.renderingStartTime>bc&&a!==536870912&&(i.flags|=128,h=!0,ml(o,!1),i.lanes=4194304);o.isBackwards?(d.sibling=i.child,i.child=d):(e=o.last,e!==null?e.sibling=d:i.child=d,o.last=d)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=rn(),e.sibling=null,a=pe.current,nt(pe,h?a&1|2:a&1),kt&&Hi(i,o.treeForkCount),e):(re(i),null);case 22:case 23:return An(i),Pf(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(re(i),i.subtreeFlags&6&&(i.flags|=8192)):re(i),a=i.updateQueue,a!==null&&vc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),e!==null&&$(js),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Fi(we),re(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function cA(e,i){switch(Tf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Fi(we),oe(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return la(i),null;case 31:if(i.memoizedState!==null){if(An(i),i.alternate===null)throw Error(s(340));Us()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(An(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Us()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return $(pe),null;case 4:return oe(),null;case 10:return Fi(i.type),null;case 22:case 23:return An(i),Pf(),e!==null&&$(js),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Fi(we),null;case 25:return null;default:return null}}function z_(e,i){switch(Tf(i),i.tag){case 3:Fi(we),oe();break;case 26:case 27:case 5:la(i);break;case 4:oe();break;case 31:i.memoizedState!==null&&An(i);break;case 13:An(i);break;case 19:$(pe);break;case 10:Fi(i.type);break;case 22:case 23:An(i),Pf(),e!==null&&$(js);break;case 24:Fi(we)}}function pl(e,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var d=a.create,y=a.inst;o=d(),y.destroy=o}a=a.next}while(a!==h)}}catch(E){Xt(i,i.return,E)}}function xr(e,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&e)===e){var y=o.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,h=i;var I=a,z=E;try{z()}catch(G){Xt(h,I,G)}}}o=o.next}while(o!==d)}}catch(G){Xt(i,i.return,G)}}function j_(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Ng(i,a)}catch(o){Xt(e,e.return,o)}}}function B_(e,i,a){a.props=Fs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Xt(e,i,o)}}function gl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Xt(e,i,h)}}function Di(e,i){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Xt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Xt(e,i,h)}else a.current=null}function q_(e){var i=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Xt(e,e.return,h)}}function md(e,i,a){try{var o=e.stateNode;VA(o,e.type,a,i),o[Le]=i}catch(h){Xt(e,e.return,h)}}function H_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Br(e.type)||e.tag===4}function pd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||H_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Br(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gd(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Zn));else if(o!==4&&(o===27&&Br(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(gd(e,i,a),e=e.sibling;e!==null;)gd(e,i,a),e=e.sibling}function Ec(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&(o===27&&Br(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ec(e,i,a),e=e.sibling;e!==null;)Ec(e,i,a),e=e.sibling}function G_(e){var i=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ye(i,o,a),i[Ae]=e,i[Le]=a}catch(d){Xt(e,e.return,d)}}var $i=!1,Ce=!1,_d=!1,F_=typeof WeakSet=="function"?WeakSet:Set,je=null;function hA(e,i){if(e=e.containerInfo,Ld=Bc,e=ig(e),cf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var y=0,E=-1,I=-1,z=0,G=0,X=e,j=null;e:for(;;){for(var H;X!==a||h!==0&&X.nodeType!==3||(E=y+h),X!==d||o!==0&&X.nodeType!==3||(I=y+o),X.nodeType===3&&(y+=X.nodeValue.length),(H=X.firstChild)!==null;)j=X,X=H;for(;;){if(X===e)break e;if(j===a&&++z===h&&(E=y),j===d&&++G===o&&(I=y),(H=X.nextSibling)!==null)break;X=j,j=X.parentNode}X=H}a=E===-1||I===-1?null:{start:E,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(zd={focusedElem:e,selectionRange:a},Bc=!1,je=i;je!==null;)if(i=je,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,je=e;else for(;je!==null;){switch(i=je,d=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var at=Fs(a.type,h);e=o.getSnapshotBeforeUpdate(at,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(mt){Xt(a,a.return,mt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)qd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":qd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,je=e;break}je=i.return}}function Q_(e,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Ji(e,a),o&4&&pl(5,a);break;case 1:if(Ji(e,a),o&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(y){Xt(a,a.return,y)}else{var h=Fs(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Xt(a,a.return,y)}}o&64&&j_(a),o&512&&gl(a,a.return);break;case 3:if(Ji(e,a),o&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Ng(e,i)}catch(y){Xt(a,a.return,y)}}break;case 27:i===null&&o&4&&G_(a);case 26:case 5:Ji(e,a),i===null&&o&4&&q_(a),o&512&&gl(a,a.return);break;case 12:Ji(e,a);break;case 31:Ji(e,a),o&4&&X_(e,a);break;case 13:Ji(e,a),o&4&&$_(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=EA.bind(null,a),jA(e,a))));break;case 22:if(o=a.memoizedState!==null||$i,!o){i=i!==null&&i.memoizedState!==null||Ce,h=$i;var d=Ce;$i=o,(Ce=i)&&!d?Wi(e,a,(a.subtreeFlags&8772)!==0):Ji(e,a),$i=h,Ce=d}break;case 30:break;default:Ji(e,a)}}function K_(e){var i=e.alternate;i!==null&&(e.alternate=null,K_(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&da(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ue=null,cn=!1;function Zi(e,i,a){for(a=a.child;a!==null;)Y_(e,i,a),a=a.sibling}function Y_(e,i,a){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(Kn,a)}catch{}switch(a.tag){case 26:Ce||Di(a,i),Zi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ce||Di(a,i);var o=ue,h=cn;Br(a.type)&&(ue=a.stateNode,cn=!1),Zi(e,i,a),wl(a.stateNode),ue=o,cn=h;break;case 5:Ce||Di(a,i);case 6:if(o=ue,h=cn,ue=null,Zi(e,i,a),ue=o,cn=h,ue!==null)if(cn)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(a.stateNode)}catch(d){Xt(a,i,d)}else try{ue.removeChild(a.stateNode)}catch(d){Xt(a,i,d)}break;case 18:ue!==null&&(cn?(e=ue,jy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Za(e)):jy(ue,a.stateNode));break;case 4:o=ue,h=cn,ue=a.stateNode.containerInfo,cn=!0,Zi(e,i,a),ue=o,cn=h;break;case 0:case 11:case 14:case 15:xr(2,a,i),Ce||xr(4,a,i),Zi(e,i,a);break;case 1:Ce||(Di(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&B_(a,i,o)),Zi(e,i,a);break;case 21:Zi(e,i,a);break;case 22:Ce=(o=Ce)||a.memoizedState!==null,Zi(e,i,a),Ce=o;break;default:Zi(e,i,a)}}function X_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Za(e)}catch(a){Xt(i,i.return,a)}}}function $_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Za(e)}catch(a){Xt(i,i.return,a)}}function fA(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new F_),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new F_),i;default:throw Error(s(435,e.tag))}}function Tc(e,i){var a=fA(e);i.forEach(function(o){if(!a.has(o)){a.add(o);var h=TA.bind(null,e,o);o.then(h,h)}})}function hn(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],d=e,y=i,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(Br(E.type)){ue=E.stateNode,cn=!1;break t}break;case 5:ue=E.stateNode,cn=!1;break t;case 3:case 4:ue=E.stateNode.containerInfo,cn=!0;break t}E=E.return}if(ue===null)throw Error(s(160));Y_(d,y,h),ue=null,cn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Z_(i,e),i=i.sibling}var ii=null;function Z_(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hn(i,e),fn(e),o&4&&(xr(3,e,e.return),pl(3,e),xr(5,e,e.return));break;case 1:hn(i,e),fn(e),o&512&&(Ce||a===null||Di(a,a.return)),o&64&&$i&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=ii;if(hn(i,e),fn(e),o&512&&(Ce||a===null||Di(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[pi]||d[Ae]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),Ye(d,o,a),d[Ae]=e,Se(d),o=d;break t;case"link":var y=Zy("link","href",h).get(o+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(d=y[E],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break e}}d=h.createElement(o),Ye(d,o,a),h.head.appendChild(d);break;case"meta":if(y=Zy("meta","content",h).get(o+(a.content||""))){for(E=0;E<y.length;E++)if(d=y[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break e}}d=h.createElement(o),Ye(d,o,a),h.head.appendChild(d);break;default:throw Error(s(468,o))}d[Ae]=e,Se(d),o=d}e.stateNode=o}else Jy(h,e.type,e.stateNode);else e.stateNode=$y(h,o,e.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?Jy(h,e.type,e.stateNode):$y(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&md(e,e.memoizedProps,a.memoizedProps)}break;case 27:hn(i,e),fn(e),o&512&&(Ce||a===null||Di(a,a.return)),a!==null&&o&4&&md(e,e.memoizedProps,a.memoizedProps);break;case 5:if(hn(i,e),fn(e),o&512&&(Ce||a===null||Di(a,a.return)),e.flags&32){h=e.stateNode;try{un(h,"")}catch(at){Xt(e,e.return,at)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,md(e,h,a!==null?a.memoizedProps:h)),o&1024&&(_d=!0);break;case 6:if(hn(i,e),fn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(at){Xt(e,e.return,at)}}break;case 3:if(Uc=null,h=ii,ii=kc(i.containerInfo),hn(i,e),ii=h,fn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Za(i.containerInfo)}catch(at){Xt(e,e.return,at)}_d&&(_d=!1,J_(e));break;case 4:o=ii,ii=kc(e.stateNode.containerInfo),hn(i,e),fn(e),ii=o;break;case 12:hn(i,e),fn(e);break;case 31:hn(i,e),fn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Tc(e,o)));break;case 13:hn(i,e),fn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Sc=rn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Tc(e,o)));break;case 22:h=e.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,z=$i,G=Ce;if($i=z||h,Ce=G||I,hn(i,e),Ce=G,$i=z,fn(e),o&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||I||$i||Ce||Qs(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(d=I.stateNode,h)y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=I.stateNode;var X=I.memoizedProps.style,j=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(at){Xt(I,I.return,at)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(at){Xt(I,I.return,at)}}}else if(i.tag===18){if(a===null){I=i;try{var H=I.stateNode;h?By(H,!0):By(I.stateNode,!1)}catch(at){Xt(I,I.return,at)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Tc(e,a))));break;case 19:hn(i,e),fn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Tc(e,o)));break;case 30:break;case 21:break;default:hn(i,e),fn(e)}}function fn(e){var i=e.flags;if(i&2){try{for(var a,o=e.return;o!==null;){if(H_(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=pd(e);Ec(e,d,h);break;case 5:var y=a.stateNode;a.flags&32&&(un(y,""),a.flags&=-33);var E=pd(e);Ec(e,E,y);break;case 3:case 4:var I=a.stateNode.containerInfo,z=pd(e);gd(e,z,I);break;default:throw Error(s(161))}}catch(G){Xt(e,e.return,G)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function J_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;J_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Ji(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Q_(e,i.alternate,i),i=i.sibling}function Qs(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:xr(4,i,i.return),Qs(i);break;case 1:Di(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&B_(i,i.return,a),Qs(i);break;case 27:wl(i.stateNode);case 26:case 5:Di(i,i.return),Qs(i);break;case 22:i.memoizedState===null&&Qs(i);break;case 30:Qs(i);break;default:Qs(i)}e=e.sibling}}function Wi(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,d=i,y=d.flags;switch(d.tag){case 0:case 11:case 15:Wi(h,d,a),pl(4,d);break;case 1:if(Wi(h,d,a),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Xt(o,o.return,z)}if(o=d,h=o.updateQueue,h!==null){var E=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Dg(I[h],E)}catch(z){Xt(o,o.return,z)}}a&&y&64&&j_(d),gl(d,d.return);break;case 27:G_(d);case 26:case 5:Wi(h,d,a),a&&o===null&&y&4&&q_(d),gl(d,d.return);break;case 12:Wi(h,d,a);break;case 31:Wi(h,d,a),a&&y&4&&X_(h,d);break;case 13:Wi(h,d,a),a&&y&4&&$_(h,d);break;case 22:d.memoizedState===null&&Wi(h,d,a),gl(d,d.return);break;case 30:break;default:Wi(h,d,a)}i=i.sibling}}function yd(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&nl(a))}function vd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&nl(e))}function ri(e,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)W_(e,i,a,o),i=i.sibling}function W_(e,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ri(e,i,a,o),h&2048&&pl(9,i);break;case 1:ri(e,i,a,o);break;case 3:ri(e,i,a,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&nl(e)));break;case 12:if(h&2048){ri(e,i,a,o),e=i.stateNode;try{var d=i.memoizedProps,y=d.id,E=d.onPostCommit;typeof E=="function"&&E(y,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Xt(i,i.return,I)}}else ri(e,i,a,o);break;case 31:ri(e,i,a,o);break;case 13:ri(e,i,a,o);break;case 23:break;case 22:d=i.stateNode,y=i.alternate,i.memoizedState!==null?d._visibility&2?ri(e,i,a,o):_l(e,i):d._visibility&2?ri(e,i,a,o):(d._visibility|=2,ja(e,i,a,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&yd(y,i);break;case 24:ri(e,i,a,o),h&2048&&vd(i.alternate,i);break;default:ri(e,i,a,o)}}function ja(e,i,a,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=e,y=i,E=a,I=o,z=y.flags;switch(y.tag){case 0:case 11:case 15:ja(d,y,E,I,h),pl(8,y);break;case 23:break;case 22:var G=y.stateNode;y.memoizedState!==null?G._visibility&2?ja(d,y,E,I,h):_l(d,y):(G._visibility|=2,ja(d,y,E,I,h)),h&&z&2048&&yd(y.alternate,y);break;case 24:ja(d,y,E,I,h),h&&z&2048&&vd(y.alternate,y);break;default:ja(d,y,E,I,h)}i=i.sibling}}function _l(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,o=i,h=o.flags;switch(o.tag){case 22:_l(a,o),h&2048&&yd(o.alternate,o);break;case 24:_l(a,o),h&2048&&vd(o.alternate,o);break;default:_l(a,o)}i=i.sibling}}var yl=8192;function Ba(e,i,a){if(e.subtreeFlags&yl)for(e=e.child;e!==null;)ty(e,i,a),e=e.sibling}function ty(e,i,a){switch(e.tag){case 26:Ba(e,i,a),e.flags&yl&&e.memoizedState!==null&&JA(a,ii,e.memoizedState,e.memoizedProps);break;case 5:Ba(e,i,a);break;case 3:case 4:var o=ii;ii=kc(e.stateNode.containerInfo),Ba(e,i,a),ii=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=yl,yl=16777216,Ba(e,i,a),yl=o):Ba(e,i,a));break;default:Ba(e,i,a)}}function ey(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function vl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];je=o,iy(o,e)}ey(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ny(e),e=e.sibling}function ny(e){switch(e.tag){case 0:case 11:case 15:vl(e),e.flags&2048&&xr(9,e,e.return);break;case 3:vl(e);break;case 12:vl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Ac(e)):vl(e);break;default:vl(e)}}function Ac(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];je=o,iy(o,e)}ey(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:xr(8,i,i.return),Ac(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Ac(i));break;default:Ac(i)}e=e.sibling}}function iy(e,i){for(;je!==null;){var a=je;switch(a.tag){case 0:case 11:case 15:xr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:nl(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,je=o;else t:for(a=e;je!==null;){o=je;var h=o.sibling,d=o.return;if(K_(o),o===a){je=null;break t}if(h!==null){h.return=d,je=h;break t}je=d}}}var dA={getCacheForType:function(e){var i=Qe(we),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return Qe(we).controller.signal}},mA=typeof WeakMap=="function"?WeakMap:Map,Gt=0,ne=null,Ct=null,Nt=0,Yt=0,Sn=null,kr=!1,qa=!1,Ed=!1,tr=0,fe=0,Pr=0,Ks=0,Td=0,bn=0,Ha=0,El=null,dn=null,Ad=!1,Sc=0,ry=0,bc=1/0,wc=null,Ur=null,Pe=0,Lr=null,Ga=null,er=0,Sd=0,bd=null,sy=null,Tl=0,wd=null;function wn(){return(Gt&2)!==0&&Nt!==0?Nt&-Nt:F.T!==null?Od():Ru()}function ay(){if(bn===0)if((Nt&536870912)===0||kt){var e=Es;Es<<=1,(Es&3932160)===0&&(Es=262144),bn=e}else bn=536870912;return e=Tn.current,e!==null&&(e.flags|=32),bn}function mn(e,i,a){(e===ne&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)&&(Fa(e,0),zr(e,Nt,bn,!1)),Ts(e,a),((Gt&2)===0||e!==ne)&&(e===ne&&((Gt&2)===0&&(Ks|=a),fe===4&&zr(e,Nt,bn,!1)),Ni(e))}function oy(e,i,a){if((Gt&6)!==0)throw Error(s(327));var o=!a&&(i&127)===0&&(i&e.expiredLanes)===0||Yn(e,i),h=o?_A(e,i):Id(e,i,!0),d=o;do{if(h===0){qa&&!o&&zr(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!pA(a)){h=Id(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){i=y;t:{var E=e;h=El;var I=E.current.memoizedState.isDehydrated;if(I&&(Fa(E,y).flags|=256),y=Id(E,y,!1),y!==2){if(Ed&&!I){E.errorRecoveryDisabledLanes|=d,Ks|=d,h=4;break t}d=dn,dn=h,d!==null&&(dn===null?dn=d:dn.push.apply(dn,d))}h=y}if(d=!1,h!==2)continue}}if(h===1){Fa(e,0),zr(e,i,0,!0);break}t:{switch(o=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:zr(o,i,bn,!kr);break t;case 2:dn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Sc+300-rn(),10<h)){if(zr(o,i,bn,!kr),fi(o,0,!0)!==0)break t;er=i,o.timeoutHandle=Ly(ly.bind(null,o,a,dn,wc,Ad,i,bn,Ks,Ha,kr,d,"Throttled",-0,0),h);break t}ly(o,a,dn,wc,Ad,i,bn,Ks,Ha,kr,d,null,-0,0)}}break}while(!0);Ni(e)}function ly(e,i,a,o,h,d,y,E,I,z,G,X,j,H){if(e.timeoutHandle=-1,X=i.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zn},ty(i,d,X);var at=(d&62914560)===d?Sc-rn():(d&4194048)===d?ry-rn():0;if(at=WA(X,at),at!==null){er=d,e.cancelPendingCommit=at(gy.bind(null,e,i,d,a,o,h,y,E,I,G,X,null,j,H)),zr(e,d,y,!z);return}}gy(e,i,d,a,o,h,y,E,I)}function pA(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],d=h.getSnapshot;h=h.value;try{if(!vn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function zr(e,i,a,o){i&=~Td,i&=~Ks,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var d=31-de(h),y=1<<d;o[d]=-1,h&=~y}a!==0&&As(e,a,i)}function Rc(){return(Gt&6)===0?(Al(0),!1):!0}function Rd(){if(Ct!==null){if(Yt===0)var e=Ct.return;else e=Ct,Gi=Ls=null,qf(e),ka=null,rl=0,e=Ct;for(;e!==null;)z_(e.alternate,e),e=e.return;Ct=null}}function Fa(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,kA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),er=0,Rd(),ne=e,Ct=a=qi(e.current,null),Nt=i,Yt=0,Sn=null,kr=!1,qa=Yn(e,i),Ed=!1,Ha=bn=Td=Ks=Pr=fe=0,dn=El=null,Ad=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-de(o),d=1<<h;i|=e[h],o&=~d}return tr=i,Ku(),a}function uy(e,i){St=null,F.H=fl,i===xa||i===ec?(i=wg(),Yt=3):i===Nf?(i=wg(),Yt=4):Yt=i===rd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Sn=i,Ct===null&&(fe=1,pc(e,Pn(i,e.current)))}function cy(){var e=Tn.current;return e===null?!0:(Nt&4194048)===Nt?jn===null:(Nt&62914560)===Nt||(Nt&536870912)!==0?e===jn:!1}function hy(){var e=F.H;return F.H=fl,e===null?fl:e}function fy(){var e=F.A;return F.A=dA,e}function Ic(){fe=4,kr||(Nt&4194048)!==Nt&&Tn.current!==null||(qa=!0),(Pr&134217727)===0&&(Ks&134217727)===0||ne===null||zr(ne,Nt,bn,!1)}function Id(e,i,a){var o=Gt;Gt|=2;var h=hy(),d=fy();(ne!==e||Nt!==i)&&(wc=null,Fa(e,i)),i=!1;var y=fe;t:do try{if(Yt!==0&&Ct!==null){var E=Ct,I=Sn;switch(Yt){case 8:Rd(),y=6;break t;case 3:case 2:case 9:case 6:Tn.current===null&&(i=!0);var z=Yt;if(Yt=0,Sn=null,Qa(e,E,I,z),a&&qa){y=0;break t}break;default:z=Yt,Yt=0,Sn=null,Qa(e,E,I,z)}}gA(),y=fe;break}catch(G){uy(e,G)}while(!0);return i&&e.shellSuspendCounter++,Gi=Ls=null,Gt=o,F.H=h,F.A=d,Ct===null&&(ne=null,Nt=0,Ku()),y}function gA(){for(;Ct!==null;)dy(Ct)}function _A(e,i){var a=Gt;Gt|=2;var o=hy(),h=fy();ne!==e||Nt!==i?(wc=null,bc=rn()+500,Fa(e,i)):qa=Yn(e,i);t:do try{if(Yt!==0&&Ct!==null){i=Ct;var d=Sn;e:switch(Yt){case 1:Yt=0,Sn=null,Qa(e,i,d,1);break;case 2:case 9:if(Sg(d)){Yt=0,Sn=null,my(i);break}i=function(){Yt!==2&&Yt!==9||ne!==e||(Yt=7),Ni(e)},d.then(i,i);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:Sg(d)?(Yt=0,Sn=null,my(i)):(Yt=0,Sn=null,Qa(e,i,d,7));break;case 5:var y=null;switch(Ct.tag){case 26:y=Ct.memoizedState;case 5:case 27:var E=Ct;if(y?Wy(y):E.stateNode.complete){Yt=0,Sn=null;var I=E.sibling;if(I!==null)Ct=I;else{var z=E.return;z!==null?(Ct=z,Cc(z)):Ct=null}break e}}Yt=0,Sn=null,Qa(e,i,d,5);break;case 6:Yt=0,Sn=null,Qa(e,i,d,6);break;case 8:Rd(),fe=6;break t;default:throw Error(s(462))}}yA();break}catch(G){uy(e,G)}while(!0);return Gi=Ls=null,F.H=o,F.A=h,Gt=a,Ct!==null?0:(ne=null,Nt=0,Ku(),fe)}function yA(){for(;Ct!==null&&!nf();)dy(Ct)}function dy(e){var i=U_(e.alternate,e,tr);e.memoizedProps=e.pendingProps,i===null?Cc(e):Ct=i}function my(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=O_(a,i,i.pendingProps,i.type,void 0,Nt);break;case 11:i=O_(a,i,i.pendingProps,i.type.render,i.ref,Nt);break;case 5:qf(i);default:z_(a,i),i=Ct=fg(i,tr),i=U_(a,i,tr)}e.memoizedProps=e.pendingProps,i===null?Cc(e):Ct=i}function Qa(e,i,a,o){Gi=Ls=null,qf(i),ka=null,rl=0;var h=i.return;try{if(aA(e,h,i,a,Nt)){fe=1,pc(e,Pn(a,e.current)),Ct=null;return}}catch(d){if(h!==null)throw Ct=h,d;fe=1,pc(e,Pn(a,e.current)),Ct=null;return}i.flags&32768?(kt||o===1?e=!0:qa||(Nt&536870912)!==0?e=!1:(kr=e=!0,(o===2||o===9||o===3||o===6)&&(o=Tn.current,o!==null&&o.tag===13&&(o.flags|=16384))),py(i,e)):Cc(i)}function Cc(e){var i=e;do{if((i.flags&32768)!==0){py(i,kr);return}e=i.return;var a=uA(i.alternate,i,tr);if(a!==null){Ct=a;return}if(i=i.sibling,i!==null){Ct=i;return}Ct=i=e}while(i!==null);fe===0&&(fe=5)}function py(e,i){do{var a=cA(e.alternate,e);if(a!==null){a.flags&=32767,Ct=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Ct=e;return}Ct=e=a}while(e!==null);fe=6,Ct=null}function gy(e,i,a,o,h,d,y,E,I){e.cancelPendingCommit=null;do Dc();while(Pe!==0);if((Gt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=pf,af(e,a,d,y,E,I),e===ne&&(Ct=ne=null,Nt=0),Ga=i,Lr=e,er=a,Sd=d,bd=h,sy=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,AA(pr,function(){return Ty(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=et.p,et.p=2,y=Gt,Gt|=4;try{hA(e,i,a)}finally{Gt=y,et.p=h,F.T=o}}Pe=1,_y(),yy(),vy()}}function _y(){if(Pe===1){Pe=0;var e=Lr,i=Ga,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var o=et.p;et.p=2;var h=Gt;Gt|=4;try{Z_(i,e);var d=zd,y=ig(e.containerInfo),E=d.focusedElem,I=d.selectionRange;if(y!==E&&E&&E.ownerDocument&&ng(E.ownerDocument.documentElement,E)){if(I!==null&&cf(E)){var z=I.start,G=I.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var X=E.ownerDocument||document,j=X&&X.defaultView||window;if(j.getSelection){var H=j.getSelection(),at=E.textContent.length,mt=Math.min(I.start,at),te=I.end===void 0?mt:Math.min(I.end,at);!H.extend&&mt>te&&(y=te,te=mt,mt=y);var x=eg(E,mt),N=eg(E,te);if(x&&N&&(H.rangeCount!==1||H.anchorNode!==x.node||H.anchorOffset!==x.offset||H.focusNode!==N.node||H.focusOffset!==N.offset)){var U=X.createRange();U.setStart(x.node,x.offset),H.removeAllRanges(),mt>te?(H.addRange(U),H.extend(N.node,N.offset)):(U.setEnd(N.node,N.offset),H.addRange(U))}}}}for(X=[],H=E;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var Q=X[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Bc=!!Ld,zd=Ld=null}finally{Gt=h,et.p=o,F.T=a}}e.current=i,Pe=2}}function yy(){if(Pe===2){Pe=0;var e=Lr,i=Ga,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var o=et.p;et.p=2;var h=Gt;Gt|=4;try{Q_(e,i.alternate,i)}finally{Gt=h,et.p=o,F.T=a}}Pe=3}}function vy(){if(Pe===4||Pe===3){Pe=0,vu();var e=Lr,i=Ga,a=er,o=sy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Pe=5:(Pe=0,Ga=Lr=null,Ey(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ur=null),Li(a),i=i.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(Kn,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=F.T,h=et.p,et.p=2,F.T=null;try{for(var d=e.onRecoverableError,y=0;y<o.length;y++){var E=o[y];d(E.value,{componentStack:E.stack})}}finally{F.T=i,et.p=h}}(er&3)!==0&&Dc(),Ni(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===wd?Tl++:(Tl=0,wd=e):Tl=0,Al(0)}}function Ey(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,nl(i)))}function Dc(){return _y(),yy(),vy(),Ty()}function Ty(){if(Pe!==5)return!1;var e=Lr,i=Sd;Sd=0;var a=Li(er),o=F.T,h=et.p;try{et.p=32>a?32:a,F.T=null,a=bd,bd=null;var d=Lr,y=er;if(Pe=0,Ga=Lr=null,er=0,(Gt&6)!==0)throw Error(s(331));var E=Gt;if(Gt|=4,ny(d.current),W_(d,d.current,y,a),Gt=E,Al(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(Kn,d)}catch{}return!0}finally{et.p=h,F.T=o,Ey(e,i)}}function Ay(e,i,a){i=Pn(a,i),i=id(e.stateNode,i,2),e=Or(e,i,2),e!==null&&(Ts(e,2),Ni(e))}function Xt(e,i,a){if(e.tag===3)Ay(e,e,a);else for(;i!==null;){if(i.tag===3){Ay(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ur===null||!Ur.has(o))){e=Pn(a,e),a=S_(2),o=Or(i,a,2),o!==null&&(b_(a,o,i,e),Ts(o,2),Ni(o));break}}i=i.return}}function Cd(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new mA;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(Ed=!0,h.add(a),e=vA.bind(null,e,i,a),i.then(e,e))}function vA(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ne===e&&(Nt&a)===a&&(fe===4||fe===3&&(Nt&62914560)===Nt&&300>rn()-Sc?(Gt&2)===0&&Fa(e,0):Td|=a,Ha===Nt&&(Ha=0)),Ni(e)}function Sy(e,i){i===0&&(i=wu()),e=ks(e,i),e!==null&&(Ts(e,i),Ni(e))}function EA(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),Sy(e,a)}function TA(e,i){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),Sy(e,a)}function AA(e,i){return ke(e,i)}var Nc=null,Ka=null,Dd=!1,Oc=!1,Nd=!1,jr=0;function Ni(e){e!==Ka&&e.next===null&&(Ka===null?Nc=Ka=e:Ka=Ka.next=e),Oc=!0,Dd||(Dd=!0,bA())}function Al(e,i){if(!Nd&&Oc){Nd=!0;do for(var a=!1,o=Nc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var y=o.suspendedLanes,E=o.pingedLanes;d=(1<<31-de(42|e)+1)-1,d&=h&~(y&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Iy(o,d))}else d=Nt,d=fi(o,o===ne?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||Yn(o,d)||(a=!0,Iy(o,d));o=o.next}while(a);Nd=!1}}function SA(){by()}function by(){Oc=Dd=!1;var e=0;jr!==0&&xA()&&(e=jr);for(var i=rn(),a=null,o=Nc;o!==null;){var h=o.next,d=wy(o,i);d===0?(o.next=null,a===null?Nc=h:a.next=h,h===null&&(Ka=a)):(a=o,(e!==0||(d&3)!==0)&&(Oc=!0)),o=h}Pe!==0&&Pe!==5||Al(e),jr!==0&&(jr=0)}function wy(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var y=31-de(d),E=1<<y,I=h[y];I===-1?((E&a)===0||(E&o)!==0)&&(h[y]=sf(E,i)):I<=i&&(e.expiredLanes|=E),d&=~E}if(i=ne,a=Nt,a=fi(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===i&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&mr(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Yn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(o!==null&&mr(o),Li(a)){case 2:case 8:a=Vo;break;case 32:a=pr;break;case 268435456:a=Eu;break;default:a=pr}return o=Ry.bind(null,e),a=ke(a,o),e.callbackPriority=i,e.callbackNode=a,i}return o!==null&&o!==null&&mr(o),e.callbackPriority=2,e.callbackNode=null,2}function Ry(e,i){if(Pe!==0&&Pe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Dc()&&e.callbackNode!==a)return null;var o=Nt;return o=fi(e,e===ne?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(oy(e,o,i),wy(e,rn()),e.callbackNode!=null&&e.callbackNode===a?Ry.bind(null,e):null)}function Iy(e,i){if(Dc())return null;oy(e,i,!0)}function bA(){PA(function(){(Gt&6)!==0?ke(Oo,SA):by()})}function Od(){if(jr===0){var e=Va;e===0&&(e=ci,ci<<=1,(ci&261888)===0&&(ci=256)),jr=e}return jr}function Cy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:_a(""+e)}function Dy(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function wA(e,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var d=Cy((h[Le]||null).action),y=o.submitter;y&&(i=(i=y[Le]||null)?Cy(i.formAction):y.getAttribute("formAction"),i!==null&&(d=i,y=null));var E=new Si("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(jr!==0){var I=y?Dy(h,y):new FormData(h);Zf(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(E.preventDefault(),I=y?Dy(h,y):new FormData(h),Zf(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var Vd=0;Vd<mf.length;Vd++){var Md=mf[Vd],RA=Md.toLowerCase(),IA=Md[0].toUpperCase()+Md.slice(1);ni(RA,"on"+IA)}ni(ag,"onAnimationEnd"),ni(og,"onAnimationIteration"),ni(lg,"onAnimationStart"),ni("dblclick","onDoubleClick"),ni("focusin","onFocus"),ni("focusout","onBlur"),ni(H1,"onTransitionRun"),ni(G1,"onTransitionStart"),ni(F1,"onTransitionCancel"),ni(ug,"onTransitionEnd"),vi("onMouseEnter",["mouseout","mouseover"]),vi("onMouseLeave",["mouseout","mouseover"]),vi("onPointerEnter",["pointerout","pointerover"]),vi("onPointerLeave",["pointerout","pointerover"]),yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yi("onBeforeInput",["compositionend","keypress","textInput","paste"]),yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sl));function Ny(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var d=void 0;if(i)for(var y=o.length-1;0<=y;y--){var E=o[y],I=E.instance,z=E.currentTarget;if(E=E.listener,I!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=z;try{d(h)}catch(G){Qu(G)}h.currentTarget=null,d=I}else for(y=0;y<o.length;y++){if(E=o[y],I=E.instance,z=E.currentTarget,E=E.listener,I!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=z;try{d(h)}catch(G){Qu(G)}h.currentTarget=null,d=I}}}}function Dt(e,i){var a=i[fa];a===void 0&&(a=i[fa]=new Set);var o=e+"__bubble";a.has(o)||(Oy(i,e,2,!1),a.add(o))}function xd(e,i,a){var o=0;i&&(o|=4),Oy(a,e,o,i)}var Vc="_reactListening"+Math.random().toString(36).slice(2);function kd(e){if(!e[Vc]){e[Vc]=!0,ko.forEach(function(a){a!=="selectionchange"&&(CA.has(a)||xd(a,!1,e),xd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Vc]||(i[Vc]=!0,xd("selectionchange",!1,i))}}function Oy(e,i,a,o){switch(av(i)){case 2:var h=nS;break;case 8:h=iS;break;default:h=$d}a=h.bind(null,i,a,e),h=void 0,!Is||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Pd(e,i,a,o,h){var d=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var E=o.stateNode.containerInfo;if(E===h)break;if(y===4)for(y=o.return;y!==null;){var I=y.tag;if((I===3||I===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;E!==null;){if(y=gi(E),y===null)return;if(I=y.tag,I===5||I===6||I===26||I===27){o=d=y;continue t}E=E.parentNode}}o=o.return}Tr(function(){var z=d,G=Vn(a),X=[];t:{var j=cg.get(e);if(j!==void 0){var H=Si,at=e;switch(e){case"keypress":if(Ds(a)===0)break t;case"keydown":case"keyup":H=Hu;break;case"focusin":at="focus",H=Os;break;case"focusout":at="blur",H=Os;break;case"beforeblur":case"afterblur":H=Os;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Yo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=xu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case ag:case og:case lg:H=Pu;break;case ug:H=A;break;case"scroll":case"scrollend":H=Ko;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=Uu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Bi;break;case"toggle":case"beforetoggle":H=At}var mt=(i&4)!==0,te=!mt&&(e==="scroll"||e==="scrollend"),x=mt?j!==null?j+"Capture":null:j;mt=[];for(var N=z,U;N!==null;){var Q=N;if(U=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||U===null||x===null||(Q=Jn(N,x),Q!=null&&mt.push(bl(N,Q,U))),te)break;N=N.return}0<mt.length&&(j=new H(j,at,null,a,G),X.push({event:j,listeners:mt}))}}if((i&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",j&&a!==Go&&(at=a.relatedTarget||a.fromElement)&&(gi(at)||at[mi]))break t;if((H||j)&&(j=G.window===G?G:(j=G.ownerDocument)?j.defaultView||j.parentWindow:window,H?(at=a.relatedTarget||a.toElement,H=z,at=at?gi(at):null,at!==null&&(te=u(at),mt=at.tag,at!==te||mt!==5&&mt!==27&&mt!==6)&&(at=null)):(H=null,at=z),H!==at)){if(mt=Yo,Q="onMouseLeave",x="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(mt=Bi,Q="onPointerLeave",x="onPointerEnter",N="pointer"),te=H==null?j:_n(H),U=at==null?j:_n(at),j=new mt(Q,N+"leave",H,a,G),j.target=te,j.relatedTarget=U,Q=null,gi(G)===z&&(mt=new mt(x,N+"enter",at,a,G),mt.target=U,mt.relatedTarget=te,Q=mt),te=Q,H&&at)e:{for(mt=DA,x=H,N=at,U=0,Q=x;Q;Q=mt(Q))U++;Q=0;for(var ct=N;ct;ct=mt(ct))Q++;for(;0<U-Q;)x=mt(x),U--;for(;0<Q-U;)N=mt(N),Q--;for(;U--;){if(x===N||N!==null&&x===N.alternate){mt=x;break e}x=mt(x),N=mt(N)}mt=null}else mt=null;H!==null&&Vy(X,j,H,mt,!1),at!==null&&te!==null&&Vy(X,te,at,mt,!0)}}t:{if(j=z?_n(z):window,H=j.nodeName&&j.nodeName.toLowerCase(),H==="select"||H==="input"&&j.type==="file")var jt=Xp;else if(Kp(j))if($p)jt=j1;else{jt=L1;var ot=U1}else H=j.nodeName,!H||H.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&ga(z.elementType)&&(jt=Xp):jt=z1;if(jt&&(jt=jt(e,z))){Yp(X,jt,a,G);break t}ot&&ot(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Bo(j,"number",j.value)}switch(ot=z?_n(z):window,e){case"focusin":(Kp(ot)||ot.contentEditable==="true")&&(ba=ot,hf=z,Wo=null);break;case"focusout":Wo=hf=ba=null;break;case"mousedown":ff=!0;break;case"contextmenu":case"mouseup":case"dragend":ff=!1,rg(X,a,G);break;case"selectionchange":if(q1)break;case"keydown":case"keyup":rg(X,a,G)}var wt;if(Ht)t:{switch(e){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else Sa?Vs(e,a)&&(Ot="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ot="onCompositionStart");Ot&&(Ri&&a.locale!=="ko"&&(Sa||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&Sa&&(wt=Qo()):(Ai=G,Fo="value"in Ai?Ai.value:Ai.textContent,Sa=!0)),ot=Mc(z,Ot),0<ot.length&&(Ot=new wi(Ot,e,null,a,G),X.push({event:Ot,listeners:ot}),wt?Ot.data=wt:(wt=Aa(a),wt!==null&&(Ot.data=wt)))),(wt=xn?M1(e,a):x1(e,a))&&(Ot=Mc(z,"onBeforeInput"),0<Ot.length&&(ot=new wi("onBeforeInput","beforeinput",null,a,G),X.push({event:ot,listeners:Ot}),ot.data=wt)),wA(X,e,z,a,G)}Ny(X,i)})}function bl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Mc(e,i){for(var a=i+"Capture",o=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Jn(e,a),h!=null&&o.unshift(bl(e,h,d)),h=Jn(e,i),h!=null&&o.push(bl(e,h,d))),e.tag===3)return o;e=e.return}return[]}function DA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Vy(e,i,a,o,h){for(var d=i._reactName,y=[];a!==null&&a!==o;){var E=a,I=E.alternate,z=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||z===null||(I=z,h?(z=Jn(a,d),z!=null&&y.unshift(bl(a,z,I))):h||(z=Jn(a,d),z!=null&&y.push(bl(a,z,I)))),a=a.return}y.length!==0&&e.push({event:i,listeners:y})}var NA=/\r\n?/g,OA=/\u0000|\uFFFD/g;function My(e){return(typeof e=="string"?e:""+e).replace(NA,`
`).replace(OA,"")}function xy(e,i){return i=My(i),My(e)===i}function Wt(e,i,a,o,h,d){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||un(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&un(e,""+o);break;case"className":yn(e,"class",o);break;case"tabIndex":yn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(e,a,o);break;case"style":Ho(e,o,d);break;case"data":if(i!=="object"){yn(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=_a(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Wt(e,i,"name",h.name,h,null),Wt(e,i,"formEncType",h.formEncType,h,null),Wt(e,i,"formMethod",h.formMethod,h,null),Wt(e,i,"formTarget",h.formTarget,h,null)):(Wt(e,i,"encType",h.encType,h,null),Wt(e,i,"method",h.method,h,null),Wt(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=_a(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Zn);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=_a(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Dt("beforetoggle",e),Dt("toggle",e),ma(e,"popover",o);break;case"xlinkActuate":be(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":be(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":be(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":be(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":be(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":be(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":be(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":be(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":be(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ma(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Mu.get(a)||a,ma(e,a,o))}}function Ud(e,i,a,o,h,d){switch(a){case"style":Ho(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?un(e,o):(typeof o=="number"||typeof o=="bigint")&&un(e,""+o);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Po.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[Le]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):ma(e,a,o)}}}function Ye(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",e),Dt("load",e);var o=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var y=a[d];if(y!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Wt(e,i,d,y,a,null)}}h&&Wt(e,i,"srcSet",a.srcSet,a,null),o&&Wt(e,i,"src",a.src,a,null);return;case"input":Dt("invalid",e);var E=d=y=h=null,I=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":h=G;break;case"type":y=G;break;case"checked":I=G;break;case"defaultChecked":z=G;break;case"value":d=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:Wt(e,i,o,G,a,null)}}Nu(e,d,E,I,z,y,h,!1);return;case"select":Dt("invalid",e),o=y=d=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":y=E;break;case"multiple":o=E;default:Wt(e,i,h,E,a,null)}i=d,a=y,e.multiple=!!o,i!=null?_r(e,!!o,i,!1):a!=null&&_r(e,!!o,a,!0);return;case"textarea":Dt("invalid",e),d=h=o=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":o=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Wt(e,i,y,E,a,null)}yr(e,o,h,d);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(o=a[I],o!=null))switch(I){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Wt(e,i,I,o,a,null)}return;case"dialog":Dt("beforetoggle",e),Dt("toggle",e),Dt("cancel",e),Dt("close",e);break;case"iframe":case"object":Dt("load",e);break;case"video":case"audio":for(o=0;o<Sl.length;o++)Dt(Sl[o],e);break;case"image":Dt("error",e),Dt("load",e);break;case"details":Dt("toggle",e);break;case"embed":case"source":case"link":Dt("error",e),Dt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Wt(e,i,z,o,a,null)}return;default:if(ga(i)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&Ud(e,i,G,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Wt(e,i,E,o,a,null))}function VA(e,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,y=null,E=null,I=null,z=null,G=null;for(H in a){var X=a[H];if(a.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=X;default:o.hasOwnProperty(H)||Wt(e,i,H,null,o,X)}}for(var j in o){var H=o[j];if(X=a[j],o.hasOwnProperty(j)&&(H!=null||X!=null))switch(j){case"type":d=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":G=H;break;case"value":y=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:H!==X&&Wt(e,i,j,H,o,X)}}pa(e,y,E,I,z,G,d,h);return;case"select":H=y=E=j=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":H=I;default:o.hasOwnProperty(d)||Wt(e,i,d,null,o,I)}for(h in o)if(d=o[h],I=a[h],o.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":j=d;break;case"defaultValue":E=d;break;case"multiple":y=d;default:d!==I&&Wt(e,i,h,d,o,I)}i=E,a=y,o=H,j!=null?_r(e,!!a,j,!1):!!o!=!!a&&(i!=null?_r(e,!!a,i,!0):_r(e,!!a,a?[]:"",!1));return;case"textarea":H=j=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Wt(e,i,E,null,o,h)}for(y in o)if(h=o[y],d=a[y],o.hasOwnProperty(y)&&(h!=null||d!=null))switch(y){case"value":j=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Wt(e,i,y,h,o,d)}Ou(e,j,H);return;case"option":for(var at in a)if(j=a[at],a.hasOwnProperty(at)&&j!=null&&!o.hasOwnProperty(at))switch(at){case"selected":e.selected=!1;break;default:Wt(e,i,at,null,o,j)}for(I in o)if(j=o[I],H=a[I],o.hasOwnProperty(I)&&j!==H&&(j!=null||H!=null))switch(I){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Wt(e,i,I,j,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in a)j=a[mt],a.hasOwnProperty(mt)&&j!=null&&!o.hasOwnProperty(mt)&&Wt(e,i,mt,null,o,j);for(z in o)if(j=o[z],H=a[z],o.hasOwnProperty(z)&&j!==H&&(j!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,i));break;default:Wt(e,i,z,j,o,H)}return;default:if(ga(i)){for(var te in a)j=a[te],a.hasOwnProperty(te)&&j!==void 0&&!o.hasOwnProperty(te)&&Ud(e,i,te,void 0,o,j);for(G in o)j=o[G],H=a[G],!o.hasOwnProperty(G)||j===H||j===void 0&&H===void 0||Ud(e,i,G,j,o,H);return}}for(var x in a)j=a[x],a.hasOwnProperty(x)&&j!=null&&!o.hasOwnProperty(x)&&Wt(e,i,x,null,o,j);for(X in o)j=o[X],H=a[X],!o.hasOwnProperty(X)||j===H||j==null&&H==null||Wt(e,i,X,j,o,H)}function ky(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function MA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],d=h.transferSize,y=h.initiatorType,E=h.duration;if(d&&E&&ky(y)){for(y=0,E=h.responseEnd,o+=1;o<a.length;o++){var I=a[o],z=I.startTime;if(z>E)break;var G=I.transferSize,X=I.initiatorType;G&&ky(X)&&(I=I.responseEnd,y+=G*(I<E?1:(E-z)/(I-z)))}if(--o,i+=8*(d+y)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ld=null,zd=null;function xc(e){return e.nodeType===9?e:e.ownerDocument}function Py(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Uy(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function jd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Bd=null;function xA(){var e=window.event;return e&&e.type==="popstate"?e===Bd?!1:(Bd=e,!0):(Bd=null,!1)}var Ly=typeof setTimeout=="function"?setTimeout:void 0,kA=typeof clearTimeout=="function"?clearTimeout:void 0,zy=typeof Promise=="function"?Promise:void 0,PA=typeof queueMicrotask=="function"?queueMicrotask:typeof zy<"u"?function(e){return zy.resolve(null).then(e).catch(UA)}:Ly;function UA(e){setTimeout(function(){throw e})}function Br(e){return e==="head"}function jy(e,i){var a=i,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),Za(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")wl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,wl(a);for(var d=a.firstChild;d;){var y=d.nextSibling,E=d.nodeName;d[pi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=y}}else a==="body"&&wl(e.ownerDocument.body);a=h}while(a);Za(i)}function By(e,i){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function qd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":qd(a),da(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function LA(e,i,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[pi])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Bn(e.nextSibling),e===null)break}return null}function zA(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Bn(e.nextSibling),e===null))return null;return e}function qy(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Bn(e.nextSibling),e===null))return null;return e}function Hd(e){return e.data==="$?"||e.data==="$~"}function Gd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function jA(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Bn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Fd=null;function Hy(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return Bn(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function Gy(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function Fy(e,i,a){switch(i=xc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function wl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);da(e)}var qn=new Map,Qy=new Set;function kc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var nr=et.d;et.d={f:BA,r:qA,D:HA,C:GA,L:FA,m:QA,X:YA,S:KA,M:XA};function BA(){var e=nr.f(),i=Rc();return e||i}function qA(e){var i=On(e);i!==null&&i.tag===5&&i.type==="form"?u_(i):nr.r(e)}var Ya=typeof document>"u"?null:document;function Ky(e,i,a){var o=Ya;if(o&&typeof i=="string"&&i){var h=ln(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Qy.has(h)||(Qy.add(h),e={rel:e,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Ye(i,"link",e),Se(i),o.head.appendChild(i)))}}function HA(e){nr.D(e),Ky("dns-prefetch",e,null)}function GA(e,i){nr.C(e,i),Ky("preconnect",e,i)}function FA(e,i,a){nr.L(e,i,a);var o=Ya;if(o&&e&&i){var h='link[rel="preload"][as="'+ln(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ln(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ln(a.imageSizes)+'"]')):h+='[href="'+ln(e)+'"]';var d=h;switch(i){case"style":d=Xa(e);break;case"script":d=$a(e)}qn.has(d)||(e=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),qn.set(d,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(Rl(d))||i==="script"&&o.querySelector(Il(d))||(i=o.createElement("link"),Ye(i,"link",e),Se(i),o.head.appendChild(i)))}}function QA(e,i){nr.m(e,i);var a=Ya;if(a&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ln(o)+'"][href="'+ln(e)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=$a(e)}if(!qn.has(d)&&(e=S({rel:"modulepreload",href:e},i),qn.set(d,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Il(d)))return}o=a.createElement("link"),Ye(o,"link",e),Se(o),a.head.appendChild(o)}}}function KA(e,i,a){nr.S(e,i,a);var o=Ya;if(o&&e){var h=_i(o).hoistableStyles,d=Xa(e);i=i||"default";var y=h.get(d);if(!y){var E={loading:0,preload:null};if(y=o.querySelector(Rl(d)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":i},a),(a=qn.get(d))&&Qd(e,a);var I=y=o.createElement("link");Se(I),Ye(I,"link",e),I._p=new Promise(function(z,G){I.onload=z,I.onerror=G}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Pc(y,i,o)}y={type:"stylesheet",instance:y,count:1,state:E},h.set(d,y)}}}function YA(e,i){nr.X(e,i);var a=Ya;if(a&&e){var o=_i(a).hoistableScripts,h=$a(e),d=o.get(h);d||(d=a.querySelector(Il(h)),d||(e=S({src:e,async:!0},i),(i=qn.get(h))&&Kd(e,i),d=a.createElement("script"),Se(d),Ye(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function XA(e,i){nr.M(e,i);var a=Ya;if(a&&e){var o=_i(a).hoistableScripts,h=$a(e),d=o.get(h);d||(d=a.querySelector(Il(h)),d||(e=S({src:e,async:!0,type:"module"},i),(i=qn.get(h))&&Kd(e,i),d=a.createElement("script"),Se(d),Ye(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function Yy(e,i,a,o){var h=(h=bt.current)?kc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Xa(a.href),a=_i(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Xa(a.href);var d=_i(h).hoistableStyles,y=d.get(e);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,y),(d=h.querySelector(Rl(e)))&&!d._p&&(y.instance=d,y.state.loading=5),qn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},qn.set(e,a),d||$A(h,e,a,y.state))),i&&o===null)throw Error(s(528,""));return y}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=$a(a),a=_i(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Xa(e){return'href="'+ln(e)+'"'}function Rl(e){return'link[rel="stylesheet"]['+e+"]"}function Xy(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function $A(e,i,a,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Ye(i,"link",a),Se(i),e.head.appendChild(i))}function $a(e){return'[src="'+ln(e)+'"]'}function Il(e){return"script[async]"+e}function $y(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+ln(a.href)+'"]');if(o)return i.instance=o,Se(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Se(o),Ye(o,"style",h),Pc(o,a.precedence,e),i.instance=o;case"stylesheet":h=Xa(a.href);var d=e.querySelector(Rl(h));if(d)return i.state.loading|=4,i.instance=d,Se(d),d;o=Xy(a),(h=qn.get(h))&&Qd(o,h),d=(e.ownerDocument||e).createElement("link"),Se(d);var y=d;return y._p=new Promise(function(E,I){y.onload=E,y.onerror=I}),Ye(d,"link",o),i.state.loading|=4,Pc(d,a.precedence,e),i.instance=d;case"script":return d=$a(a.src),(h=e.querySelector(Il(d)))?(i.instance=h,Se(h),h):(o=a,(h=qn.get(d))&&(o=S({},a),Kd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Se(h),Ye(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Pc(o,a.precedence,e));return i.instance}function Pc(e,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,y=0;y<o.length;y++){var E=o[y];if(E.dataset.precedence===i)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Qd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Kd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Uc=null;function Zy(e,i,a){if(Uc===null){var o=new Map,h=Uc=new Map;h.set(a,o)}else h=Uc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[pi]||d[Ae]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var y=d.getAttribute(i)||"";y=e+y;var E=o.get(y);E?E.push(d):o.set(y,[d])}}return o}function Jy(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function ZA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Wy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function JA(e,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Xa(o.href),d=i.querySelector(Rl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Lc.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=d,Se(d);return}d=i.ownerDocument||i,o=Xy(o),(h=qn.get(h))&&Qd(o,h),d=d.createElement("link"),Se(d);var y=d;y._p=new Promise(function(E,I){y.onload=E,y.onerror=I}),Ye(d,"link",o),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Lc.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var Yd=0;function WA(e,i){return e.stylesheets&&e.count===0&&jc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&jc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+i);0<e.imgBytes&&Yd===0&&(Yd=62500*MA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&jc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Yd?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Lc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)jc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var zc=null;function jc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,zc=new Map,i.forEach(tS,e),zc=null,Lc.call(e))}function tS(e,i){if(!(i.state.loading&4)){var a=zc.get(e);if(a)var o=a.get(null);else{a=new Map,zc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var y=h[d];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),o=y)}o&&a.set(null,o)}h=i.instance,y=h.getAttribute("data-precedence"),d=a.get(y)||o,d===o&&a.set(null,h),a.set(y,h),this.count++,o=Lc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var Cl={$$typeof:pt,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function eS(e,i,a,o,h,d,y,E,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=di(0),this.hiddenUpdates=di(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function tv(e,i,a,o,h,d,y,E,I,z,G,X){return e=new eS(e,i,a,y,I,z,G,X,E),i=1,d===!0&&(i|=24),d=En(3,null,null,i),e.current=d,d.stateNode=e,i=If(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:i},Of(d),e}function ev(e){return e?(e=Ia,e):Ia}function nv(e,i,a,o,h,d){h=ev(h),o.context===null?o.context=h:o.pendingContext=h,o=Nr(i),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=Or(e,o,i),a!==null&&(mn(a,e,i),al(a,e,i))}function iv(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Xd(e,i){iv(e,i),(e=e.alternate)&&iv(e,i)}function rv(e){if(e.tag===13||e.tag===31){var i=ks(e,67108864);i!==null&&mn(i,e,67108864),Xd(e,67108864)}}function sv(e){if(e.tag===13||e.tag===31){var i=wn();i=Ss(i);var a=ks(e,i);a!==null&&mn(a,e,i),Xd(e,i)}}var Bc=!0;function nS(e,i,a,o){var h=F.T;F.T=null;var d=et.p;try{et.p=2,$d(e,i,a,o)}finally{et.p=d,F.T=h}}function iS(e,i,a,o){var h=F.T;F.T=null;var d=et.p;try{et.p=8,$d(e,i,a,o)}finally{et.p=d,F.T=h}}function $d(e,i,a,o){if(Bc){var h=Zd(o);if(h===null)Pd(e,i,o,qc,a),ov(e,o);else if(sS(h,e,i,a,o))o.stopPropagation();else if(ov(e,o),i&4&&-1<rS.indexOf(e)){for(;h!==null;){var d=On(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var y=hi(d.pendingLanes);if(y!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var I=1<<31-de(y);E.entanglements[1]|=I,y&=~I}Ni(d),(Gt&6)===0&&(bc=rn()+500,Al(0))}}break;case 31:case 13:E=ks(d,2),E!==null&&mn(E,d,2),Rc(),Xd(d,2)}if(d=Zd(o),d===null&&Pd(e,i,o,qc,a),d===h)break;h=d}h!==null&&o.stopPropagation()}else Pd(e,i,o,null,a)}}function Zd(e){return e=Vn(e),Jd(e)}var qc=null;function Jd(e){if(qc=null,e=gi(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===31){if(e=p(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return qc=e,null}function av(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vs()){case Oo:return 2;case Vo:return 8;case pr:case rf:return 32;case Eu:return 268435456;default:return 32}default:return 32}}var Wd=!1,qr=null,Hr=null,Gr=null,Dl=new Map,Nl=new Map,Fr=[],rS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ov(e,i){switch(e){case"focusin":case"focusout":qr=null;break;case"dragenter":case"dragleave":Hr=null;break;case"mouseover":case"mouseout":Gr=null;break;case"pointerover":case"pointerout":Dl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(i.pointerId)}}function Ol(e,i,a,o,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},i!==null&&(i=On(i),i!==null&&rv(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function sS(e,i,a,o,h){switch(i){case"focusin":return qr=Ol(qr,e,i,a,o,h),!0;case"dragenter":return Hr=Ol(Hr,e,i,a,o,h),!0;case"mouseover":return Gr=Ol(Gr,e,i,a,o,h),!0;case"pointerover":var d=h.pointerId;return Dl.set(d,Ol(Dl.get(d)||null,e,i,a,o,h)),!0;case"gotpointercapture":return d=h.pointerId,Nl.set(d,Ol(Nl.get(d)||null,e,i,a,o,h)),!0}return!1}function lv(e){var i=gi(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,Xn(e.priority,function(){sv(a)});return}}else if(i===31){if(i=p(a),i!==null){e.blockedOn=i,Xn(e.priority,function(){sv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Zd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Go=o,a.target.dispatchEvent(o),Go=null}else return i=On(a),i!==null&&rv(i),e.blockedOn=a,!1;i.shift()}return!0}function uv(e,i,a){Hc(e)&&a.delete(i)}function aS(){Wd=!1,qr!==null&&Hc(qr)&&(qr=null),Hr!==null&&Hc(Hr)&&(Hr=null),Gr!==null&&Hc(Gr)&&(Gr=null),Dl.forEach(uv),Nl.forEach(uv)}function Gc(e,i){e.blockedOn===i&&(e.blockedOn=null,Wd||(Wd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,aS)))}var Fc=null;function cv(e){Fc!==e&&(Fc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Fc===e&&(Fc=null);for(var i=0;i<e.length;i+=3){var a=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(Jd(o||a)===null)continue;break}var d=On(a);d!==null&&(e.splice(i,3),i-=3,Zf(d,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Za(e){function i(I){return Gc(I,e)}qr!==null&&Gc(qr,e),Hr!==null&&Gc(Hr,e),Gr!==null&&Gc(Gr,e),Dl.forEach(i),Nl.forEach(i);for(var a=0;a<Fr.length;a++){var o=Fr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Fr.length&&(a=Fr[0],a.blockedOn===null);)lv(a),a.blockedOn===null&&Fr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],d=a[o+1],y=h[Le]||null;if(typeof d=="function")y||cv(a);else if(y){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,y=d[Le]||null)E=y.formAction;else if(Jd(h)!==null)continue}else E=y.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),cv(a)}}}function hv(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function tm(e){this._internalRoot=e}Qc.prototype.render=tm.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=wn();nv(a,o,e,i,null,null)},Qc.prototype.unmount=tm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;nv(e.current,2,null,e,null,null),Rc(),i[mi]=null}};function Qc(e){this._internalRoot=e}Qc.prototype.unstable_scheduleHydration=function(e){if(e){var i=Ru();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Fr.length&&i!==0&&i<Fr[a].priority;a++);Fr.splice(a,0,e),a===0&&lv(e)}};var fv=t.version;if(fv!=="19.2.1")throw Error(s(527,fv,"19.2.1"));et.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=_(i),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var oS={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kc.isDisabled&&Kc.supportsFiber)try{Kn=Kc.inject(oS),He=Kc}catch{}}return Ml.createRoot=function(e,i){if(!l(e))throw Error(s(299));var a=!1,o="",h=v_,d=E_,y=T_;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(y=i.onRecoverableError)),i=tv(e,1,!1,null,null,a,o,null,h,d,y,hv),e[mi]=i.current,kd(e),new tm(i)},Ml.hydrateRoot=function(e,i,a){if(!l(e))throw Error(s(299));var o=!1,h="",d=v_,y=E_,E=T_,I=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),i=tv(e,1,!0,i,a??null,o,h,I,d,y,E,hv),i.context=ev(null),a=i.current,o=wn(),o=Ss(o),h=Nr(o),h.callback=null,Or(a,h,o),a=o,i.current.lanes=a,Ts(i,a),Ni(i),e[mi]=i.current,kd(e),new Qc(i)},Ml.version="19.2.1",Ml}var Av;function yS(){if(Av)return im.exports;Av=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),im.exports=_S(),im.exports}var vS=yS();const ES="_button_1aaor_81",TS="_primary_1aaor_102",AS="_active_1aaor_112",om={button:ES,primary:TS,active:AS},qt=({children:r,variant:t="primary",active:n=!1,className:s,...l})=>{const u=[om.button,om[t],n?om.active:"",s].filter(Boolean).join(" ");return L.jsx("button",{className:u,"data-active":n?"true":void 0,...l,children:r})},SS="_buttonGroup_o9d9r_81",bS="_vertical_o9d9r_84",Sv={buttonGroup:SS,vertical:bS},uo=({children:r,className:t,orientation:n="horizontal",style:s})=>L.jsx("div",{className:`${Sv.buttonGroup} ${Sv[n]} ${t||""}`,style:s,children:r}),wS="_pill_igpfa_81",RS="_primary_igpfa_95",IS="_accent_igpfa_99",CS="_muted_igpfa_103",bv={pill:wS,primary:RS,accent:IS,muted:CS},aT=({label:r,variant:t="default",className:n})=>{const s=[bv.pill,bv[t],n].filter(Boolean).join(" ");return L.jsx("span",{className:s,children:r})},DS="_panel_yh9v4_81",NS="_header_yh9v4_89",OS="_content_yh9v4_97",VS="_footer_yh9v4_104",Yc={panel:DS,header:NS,content:OS,footer:VS},MS="_text_10ndl_81",xS="_xs_10ndl_86",kS="_sm_10ndl_90",PS="_md_10ndl_94",US="_lg_10ndl_98",LS="_xl_10ndl_102",zS="_primary_10ndl_106",jS="_secondary_10ndl_109",BS="_muted_10ndl_112",qS="_accent_10ndl_116",lm={text:MS,xs:xS,sm:kS,md:PS,lg:US,xl:LS,primary:zS,secondary:jS,muted:BS,accent:qS},ar=({children:r,as:t="p",size:n="md",variant:s="primary",className:l,...u})=>{const f=[lm.text,lm[n],lm[s],l].filter(Boolean).join(" ");return L.jsx(t,{className:f,...u,children:r})},co=({children:r,as:t="h2",size:n="lg",...s})=>L.jsx(ar,{as:t,size:n,...s,children:r}),dh=({children:r,header:t,footer:n,className:s,style:l})=>L.jsxs("div",{className:`${Yc.panel} ${s||""}`,style:l,children:[t&&L.jsx("div",{className:Yc.header,children:typeof t=="string"?L.jsx(co,{as:"h3",size:"md",children:t}):t}),L.jsx("div",{className:Yc.content,children:r}),n&&L.jsx("div",{className:Yc.footer,children:n})]}),HS="_input_qkinu_81",GS="_sensitive_qkinu_112",wv={input:HS,sensitive:GS},Gn=({variant:r="default",className:t,...n})=>{const s=[wv.input,r==="sensitive"||n.type==="password"?wv.sensitive:"",t].filter(Boolean).join(" ");return L.jsx("input",{className:s,...n})},FS="_stack_1prvq_81",QS="_column_1prvq_84",KS="_row_1prvq_87",YS="_grow_1prvq_135",Ja={stack:FS,column:QS,row:KS,"gap-none":"_gap-none_1prvq_90","gap-xs":"_gap-xs_1prvq_93","gap-sm":"_gap-sm_1prvq_96","gap-md":"_gap-md_1prvq_99","gap-lg":"_gap-lg_1prvq_102","gap-xl":"_gap-xl_1prvq_105","align-start":"_align-start_1prvq_108","align-center":"_align-center_1prvq_111","align-end":"_align-end_1prvq_114","align-stretch":"_align-stretch_1prvq_117","justify-start":"_justify-start_1prvq_120","justify-center":"_justify-center_1prvq_123","justify-end":"_justify-end_1prvq_126","justify-between":"_justify-between_1prvq_129","justify-around":"_justify-around_1prvq_132",grow:YS},$t=({children:r,direction:t="column",gap:n="md",align:s="stretch",justify:l="start",grow:u=!1,className:f,...p})=>{const g=[Ja.stack,Ja[t],Ja[`gap-${n}`],Ja[`align-${s}`],Ja[`justify-${l}`],u&&Ja.grow,f].filter(Boolean).join(" ");return L.jsx("div",{className:g,...p,children:r})},XS="_container_akr0k_81",$S="_fullScreen_akr0k_90",ZS="_header_akr0k_93",JS="_footer_akr0k_100",WS="_contentWrapper_akr0k_107",tb="_sidebar_akr0k_122",eb="_left_akr0k_128",nb="_right_akr0k_131",ib="_main_akr0k_135",Oi={container:XS,fullScreen:$S,header:ZS,footer:JS,contentWrapper:WS,sidebar:tb,left:eb,right:nb,main:ib},rb=({children:r,sidebar:t,sidebarWidth:n="280px",rightSidebar:s,rightSidebarWidth:l="280px",header:u,footer:f,fullScreen:p=!1,className:g})=>L.jsxs("div",{className:`${Oi.container} ${p?Oi.fullScreen:""} ${g||""}`,children:[u&&L.jsx("header",{className:Oi.header,children:u}),L.jsxs("div",{className:Oi.contentWrapper,children:[L.jsx("aside",{className:`${Oi.sidebar} ${Oi.left}`,style:{width:n},children:t}),L.jsx("main",{className:Oi.main,children:r}),s&&L.jsx("aside",{className:`${Oi.sidebar} ${Oi.right}`,style:{width:l},children:s})]}),f&&L.jsx("footer",{className:Oi.footer,children:f})]}),sb="_box_1x1pt_81",Hn={box:sb,"p-xs":"_p-xs_1x1pt_86","px-xs":"_px-xs_1x1pt_90","py-xs":"_py-xs_1x1pt_95","pt-xs":"_pt-xs_1x1pt_100","pb-xs":"_pb-xs_1x1pt_104","pl-xs":"_pl-xs_1x1pt_108","pr-xs":"_pr-xs_1x1pt_112","p-sm":"_p-sm_1x1pt_116","px-sm":"_px-sm_1x1pt_120","py-sm":"_py-sm_1x1pt_125","pt-sm":"_pt-sm_1x1pt_130","pb-sm":"_pb-sm_1x1pt_134","pl-sm":"_pl-sm_1x1pt_138","pr-sm":"_pr-sm_1x1pt_142","p-md":"_p-md_1x1pt_146","px-md":"_px-md_1x1pt_150","py-md":"_py-md_1x1pt_155","pt-md":"_pt-md_1x1pt_160","pb-md":"_pb-md_1x1pt_164","pl-md":"_pl-md_1x1pt_168","pr-md":"_pr-md_1x1pt_172","p-lg":"_p-lg_1x1pt_176","px-lg":"_px-lg_1x1pt_180","py-lg":"_py-lg_1x1pt_185","pt-lg":"_pt-lg_1x1pt_190","pb-lg":"_pb-lg_1x1pt_194","pl-lg":"_pl-lg_1x1pt_198","pr-lg":"_pr-lg_1x1pt_202","p-xl":"_p-xl_1x1pt_206","px-xl":"_px-xl_1x1pt_210","py-xl":"_py-xl_1x1pt_215","pt-xl":"_pt-xl_1x1pt_220","pb-xl":"_pb-xl_1x1pt_224","pl-xl":"_pl-xl_1x1pt_228","pr-xl":"_pr-xl_1x1pt_232","bg-panel":"_bg-panel_1x1pt_236","bg-surface":"_bg-surface_1x1pt_240","bg-app":"_bg-app_1x1pt_244","border-subtle":"_border-subtle_1x1pt_248","border-strong":"_border-strong_1x1pt_252","border-opaque":"_border-opaque_1x1pt_256","border-b":"_border-b_1x1pt_260","border-t":"_border-t_1x1pt_264"},Fn=({children:r,p:t,px:n,py:s,pt:l,pb:u,pl:f,pr:p,background:g,border:_,borderSide:T,className:S,...C})=>{const q=[Hn.box,t&&Hn[`p-${t}`],n&&Hn[`px-${n}`],s&&Hn[`py-${s}`],l&&Hn[`pt-${l}`],u&&Hn[`pb-${u}`],f&&Hn[`pl-${f}`],p&&Hn[`pr-${p}`],g&&Hn[`bg-${g}`],_&&Hn[`border-${_}`],T==="bottom"&&Hn["border-b"],T==="top"&&Hn["border-t"],S].filter(Boolean).join(" ");return L.jsx("div",{className:q,...C,children:r})},oT=It.createContext(void 0),ab=()=>{const r=It.useContext(oT);if(!r)throw new Error("useTheme must be used within a ThemeProvider");return r},ob=({children:r,defaultTheme:t="darkDefault"})=>{const[n,s]=It.useState(t);return It.useEffect(()=>{document.documentElement.setAttribute("data-theme",n)},[n]),L.jsx(oT.Provider,{value:{theme:n,setTheme:s},children:r})},lb=({title:r,headerActions:t,sidebar:n,rightSidebar:s,footer:l,children:u,defaultTheme:f="darkDefault"})=>{const p=L.jsxs($t,{direction:"row",justify:"between",align:"center",className:"app-header-inner",children:[L.jsx(co,{as:"h1",size:"xl",style:{letterSpacing:"4px"},children:r}),t&&L.jsx($t,{direction:"row",gap:"md",children:t})]}),g=l?L.jsx(Fn,{style:{display:"flex",alignItems:"center",width:"100%"},children:l}):L.jsx($t,{direction:"row",justify:"between",align:"center",style:{width:"100%",padding:"0 24px",height:"40px"},children:L.jsxs(ar,{size:"xs",variant:"muted",children:[" ",new Date().getFullYear()," ",r]})});return L.jsx(ob,{defaultTheme:f,children:L.jsx(rb,{header:p,sidebar:n,rightSidebar:s,footer:g,fullScreen:!0,children:u})})},ub=()=>{};var Rv={};const lT=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},cb=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=r[n++];t[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=r[n++],f=r[n++],p=r[n++],g=((l&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;t[s++]=String.fromCharCode(55296+(g>>10)),t[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return t.join("")},uT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const u=r[l],f=l+1<r.length,p=f?r[l+1]:0,g=l+2<r.length,_=g?r[l+2]:0,T=u>>2,S=(u&3)<<4|p>>4;let C=(p&15)<<2|_>>6,q=_&63;g||(q=64,f||(C=64)),s.push(n[T],n[S],n[C],n[q])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(lT(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):cb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const u=n[r.charAt(l++)],p=l<r.length?n[r.charAt(l)]:0;++l;const _=l<r.length?n[r.charAt(l)]:64;++l;const S=l<r.length?n[r.charAt(l)]:64;if(++l,u==null||p==null||_==null||S==null)throw new hb;const C=u<<2|p>>4;if(s.push(C),_!==64){const q=p<<4&240|_>>2;if(s.push(q),S!==64){const J=_<<6&192|S;s.push(J)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class hb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fb=function(r){const t=lT(r);return uT.encodeByteArray(t,!0)},mh=function(r){return fb(r).replace(/\./g,"")},cT=function(r){try{return uT.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function db(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const mb=()=>db().__FIREBASE_DEFAULTS__,pb=()=>{if(typeof process>"u"||typeof Rv>"u")return;const r=Rv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},gb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&cT(r[1]);return t&&JSON.parse(t)},kh=()=>{try{return ub()||mb()||pb()||gb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},hT=r=>kh()?.emulatorHosts?.[r],_b=r=>{const t=hT(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},fT=()=>kh()?.config,dT=r=>kh()?.[`_${r}`];class yb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function vo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function mT(r){return(await fetch(r,{credentials:"include"})).ok}function vb(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[mh(JSON.stringify(n)),mh(JSON.stringify(f)),""].join(".")}const Bl={};function Eb(){const r={prod:[],emulator:[]};for(const t of Object.keys(Bl))Bl[t]?r.emulator.push(t):r.prod.push(t);return r}function Tb(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let Iv=!1;function pT(r,t){if(typeof window>"u"||typeof document>"u"||!vo(window.location.host)||Bl[r]===t||Bl[r]||Iv)return;Bl[r]=t;function n(C){return`__firebase__banner__${C}`}const s="__firebase__banner",u=Eb().prod.length>0;function f(){const C=document.getElementById(s);C&&C.remove()}function p(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function g(C,q){C.setAttribute("width","24"),C.setAttribute("id",q),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function _(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{Iv=!0,f()},C}function T(C,q){C.setAttribute("id",q),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function S(){const C=Tb(s),q=n("text"),J=document.getElementById(q)||document.createElement("span"),W=n("learnmore"),Y=document.getElementById(W)||document.createElement("a"),lt=n("preprendIcon"),yt=document.getElementById(lt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const pt=C.element;p(pt),T(Y,W);const Ft=_();g(yt,lt),pt.append(yt,J,Y,Ft),document.body.appendChild(pt)}u?(J.innerText="Preview backend disconnected.",yt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(yt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ab(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function Sb(){const r=kh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function wb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Rb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ib(){const r=nn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Cb(){return!Sb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Db(){try{return typeof indexedDB=="object"}catch{return!1}}function Nb(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(n){t(n)}})}const Ob="FirebaseError";class dr extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=Ob,Object.setPrototypeOf(this,dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,su.prototype.create)}}class su{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},l=`${this.service}/${t}`,u=this.errors[t],f=u?Vb(u,s):"Error",p=`${this.serviceName}: ${f} (${l}).`;return new dr(l,p,s)}}function Vb(r,t){return r.replace(Mb,(n,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const Mb=/\{\$([^}]+)}/g;function xb(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Js(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const l of n){if(!s.includes(l))return!1;const u=r[l],f=t[l];if(Cv(u)&&Cv(f)){if(!Js(u,f))return!1}else if(u!==f)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function Cv(r){return r!==null&&typeof r=="object"}function au(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function kl(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,u]=s.split("=");t[decodeURIComponent(l)]=decodeURIComponent(u)}}),t}function Pl(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function kb(r,t){const n=new Pb(r,t);return n.subscribe.bind(n)}class Pb{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let l;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Ub(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:s},l.next===void 0&&(l.next=um),l.error===void 0&&(l.error=um),l.complete===void 0&&(l.complete=um);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ub(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function um(){}function Ve(r){return r&&r._delegate?r._delegate:r}class Ws{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Xs="[DEFAULT]";class Lb{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new yb;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(jb(t))try{this.getOrInitializeService({instanceIdentifier:Xs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(t=Xs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Xs){return this.instances.has(t)}getOptions(t=Xs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&f.resolve(l)}return l}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(s)??new Set;l.add(t),this.onInitCallbacks.set(s,l);const u=this.instances.get(s);return u&&t(u,s),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:zb(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Xs){return this.component?this.component.multipleInstances?t:Xs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zb(r){return r===Xs?void 0:r}function jb(r){return r.instantiationMode==="EAGER"}class Bb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Lb(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Vt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Vt||(Vt={}));const qb={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},Hb=Vt.INFO,Gb={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},Fb=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=Gb[t];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Zm{constructor(t){this.name=t,this._logLevel=Hb,this._logHandler=Fb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?qb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}const Qb=(r,t)=>t.some(n=>r instanceof n);let Dv,Nv;function Kb(){return Dv||(Dv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Yb(){return Nv||(Nv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gT=new WeakMap,bm=new WeakMap,_T=new WeakMap,cm=new WeakMap,Jm=new WeakMap;function Xb(r){const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Wr(r.result)),l()},f=()=>{s(r.error),l()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&gT.set(n,r)}).catch(()=>{}),Jm.set(t,r),t}function $b(r){if(bm.has(r))return;const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),l()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});bm.set(r,t)}let wm={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return bm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||_T.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function Zb(r){wm=r(wm)}function Jb(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(hm(this),t,...n);return _T.set(s,t.sort?t.sort():[t]),Wr(s)}:Yb().includes(r)?function(...t){return r.apply(hm(this),t),Wr(gT.get(this))}:function(...t){return Wr(r.apply(hm(this),t))}}function Wb(r){return typeof r=="function"?Jb(r):(r instanceof IDBTransaction&&$b(r),Qb(r,Kb())?new Proxy(r,wm):r)}function Wr(r){if(r instanceof IDBRequest)return Xb(r);if(cm.has(r))return cm.get(r);const t=Wb(r);return t!==r&&(cm.set(r,t),Jm.set(t,r)),t}const hm=r=>Jm.get(r);function tw(r,t,{blocked:n,upgrade:s,blocking:l,terminated:u}={}){const f=indexedDB.open(r,t),p=Wr(f);return s&&f.addEventListener("upgradeneeded",g=>{s(Wr(f.result),g.oldVersion,g.newVersion,Wr(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),l&&g.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const ew=["get","getKey","getAll","getAllKeys","count"],nw=["put","add","delete","clear"],fm=new Map;function Ov(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(fm.get(t))return fm.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,l=nw.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||ew.includes(n)))return;const u=async function(f,...p){const g=this.transaction(f,l?"readwrite":"readonly");let _=g.store;return s&&(_=_.index(p.shift())),(await Promise.all([_[n](...p),l&&g.done]))[0]};return fm.set(t,u),u}Zb(r=>({...r,get:(t,n,s)=>Ov(t,n)||r.get(t,n,s),has:(t,n)=>!!Ov(t,n)||r.has(t,n)}));class iw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function rw(r){return r.getComponent()?.type==="VERSION"}const Rm="@firebase/app",Vv="0.14.6";const ur=new Zm("@firebase/app"),sw="@firebase/app-compat",aw="@firebase/analytics-compat",ow="@firebase/analytics",lw="@firebase/app-check-compat",uw="@firebase/app-check",cw="@firebase/auth",hw="@firebase/auth-compat",fw="@firebase/database",dw="@firebase/data-connect",mw="@firebase/database-compat",pw="@firebase/functions",gw="@firebase/functions-compat",_w="@firebase/installations",yw="@firebase/installations-compat",vw="@firebase/messaging",Ew="@firebase/messaging-compat",Tw="@firebase/performance",Aw="@firebase/performance-compat",Sw="@firebase/remote-config",bw="@firebase/remote-config-compat",ww="@firebase/storage",Rw="@firebase/storage-compat",Iw="@firebase/firestore",Cw="@firebase/ai",Dw="@firebase/firestore-compat",Nw="firebase",Ow="12.6.0";const Im="[DEFAULT]",Vw={[Rm]:"fire-core",[sw]:"fire-core-compat",[ow]:"fire-analytics",[aw]:"fire-analytics-compat",[uw]:"fire-app-check",[lw]:"fire-app-check-compat",[cw]:"fire-auth",[hw]:"fire-auth-compat",[fw]:"fire-rtdb",[dw]:"fire-data-connect",[mw]:"fire-rtdb-compat",[pw]:"fire-fn",[gw]:"fire-fn-compat",[_w]:"fire-iid",[yw]:"fire-iid-compat",[vw]:"fire-fcm",[Ew]:"fire-fcm-compat",[Tw]:"fire-perf",[Aw]:"fire-perf-compat",[Sw]:"fire-rc",[bw]:"fire-rc-compat",[ww]:"fire-gcs",[Rw]:"fire-gcs-compat",[Iw]:"fire-fst",[Dw]:"fire-fst-compat",[Cw]:"fire-vertex","fire-js":"fire-js",[Nw]:"fire-js-all"};const ph=new Map,Mw=new Map,Cm=new Map;function Mv(r,t){try{r.container.addComponent(t)}catch(n){ur.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function ho(r){const t=r.name;if(Cm.has(t))return ur.debug(`There were multiple attempts to register component ${t}.`),!1;Cm.set(t,r);for(const n of ph.values())Mv(n,r);for(const n of Mw.values())Mv(n,r);return!0}function Wm(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Rn(r){return r==null?!1:r.settings!==void 0}const xw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ts=new su("app","Firebase",xw);class kw{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ws("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ts.create("app-deleted",{appName:this._name})}}const Eo=Ow;function yT(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:Im,automaticDataCollectionEnabled:!0,...t},l=s.name;if(typeof l!="string"||!l)throw ts.create("bad-app-name",{appName:String(l)});if(n||(n=fT()),!n)throw ts.create("no-options");const u=ph.get(l);if(u){if(Js(n,u.options)&&Js(s,u.config))return u;throw ts.create("duplicate-app",{appName:l})}const f=new Bb(l);for(const g of Cm.values())f.addComponent(g);const p=new kw(n,s,f);return ph.set(l,p),p}function vT(r=Im){const t=ph.get(r);if(!t&&r===Im&&fT())return yT();if(!t)throw ts.create("no-app",{appName:r});return t}function es(r,t,n){let s=Vw[r]??r;n&&(s+=`-${n}`);const l=s.match(/\s|\//),u=t.match(/\s|\//);if(l||u){const f=[`Unable to register library "${s}" with version "${t}":`];l&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ur.warn(f.join(" "));return}ho(new Ws(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const Pw="firebase-heartbeat-database",Uw=1,Xl="firebase-heartbeat-store";let dm=null;function ET(){return dm||(dm=tw(Pw,Uw,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Xl)}catch(n){console.warn(n)}}}}).catch(r=>{throw ts.create("idb-open",{originalErrorMessage:r.message})})),dm}async function Lw(r){try{const n=(await ET()).transaction(Xl),s=await n.objectStore(Xl).get(TT(r));return await n.done,s}catch(t){if(t instanceof dr)ur.warn(t.message);else{const n=ts.create("idb-get",{originalErrorMessage:t?.message});ur.warn(n.message)}}}async function xv(r,t){try{const s=(await ET()).transaction(Xl,"readwrite");await s.objectStore(Xl).put(t,TT(r)),await s.done}catch(n){if(n instanceof dr)ur.warn(n.message);else{const s=ts.create("idb-set",{originalErrorMessage:n?.message});ur.warn(s.message)}}}function TT(r){return`${r.name}!${r.options.appId}`}const zw=1024,jw=30;class Bw{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Hw(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=kv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>jw){const l=Gw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ur.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=kv(),{heartbeatsToSend:n,unsentEntries:s}=qw(this._heartbeatsCache.heartbeats),l=mh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ur.warn(t),""}}}function kv(){return new Date().toISOString().substring(0,10)}function qw(r,t=zw){const n=[];let s=r.slice();for(const l of r){const u=n.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),Pv(n)>t){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),Pv(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Hw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Db()?Nb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Lw(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return xv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return xv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Pv(r){return mh(JSON.stringify({version:2,heartbeats:r})).length}function Gw(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}function Fw(r){ho(new Ws("platform-logger",t=>new iw(t),"PRIVATE")),ho(new Ws("heartbeat",t=>new Bw(t),"PRIVATE")),es(Rm,Vv,r),es(Rm,Vv,"esm2020"),es("fire-js","")}Fw("");function AT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Qw=AT,ST=new su("auth","Firebase",AT());const gh=new Zm("@firebase/auth");function Kw(r,...t){gh.logLevel<=Vt.WARN&&gh.warn(`Auth (${Eo}): ${r}`,...t)}function ih(r,...t){gh.logLevel<=Vt.ERROR&&gh.error(`Auth (${Eo}): ${r}`,...t)}function Qn(r,...t){throw ep(r,...t)}function oi(r,...t){return ep(r,...t)}function tp(r,t,n){const s={...Qw(),[t]:n};return new su("auth","Firebase",s).create(t,{appName:r.name})}function or(r){return tp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Yw(r,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&Qn(r,"argument-error"),tp(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ep(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return ST.create(r,...t)}function _t(r,t,...n){if(!r)throw ep(t,...n)}function rr(r){const t="INTERNAL ASSERTION FAILED: "+r;throw ih(t),new Error(t)}function cr(r,t){r||rr(t)}function Dm(){return typeof self<"u"&&self.location?.href||""}function Xw(){return Uv()==="http:"||Uv()==="https:"}function Uv(){return typeof self<"u"&&self.location?.protocol||null}function $w(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Xw()||wb()||"connection"in navigator)?navigator.onLine:!0}function Zw(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class ou{constructor(t,n){this.shortDelay=t,this.longDelay=n,cr(n>t,"Short delay should be less than long delay!"),this.isMobile=Ab()||Rb()}get(){return $w()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function np(r,t){cr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class bT{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Jw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Ww=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tR=new ou(3e4,6e4);function fs(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function ds(r,t,n,s,l={}){return wT(r,l,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const p=au({key:r.config.apiKey,...f}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const _={method:t,headers:g,...u};return bb()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&vo(r.emulatorConfig.host)&&(_.credentials="include"),bT.fetch()(await RT(r,r.config.apiHost,n,p),_)})}async function wT(r,t,n){r._canInitEmulator=!1;const s={...Jw,...t};try{const l=new nR(r),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Xc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const p=u.ok?f.errorMessage:f.error.message,[g,_]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xc(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Xc(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw Xc(r,"user-disabled",f);const T=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw tp(r,T,_);Qn(r,T)}}catch(l){if(l instanceof dr)throw l;Qn(r,"network-request-failed",{message:String(l)})}}async function lu(r,t,n,s,l={}){const u=await ds(r,t,n,s,l);return"mfaPendingCredential"in u&&Qn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function RT(r,t,n,s){const l=`${t}${n}?${s}`,u=r,f=u.config.emulator?np(r.config,l):`${r.config.apiScheme}://${l}`;return Ww.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function eR(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class nR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(oi(this.auth,"network-request-failed")),tR.get())})}}function Xc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=oi(r,t,s);return l.customData._tokenResponse=n,l}function Lv(r){return r!==void 0&&r.enterprise!==void 0}class iR{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return eR(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function rR(r,t){return ds(r,"GET","/v2/recaptchaConfig",fs(r,t))}async function sR(r,t){return ds(r,"POST","/v1/accounts:delete",t)}async function _h(r,t){return ds(r,"POST","/v1/accounts:lookup",t)}function ql(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function aR(r,t=!1){const n=Ve(r),s=await n.getIdToken(t),l=ip(s);_t(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,f=u?.sign_in_provider;return{claims:l,token:s,authTime:ql(mm(l.auth_time)),issuedAtTime:ql(mm(l.iat)),expirationTime:ql(mm(l.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function mm(r){return Number(r)*1e3}function ip(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return ih("JWT malformed, contained fewer than 3 sections"),null;try{const l=cT(n);return l?JSON.parse(l):(ih("Failed to decode base64 JWT payload"),null)}catch(l){return ih("Caught error parsing JWT payload as JSON",l?.toString()),null}}function zv(r){const t=ip(r);return _t(t,"internal-error"),_t(typeof t.exp<"u","internal-error"),_t(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function $l(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof dr&&oR(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function oR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class lR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Nm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ql(this.lastLoginAt),this.creationTime=ql(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function yh(r){const t=r.auth,n=await r.getIdToken(),s=await $l(r,_h(t,{idToken:n}));_t(s?.users.length,t,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const u=l.providerUserInfo?.length?IT(l.providerUserInfo):[],f=cR(r.providerData,u),p=r.isAnonymous,g=!(r.email&&l.passwordHash)&&!f?.length,_=p?g:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new Nm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,T)}async function uR(r){const t=Ve(r);await yh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function cR(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function IT(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function hR(r,t){const n=await wT(r,{},async()=>{const s=au({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:u}=r.config,f=await RT(r,l,"/v1/token",`key=${u}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:s};return r.emulatorConfig&&vo(r.emulatorConfig.host)&&(g.credentials="include"),bT.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function fR(r,t){return ds(r,"POST","/v2/accounts:revokeToken",fs(r,t))}class ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_t(t.idToken,"internal-error"),_t(typeof t.idToken<"u","internal-error"),_t(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):zv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){_t(t.length!==0,"internal-error");const n=zv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:l,expiresIn:u}=await hR(t,n);this.updateTokensAndExpiration(s,l,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:l,expirationTime:u}=n,f=new ro;return s&&(_t(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),l&&(_t(typeof l=="string","internal-error",{appName:t}),f.accessToken=l),u&&(_t(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ro,this.toJSON())}_performRefresh(){return rr("not implemented")}}function Kr(r,t){_t(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class si{constructor({uid:t,auth:n,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new lR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Nm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await $l(this,this.stsTokenManager.getToken(this.auth,t));return _t(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return aR(this,t)}reload(){return uR(this)}_assign(t){this!==t&&(_t(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new si({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await yh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rn(this.auth.app))return Promise.reject(or(this.auth));const t=await this.getIdToken();return await $l(this,sR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,l=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,_=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:S,emailVerified:C,isAnonymous:q,providerData:J,stsTokenManager:W}=n;_t(S&&W,t,"internal-error");const Y=ro.fromJSON(this.name,W);_t(typeof S=="string",t,"internal-error"),Kr(s,t.name),Kr(l,t.name),_t(typeof C=="boolean",t,"internal-error"),_t(typeof q=="boolean",t,"internal-error"),Kr(u,t.name),Kr(f,t.name),Kr(p,t.name),Kr(g,t.name),Kr(_,t.name),Kr(T,t.name);const lt=new si({uid:S,auth:t,email:l,emailVerified:C,displayName:s,isAnonymous:q,photoURL:f,phoneNumber:u,tenantId:p,stsTokenManager:Y,createdAt:_,lastLoginAt:T});return J&&Array.isArray(J)&&(lt.providerData=J.map(yt=>({...yt}))),g&&(lt._redirectEventId=g),lt}static async _fromIdTokenResponse(t,n,s=!1){const l=new ro;l.updateFromServerResponse(n);const u=new si({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await yh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const l=n.users[0];_t(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?IT(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!u?.length,p=new ro;p.updateFromIdToken(s);const g=new si({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:f}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new Nm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(g,_),g}}const jv=new Map;function sr(r){cr(r instanceof Function,"Expected a class definition");let t=jv.get(r);return t?(cr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,jv.set(r,t),t)}class CT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}CT.type="NONE";const Bv=CT;function rh(r,t,n){return`firebase:${r}:${t}:${n}`}class so{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:l,name:u}=this.auth;this.fullUserKey=rh(this.userKey,l.apiKey,u),this.fullPersistenceKey=rh("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await _h(this.auth,{idToken:t}).catch(()=>{});return n?si._fromGetAccountInfoResponse(this.auth,n,t):null}return si._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new so(sr(Bv),t,s);const l=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=l[0]||sr(Bv);const f=rh(s,t.config.apiKey,t.name);let p=null;for(const _ of n)try{const T=await _._get(f);if(T){let S;if(typeof T=="string"){const C=await _h(t,{idToken:T}).catch(()=>{});if(!C)break;S=await si._fromGetAccountInfoResponse(t,C,T)}else S=si._fromJSON(t,T);_!==u&&(p=S),u=_;break}}catch{}const g=l.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new so(u,t,s):(u=g[0],p&&await u._set(f,p.toJSON()),await Promise.all(n.map(async _=>{if(_!==u)try{await _._remove(f)}catch{}})),new so(u,t,s))}}function qv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(VT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(DT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(xT(t))return"Blackberry";if(kT(t))return"Webos";if(NT(t))return"Safari";if((t.includes("chrome/")||OT(t))&&!t.includes("edge/"))return"Chrome";if(MT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function DT(r=nn()){return/firefox\//i.test(r)}function NT(r=nn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function OT(r=nn()){return/crios\//i.test(r)}function VT(r=nn()){return/iemobile/i.test(r)}function MT(r=nn()){return/android/i.test(r)}function xT(r=nn()){return/blackberry/i.test(r)}function kT(r=nn()){return/webos/i.test(r)}function rp(r=nn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function dR(r=nn()){return rp(r)&&!!window.navigator?.standalone}function mR(){return Ib()&&document.documentMode===10}function PT(r=nn()){return rp(r)||MT(r)||kT(r)||xT(r)||/windows phone/i.test(r)||VT(r)}function UT(r,t=[]){let n;switch(r){case"Browser":n=qv(nn());break;case"Worker":n=`${qv(nn())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Eo}/${s}`}class pR{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,p)=>{try{const g=t(u);f(g)}catch(g){p(g)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function gR(r,t={}){return ds(r,"GET","/v2/passwordPolicy",fs(r,t))}const _R=6;class yR{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??_R,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,l,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class vR{constructor(t,n,s,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hv(this),this.idTokenSubscription=new Hv(this),this.beforeStateQueue=new pR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ST,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=sr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await so.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await _h(this,{idToken:t}),s=await si._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Rn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,p=await this.tryRedirectSignIn(t);(!u||u===f)&&p?.user&&(s=p.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await yh(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Zw()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Rn(this.app))return Promise.reject(or(this));const n=t?Ve(t):null;return n&&_t(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&_t(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Rn(this.app)?Promise.reject(or(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Rn(this.app)?Promise.reject(or(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(sr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await gR(this),n=new yR(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new su("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await fR(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&sr(t)||this._popupRedirectResolver;_t(n,this,"argument-error"),this.redirectPersistenceManager=await so.create(this,[sr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(p,this,"internal-error"),p.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=t.addObserver(n,s,l);return()=>{f=!0,g()}}else{const g=t.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=UT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Rn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&Kw(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ms(r){return Ve(r)}class Hv{constructor(t){this.auth=t,this.observer=null,this.addObserver=kb(n=>this.observer=n)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ph={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ER(r){Ph=r}function LT(r){return Ph.loadJS(r)}function TR(){return Ph.recaptchaEnterpriseScript}function AR(){return Ph.gapiScript}function SR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class bR{constructor(){this.enterprise=new wR}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class wR{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const RR="recaptcha-enterprise",zT="NO_RECAPTCHA";class IR{constructor(t){this.type=RR,this.auth=ms(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,p)=>{rR(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const _=new iR(g);return u.tenantId==null?u._agentRecaptchaConfig=_:u._tenantRecaptchaConfigs[u.tenantId]=_,f(_.siteKey)}}).catch(g=>{p(g)})})}function l(u,f,p){const g=window.grecaptcha;Lv(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:t}).then(_=>{f(_)}).catch(()=>{f(zT)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new bR().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(p=>{if(!n&&Lv(window.grecaptcha))l(p,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=TR();g.length!==0&&(g+=p),LT(g).then(()=>{l(p,u,f)}).catch(_=>{f(_)})}}).catch(p=>{f(p)})})}}async function Gv(r,t,n,s=!1,l=!1){const u=new IR(r);let f;if(l)f=zT;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const p={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,_=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:_,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:f}):Object.assign(p,{captchaResponse:f}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Om(r,t,n,s,l){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Gv(r,t,n,n==="getOobCode");return s(r,u)}else return s(r,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Gv(r,t,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}function CR(r,t){const n=Wm(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(Js(u,t??{}))return l;Qn(l,"already-initialized")}return n.initialize({options:t})}function DR(r,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(sr);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function NR(r,t,n){const s=ms(r);_t(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,u=jT(t),{host:f,port:p}=OR(t),g=p===null?"":`:${p}`,_={url:`${u}//${f}${g}/`},T=Object.freeze({host:f,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){_t(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),_t(Js(_,s.config.emulator)&&Js(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,vo(f)?(mT(`${u}//${f}${g}`),pT("Auth",!0)):VR()}function jT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function OR(r){const t=jT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const u=l[1];return{host:u,port:Fv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Fv(f)}}}function Fv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function VR(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class sp{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return rr("not implemented")}_getIdTokenResponse(t){return rr("not implemented")}_linkToIdToken(t,n){return rr("not implemented")}_getReauthenticationResolver(t){return rr("not implemented")}}async function MR(r,t){return ds(r,"POST","/v1/accounts:signUp",t)}async function xR(r,t){return lu(r,"POST","/v1/accounts:signInWithPassword",fs(r,t))}async function kR(r,t){return lu(r,"POST","/v1/accounts:signInWithEmailLink",fs(r,t))}async function PR(r,t){return lu(r,"POST","/v1/accounts:signInWithEmailLink",fs(r,t))}class Zl extends sp{constructor(t,n,s,l=null){super("password",s),this._email=t,this._password=n,this._tenantId=l}static _fromEmailAndPassword(t,n){return new Zl(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new Zl(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Om(t,n,"signInWithPassword",xR);case"emailLink":return kR(t,{email:this._email,oobCode:this._password});default:Qn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Om(t,s,"signUpPassword",MR);case"emailLink":return PR(t,{idToken:n,email:this._email,oobCode:this._password});default:Qn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function ao(r,t){return lu(r,"POST","/v1/accounts:signInWithIdp",fs(r,t))}const UR="http://localhost";class ta extends sp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ta(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l,...u}=n;if(!s||!l)return null;const f=new ta(s,l);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return ao(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,ao(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,ao(t,n)}buildRequest(){const t={requestUri:UR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=au(n)}return t}}function LR(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zR(r){const t=kl(Pl(r)).link,n=t?kl(Pl(t)).deep_link_id:null,s=kl(Pl(r)).deep_link_id;return(s?kl(Pl(s)).link:null)||s||n||t||r}class ap{constructor(t){const n=kl(Pl(t)),s=n.apiKey??null,l=n.oobCode??null,u=LR(n.mode??null);_t(s&&l&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=zR(t);try{return new ap(n)}catch{return null}}}class To{constructor(){this.providerId=To.PROVIDER_ID}static credential(t,n){return Zl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=ap.parseLink(n);return _t(s,"argument-error"),Zl._fromEmailAndCode(t,s.code,s.tenantId)}}To.PROVIDER_ID="password";To.EMAIL_PASSWORD_SIGN_IN_METHOD="password";To.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class op{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class uu extends op{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Yr extends uu{constructor(){super("facebook.com")}static credential(t){return ta._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Yr.credentialFromTaggedObject(t)}static credentialFromError(t){return Yr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Yr.credential(t.oauthAccessToken)}catch{return null}}}Yr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Yr.PROVIDER_ID="facebook.com";class ir extends uu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ta._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return ir.credentialFromTaggedObject(t)}static credentialFromError(t){return ir.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return ir.credential(n,s)}catch{return null}}}ir.GOOGLE_SIGN_IN_METHOD="google.com";ir.PROVIDER_ID="google.com";class Xr extends uu{constructor(){super("github.com")}static credential(t){return ta._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Xr.credentialFromTaggedObject(t)}static credentialFromError(t){return Xr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Xr.credential(t.oauthAccessToken)}catch{return null}}}Xr.GITHUB_SIGN_IN_METHOD="github.com";Xr.PROVIDER_ID="github.com";class $r extends uu{constructor(){super("twitter.com")}static credential(t,n){return ta._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return $r.credentialFromTaggedObject(t)}static credentialFromError(t){return $r.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return $r.credential(n,s)}catch{return null}}}$r.TWITTER_SIGN_IN_METHOD="twitter.com";$r.PROVIDER_ID="twitter.com";async function jR(r,t){return lu(r,"POST","/v1/accounts:signUp",fs(r,t))}class ea{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,l=!1){const u=await si._fromIdTokenResponse(t,s,l),f=Qv(s);return new ea({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const l=Qv(s);return new ea({user:t,providerId:l,_tokenResponse:s,operationType:n})}}function Qv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class vh extends dr{constructor(t,n,s,l){super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,vh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,l){return new vh(t,n,s,l)}}function BT(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?vh._fromErrorAndOperation(r,u,t,s):u})}async function BR(r,t,n=!1){const s=await $l(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return ea._forOperation(r,"link",s)}async function qR(r,t,n=!1){const{auth:s}=r;if(Rn(s.app))return Promise.reject(or(s));const l="reauthenticate";try{const u=await $l(r,BT(s,l,t,r),n);_t(u.idToken,s,"internal-error");const f=ip(u.idToken);_t(f,s,"internal-error");const{sub:p}=f;return _t(r.uid===p,s,"user-mismatch"),ea._forOperation(r,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&Qn(s,"user-mismatch"),u}}async function qT(r,t,n=!1){if(Rn(r.app))return Promise.reject(or(r));const s="signIn",l=await BT(r,s,t),u=await ea._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(u.user),u}async function HR(r,t){return qT(ms(r),t)}async function HT(r){const t=ms(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function GR(r,t,n){if(Rn(r.app))return Promise.reject(or(r));const s=ms(r),f=await Om(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jR).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&HT(r),g}),p=await ea._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(p.user),p}function FR(r,t,n){return Rn(r.app)?Promise.reject(or(r)):HR(Ve(r),To.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&HT(r),s})}function QR(r,t,n,s){return Ve(r).onIdTokenChanged(t,n,s)}function KR(r,t,n){return Ve(r).beforeAuthStateChanged(t,n)}function YR(r,t,n,s){return Ve(r).onAuthStateChanged(t,n,s)}const Eh="__sak";class GT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Eh,"1"),this.storage.removeItem(Eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const XR=1e3,$R=10;class FT extends GT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&t(n,l,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,p,g)=>{this.notifyListeners(f,g)});return}const s=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);mR()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,$R):l()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},XR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}FT.type="LOCAL";const ZR=FT;class QT extends GT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}QT.type="SESSION";const KT=QT;function JR(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class Uh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const s=new Uh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:l,data:u}=n.data,f=this.handlersMap[l];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const p=Array.from(f).map(async _=>_(n.origin,u)),g=await JR(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:g})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Uh.receivers=[];function lp(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}class WR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,f;return new Promise((p,g)=>{const _=lp("",20);l.port1.start();const T=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:l,onMessage(S){const C=S;if(C.data.eventId===_)switch(C.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(C.data.response);break;default:clearTimeout(T),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:_,data:n},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Mi(){return window}function tI(r){Mi().location.href=r}function YT(){return typeof Mi().WorkerGlobalScope<"u"&&typeof Mi().importScripts=="function"}async function eI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nI(){return navigator?.serviceWorker?.controller||null}function iI(){return YT()?self:null}const XT="firebaseLocalStorageDb",rI=1,Th="firebaseLocalStorage",$T="fbase_key";class cu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Lh(r,t){return r.transaction([Th],t?"readwrite":"readonly").objectStore(Th)}function sI(){const r=indexedDB.deleteDatabase(XT);return new cu(r).toPromise()}function Vm(){const r=indexedDB.open(XT,rI);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Th,{keyPath:$T})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Th)?t(s):(s.close(),await sI(),t(await Vm()))})})}async function Kv(r,t,n){const s=Lh(r,!0).put({[$T]:t,value:n});return new cu(s).toPromise()}async function aI(r,t){const n=Lh(r,!1).get(t),s=await new cu(n).toPromise();return s===void 0?null:s.value}function Yv(r,t){const n=Lh(r,!0).delete(t);return new cu(n).toPromise()}const oI=800,lI=3;class ZT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>lI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return YT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Uh._getInstance(iI()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await eI(),!this.activeServiceWorker)return;this.sender=new WR(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||nI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Vm();return await Kv(t,Eh,"1"),await Yv(t,Eh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Kv(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>aI(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Yv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const u=Lh(l,!1).getAll();return new cu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:u}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),oI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ZT.type="LOCAL";const uI=ZT;new ou(3e4,6e4);function JT(r,t){return t?sr(t):(_t(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class up extends sp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ao(t,this._buildIdpRequest())}_linkToIdToken(t,n){return ao(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return ao(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function cI(r){return qT(r.auth,new up(r),r.bypassAuthState)}function hI(r){const{auth:t,user:n}=r;return _t(n,t,"internal-error"),qR(n,new up(r),r.bypassAuthState)}async function fI(r){const{auth:t,user:n}=r;return _t(n,t,"internal-error"),BR(n,new up(r),r.bypassAuthState)}class WT{constructor(t,n,s,l,u=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:l,tenantId:u,error:f,type:p}=t;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return cI;case"linkViaPopup":case"linkViaRedirect":return fI;case"reauthViaPopup":case"reauthViaRedirect":return hI;default:Qn(this.auth,"internal-error")}}resolve(t){cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const dI=new ou(2e3,1e4);async function mI(r,t,n){if(Rn(r.app))return Promise.reject(oi(r,"operation-not-supported-in-this-environment"));const s=ms(r);Yw(r,t,op);const l=JT(s,n);return new $s(s,"signInViaPopup",t,l).executeNotNull()}class $s extends WT{constructor(t,n,s,l,u){super(t,n,l,u),this.provider=s,this.authWindow=null,this.pollId=null,$s.currentPopupAction&&$s.currentPopupAction.cancel(),$s.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _t(t,this.auth,"internal-error"),t}async onExecution(){cr(this.filter.length===1,"Popup operations only handle one event");const t=lp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$s.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,dI.get())};t()}}$s.currentPopupAction=null;const pI="pendingRedirect",sh=new Map;class gI extends WT{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=sh.get(this.auth._key());if(!t){try{const s=await _I(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}sh.set(this.auth._key(),t)}return this.bypassAuthState||sh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _I(r,t){const n=EI(t),s=vI(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function yI(r,t){sh.set(r._key(),t)}function vI(r){return sr(r._redirectPersistence)}function EI(r){return rh(pI,r.config.apiKey,r.name)}async function TI(r,t,n=!1){if(Rn(r.app))return Promise.reject(or(r));const s=ms(r),l=JT(s,t),f=await new gI(s,l,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}const AI=600*1e3;class SI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!bI(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!t0(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(oi(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=AI&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xv(t))}saveEventToCache(t){this.cachedEventUids.add(Xv(t)),this.lastProcessedEventTime=Date.now()}}function Xv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function t0({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function bI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return t0(r);default:return!1}}async function wI(r,t={}){return ds(r,"GET","/v1/projects",t)}const RI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,II=/^https?/;async function CI(r){if(r.config.emulator)return;const{authorizedDomains:t}=await wI(r);for(const n of t)try{if(DI(n))return}catch{}Qn(r,"unauthorized-domain")}function DI(r){const t=Dm(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!II.test(n))return!1;if(RI.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const NI=new ou(3e4,6e4);function $v(){const r=Mi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function OI(r){return new Promise((t,n)=>{function s(){$v(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{$v(),n(oi(r,"network-request-failed"))},timeout:NI.get()})}if(Mi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Mi().gapi?.load)s();else{const l=SR("iframefcb");return Mi()[l]=()=>{gapi.load?s():n(oi(r,"network-request-failed"))},LT(`${AR()}?onload=${l}`).catch(u=>n(u))}}).catch(t=>{throw ah=null,t})}let ah=null;function VI(r){return ah=ah||OI(r),ah}const MI=new ou(5e3,15e3),xI="__/auth/iframe",kI="emulator/auth/iframe",PI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LI(r){const t=r.config;_t(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?np(t,kI):`https://${r.config.authDomain}/${xI}`,s={apiKey:t.apiKey,appName:r.name,v:Eo},l=UI.get(r.config.apiHost);l&&(s.eid=l);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${au(s).slice(1)}`}async function zI(r){const t=await VI(r),n=Mi().gapi;return _t(n,r,"internal-error"),t.open({where:document.body,url:LI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PI,dontclear:!0},s=>new Promise(async(l,u)=>{await s.restyle({setHideOnLeave:!1});const f=oi(r,"network-request-failed"),p=Mi().setTimeout(()=>{u(f)},MI.get());function g(){Mi().clearTimeout(p),l(s)}s.ping(g).then(g,()=>{u(f)})}))}const jI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BI=500,qI=600,HI="_blank",GI="http://localhost";class Zv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function FI(r,t,n,s=BI,l=qI){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const g={...jI,width:s.toString(),height:l.toString(),top:u,left:f},_=nn().toLowerCase();n&&(p=OT(_)?HI:n),DT(_)&&(t=t||GI,g.scrollbars="yes");const T=Object.entries(g).reduce((C,[q,J])=>`${C}${q}=${J},`,"");if(dR(_)&&p!=="_self")return QI(t||"",p),new Zv(null);const S=window.open(t||"",p,T);_t(S,r,"popup-blocked");try{S.focus()}catch{}return new Zv(S)}function QI(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const KI="__/auth/handler",YI="emulator/auth/handler",XI=encodeURIComponent("fac");async function Jv(r,t,n,s,l,u){_t(r.config.authDomain,r,"auth-domain-config-required"),_t(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Eo,eventId:l};if(t instanceof op){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",xb(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,S]of Object.entries({}))f[T]=S}if(t instanceof uu){const T=t.getScopes().filter(S=>S!=="");T.length>0&&(f.scopes=T.join(","))}r.tenantId&&(f.tid=r.tenantId);const p=f;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const g=await r._getAppCheckToken(),_=g?`#${XI}=${encodeURIComponent(g)}`:"";return`${$I(r)}?${au(p).slice(1)}${_}`}function $I({config:r}){return r.emulator?np(r,YI):`https://${r.authDomain}/${KI}`}const pm="webStorageSupport";class ZI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=KT,this._completeRedirectFn=TI,this._overrideRedirectResult=yI}async _openPopup(t,n,s,l){cr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Jv(t,n,s,Dm(),l);return FI(t,u,lp())}async _openRedirect(t,n,s,l){await this._originValidation(t);const u=await Jv(t,n,s,Dm(),l);return tI(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(cr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await zI(t),s=new SI(t);return n.register("authEvent",l=>(_t(l?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(pm,{type:pm},l=>{const u=l?.[0]?.[pm];u!==void 0&&n(!!u),Qn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=CI(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return PT()||NT()||rp()}}const JI=ZI;var Wv="@firebase/auth",tE="1.11.1";class WI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function tC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eC(r){ho(new Ws("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=s.options;_t(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UT(r)},_=new vR(s,l,u,g);return DR(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),ho(new Ws("auth-internal",t=>{const n=ms(t.getProvider("auth").getImmediate());return(s=>new WI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),es(Wv,tE,tC(r)),es(Wv,tE,"esm2020")}const nC=300,iC=dT("authIdTokenMaxAge")||nC;let eE=null;const rC=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>iC)return;const l=n?.token;eE!==l&&(eE=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function sC(r=vT()){const t=Wm(r,"auth");if(t.isInitialized())return t.getImmediate();const n=CR(r,{popupRedirectResolver:JI,persistence:[uI,ZR,KT]}),s=dT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=rC(u.toString());KR(n,f,()=>f(n.currentUser)),QR(n,p=>f(p))}}const l=hT("auth");return l&&NR(n,`http://${l}`),n}function aC(){return document.getElementsByTagName("head")?.[0]??document}ER({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const u=oi("internal-error");u.customData=l,n(u)},s.type="text/javascript",s.charset="UTF-8",aC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eC("Browser");var oC="firebase",lC="12.6.0";es(oC,lC,"app");var nE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ns,e0;(function(){var r;function t(D,b){function w(){}w.prototype=b.prototype,D.F=b.prototype,D.prototype=new w,D.prototype.constructor=D,D.D=function(M,O,k){for(var R=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)R[ae-2]=arguments[ae];return b.prototype[O].apply(M,R)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(D,b,w){w||(w=0);const M=Array(16);if(typeof b=="string")for(var O=0;O<16;++O)M[O]=b.charCodeAt(w++)|b.charCodeAt(w++)<<8|b.charCodeAt(w++)<<16|b.charCodeAt(w++)<<24;else for(O=0;O<16;++O)M[O]=b[w++]|b[w++]<<8|b[w++]<<16|b[w++]<<24;b=D.g[0],w=D.g[1],O=D.g[2];let k=D.g[3],R;R=b+(k^w&(O^k))+M[0]+3614090360&4294967295,b=w+(R<<7&4294967295|R>>>25),R=k+(O^b&(w^O))+M[1]+3905402710&4294967295,k=b+(R<<12&4294967295|R>>>20),R=O+(w^k&(b^w))+M[2]+606105819&4294967295,O=k+(R<<17&4294967295|R>>>15),R=w+(b^O&(k^b))+M[3]+3250441966&4294967295,w=O+(R<<22&4294967295|R>>>10),R=b+(k^w&(O^k))+M[4]+4118548399&4294967295,b=w+(R<<7&4294967295|R>>>25),R=k+(O^b&(w^O))+M[5]+1200080426&4294967295,k=b+(R<<12&4294967295|R>>>20),R=O+(w^k&(b^w))+M[6]+2821735955&4294967295,O=k+(R<<17&4294967295|R>>>15),R=w+(b^O&(k^b))+M[7]+4249261313&4294967295,w=O+(R<<22&4294967295|R>>>10),R=b+(k^w&(O^k))+M[8]+1770035416&4294967295,b=w+(R<<7&4294967295|R>>>25),R=k+(O^b&(w^O))+M[9]+2336552879&4294967295,k=b+(R<<12&4294967295|R>>>20),R=O+(w^k&(b^w))+M[10]+4294925233&4294967295,O=k+(R<<17&4294967295|R>>>15),R=w+(b^O&(k^b))+M[11]+2304563134&4294967295,w=O+(R<<22&4294967295|R>>>10),R=b+(k^w&(O^k))+M[12]+1804603682&4294967295,b=w+(R<<7&4294967295|R>>>25),R=k+(O^b&(w^O))+M[13]+4254626195&4294967295,k=b+(R<<12&4294967295|R>>>20),R=O+(w^k&(b^w))+M[14]+2792965006&4294967295,O=k+(R<<17&4294967295|R>>>15),R=w+(b^O&(k^b))+M[15]+1236535329&4294967295,w=O+(R<<22&4294967295|R>>>10),R=b+(O^k&(w^O))+M[1]+4129170786&4294967295,b=w+(R<<5&4294967295|R>>>27),R=k+(w^O&(b^w))+M[6]+3225465664&4294967295,k=b+(R<<9&4294967295|R>>>23),R=O+(b^w&(k^b))+M[11]+643717713&4294967295,O=k+(R<<14&4294967295|R>>>18),R=w+(k^b&(O^k))+M[0]+3921069994&4294967295,w=O+(R<<20&4294967295|R>>>12),R=b+(O^k&(w^O))+M[5]+3593408605&4294967295,b=w+(R<<5&4294967295|R>>>27),R=k+(w^O&(b^w))+M[10]+38016083&4294967295,k=b+(R<<9&4294967295|R>>>23),R=O+(b^w&(k^b))+M[15]+3634488961&4294967295,O=k+(R<<14&4294967295|R>>>18),R=w+(k^b&(O^k))+M[4]+3889429448&4294967295,w=O+(R<<20&4294967295|R>>>12),R=b+(O^k&(w^O))+M[9]+568446438&4294967295,b=w+(R<<5&4294967295|R>>>27),R=k+(w^O&(b^w))+M[14]+3275163606&4294967295,k=b+(R<<9&4294967295|R>>>23),R=O+(b^w&(k^b))+M[3]+4107603335&4294967295,O=k+(R<<14&4294967295|R>>>18),R=w+(k^b&(O^k))+M[8]+1163531501&4294967295,w=O+(R<<20&4294967295|R>>>12),R=b+(O^k&(w^O))+M[13]+2850285829&4294967295,b=w+(R<<5&4294967295|R>>>27),R=k+(w^O&(b^w))+M[2]+4243563512&4294967295,k=b+(R<<9&4294967295|R>>>23),R=O+(b^w&(k^b))+M[7]+1735328473&4294967295,O=k+(R<<14&4294967295|R>>>18),R=w+(k^b&(O^k))+M[12]+2368359562&4294967295,w=O+(R<<20&4294967295|R>>>12),R=b+(w^O^k)+M[5]+4294588738&4294967295,b=w+(R<<4&4294967295|R>>>28),R=k+(b^w^O)+M[8]+2272392833&4294967295,k=b+(R<<11&4294967295|R>>>21),R=O+(k^b^w)+M[11]+1839030562&4294967295,O=k+(R<<16&4294967295|R>>>16),R=w+(O^k^b)+M[14]+4259657740&4294967295,w=O+(R<<23&4294967295|R>>>9),R=b+(w^O^k)+M[1]+2763975236&4294967295,b=w+(R<<4&4294967295|R>>>28),R=k+(b^w^O)+M[4]+1272893353&4294967295,k=b+(R<<11&4294967295|R>>>21),R=O+(k^b^w)+M[7]+4139469664&4294967295,O=k+(R<<16&4294967295|R>>>16),R=w+(O^k^b)+M[10]+3200236656&4294967295,w=O+(R<<23&4294967295|R>>>9),R=b+(w^O^k)+M[13]+681279174&4294967295,b=w+(R<<4&4294967295|R>>>28),R=k+(b^w^O)+M[0]+3936430074&4294967295,k=b+(R<<11&4294967295|R>>>21),R=O+(k^b^w)+M[3]+3572445317&4294967295,O=k+(R<<16&4294967295|R>>>16),R=w+(O^k^b)+M[6]+76029189&4294967295,w=O+(R<<23&4294967295|R>>>9),R=b+(w^O^k)+M[9]+3654602809&4294967295,b=w+(R<<4&4294967295|R>>>28),R=k+(b^w^O)+M[12]+3873151461&4294967295,k=b+(R<<11&4294967295|R>>>21),R=O+(k^b^w)+M[15]+530742520&4294967295,O=k+(R<<16&4294967295|R>>>16),R=w+(O^k^b)+M[2]+3299628645&4294967295,w=O+(R<<23&4294967295|R>>>9),R=b+(O^(w|~k))+M[0]+4096336452&4294967295,b=w+(R<<6&4294967295|R>>>26),R=k+(w^(b|~O))+M[7]+1126891415&4294967295,k=b+(R<<10&4294967295|R>>>22),R=O+(b^(k|~w))+M[14]+2878612391&4294967295,O=k+(R<<15&4294967295|R>>>17),R=w+(k^(O|~b))+M[5]+4237533241&4294967295,w=O+(R<<21&4294967295|R>>>11),R=b+(O^(w|~k))+M[12]+1700485571&4294967295,b=w+(R<<6&4294967295|R>>>26),R=k+(w^(b|~O))+M[3]+2399980690&4294967295,k=b+(R<<10&4294967295|R>>>22),R=O+(b^(k|~w))+M[10]+4293915773&4294967295,O=k+(R<<15&4294967295|R>>>17),R=w+(k^(O|~b))+M[1]+2240044497&4294967295,w=O+(R<<21&4294967295|R>>>11),R=b+(O^(w|~k))+M[8]+1873313359&4294967295,b=w+(R<<6&4294967295|R>>>26),R=k+(w^(b|~O))+M[15]+4264355552&4294967295,k=b+(R<<10&4294967295|R>>>22),R=O+(b^(k|~w))+M[6]+2734768916&4294967295,O=k+(R<<15&4294967295|R>>>17),R=w+(k^(O|~b))+M[13]+1309151649&4294967295,w=O+(R<<21&4294967295|R>>>11),R=b+(O^(w|~k))+M[4]+4149444226&4294967295,b=w+(R<<6&4294967295|R>>>26),R=k+(w^(b|~O))+M[11]+3174756917&4294967295,k=b+(R<<10&4294967295|R>>>22),R=O+(b^(k|~w))+M[2]+718787259&4294967295,O=k+(R<<15&4294967295|R>>>17),R=w+(k^(O|~b))+M[9]+3951481745&4294967295,D.g[0]=D.g[0]+b&4294967295,D.g[1]=D.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,D.g[2]=D.g[2]+O&4294967295,D.g[3]=D.g[3]+k&4294967295}s.prototype.v=function(D,b){b===void 0&&(b=D.length);const w=b-this.blockSize,M=this.C;let O=this.h,k=0;for(;k<b;){if(O==0)for(;k<=w;)l(this,D,k),k+=this.blockSize;if(typeof D=="string"){for(;k<b;)if(M[O++]=D.charCodeAt(k++),O==this.blockSize){l(this,M),O=0;break}}else for(;k<b;)if(M[O++]=D[k++],O==this.blockSize){l(this,M),O=0;break}}this.h=O,this.o+=b},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var b=1;b<D.length-8;++b)D[b]=0;b=this.o*8;for(var w=D.length-8;w<D.length;++w)D[w]=b&255,b/=256;for(this.v(D),D=Array(16),b=0,w=0;w<4;++w)for(let M=0;M<32;M+=8)D[b++]=this.g[w]>>>M&255;return D};function u(D,b){var w=p;return Object.prototype.hasOwnProperty.call(w,D)?w[D]:w[D]=b(D)}function f(D,b){this.h=b;const w=[];let M=!0;for(let O=D.length-1;O>=0;O--){const k=D[O]|0;M&&k==b||(w[O]=k,M=!1)}this.g=w}var p={};function g(D){return-128<=D&&D<128?u(D,function(b){return new f([b|0],b<0?-1:0)}):new f([D|0],D<0?-1:0)}function _(D){if(isNaN(D)||!isFinite(D))return S;if(D<0)return Y(_(-D));const b=[];let w=1;for(let M=0;D>=w;M++)b[M]=D/w|0,w*=4294967296;return new f(b,0)}function T(D,b){if(D.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(D.charAt(0)=="-")return Y(T(D.substring(1),b));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=_(Math.pow(b,8));let M=S;for(let k=0;k<D.length;k+=8){var O=Math.min(8,D.length-k);const R=parseInt(D.substring(k,k+O),b);O<8?(O=_(Math.pow(b,O)),M=M.j(O).add(_(R))):(M=M.j(w),M=M.add(_(R)))}return M}var S=g(0),C=g(1),q=g(16777216);r=f.prototype,r.m=function(){if(W(this))return-Y(this).m();let D=0,b=1;for(let w=0;w<this.g.length;w++){const M=this.i(w);D+=(M>=0?M:4294967296+M)*b,b*=4294967296}return D},r.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(J(this))return"0";if(W(this))return"-"+Y(this).toString(D);const b=_(Math.pow(D,6));var w=this;let M="";for(;;){const O=Ft(w,b).g;w=lt(w,O.j(b));let k=((w.g.length>0?w.g[0]:w.h)>>>0).toString(D);if(w=O,J(w))return k+M;for(;k.length<6;)k="0"+k;M=k+M}},r.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function J(D){if(D.h!=0)return!1;for(let b=0;b<D.g.length;b++)if(D.g[b]!=0)return!1;return!0}function W(D){return D.h==-1}r.l=function(D){return D=lt(this,D),W(D)?-1:J(D)?0:1};function Y(D){const b=D.g.length,w=[];for(let M=0;M<b;M++)w[M]=~D.g[M];return new f(w,~D.h).add(C)}r.abs=function(){return W(this)?Y(this):this},r.add=function(D){const b=Math.max(this.g.length,D.g.length),w=[];let M=0;for(let O=0;O<=b;O++){let k=M+(this.i(O)&65535)+(D.i(O)&65535),R=(k>>>16)+(this.i(O)>>>16)+(D.i(O)>>>16);M=R>>>16,k&=65535,R&=65535,w[O]=R<<16|k}return new f(w,w[w.length-1]&-2147483648?-1:0)};function lt(D,b){return D.add(Y(b))}r.j=function(D){if(J(this)||J(D))return S;if(W(this))return W(D)?Y(this).j(Y(D)):Y(Y(this).j(D));if(W(D))return Y(this.j(Y(D)));if(this.l(q)<0&&D.l(q)<0)return _(this.m()*D.m());const b=this.g.length+D.g.length,w=[];for(var M=0;M<2*b;M++)w[M]=0;for(M=0;M<this.g.length;M++)for(let O=0;O<D.g.length;O++){const k=this.i(M)>>>16,R=this.i(M)&65535,ae=D.i(O)>>>16,Me=D.i(O)&65535;w[2*M+2*O]+=R*Me,yt(w,2*M+2*O),w[2*M+2*O+1]+=k*Me,yt(w,2*M+2*O+1),w[2*M+2*O+1]+=R*ae,yt(w,2*M+2*O+1),w[2*M+2*O+2]+=k*ae,yt(w,2*M+2*O+2)}for(D=0;D<b;D++)w[D]=w[2*D+1]<<16|w[2*D];for(D=b;D<2*b;D++)w[D]=0;return new f(w,0)};function yt(D,b){for(;(D[b]&65535)!=D[b];)D[b+1]+=D[b]>>>16,D[b]&=65535,b++}function pt(D,b){this.g=D,this.h=b}function Ft(D,b){if(J(b))throw Error("division by zero");if(J(D))return new pt(S,S);if(W(D))return b=Ft(Y(D),b),new pt(Y(b.g),Y(b.h));if(W(b))return b=Ft(D,Y(b)),new pt(Y(b.g),b.h);if(D.g.length>30){if(W(D)||W(b))throw Error("slowDivide_ only works with positive integers.");for(var w=C,M=b;M.l(D)<=0;)w=ht(w),M=ht(M);var O=Rt(w,1),k=Rt(M,1);for(M=Rt(M,2),w=Rt(w,2);!J(M);){var R=k.add(M);R.l(D)<=0&&(O=O.add(w),k=R),M=Rt(M,1),w=Rt(w,1)}return b=lt(D,O.j(b)),new pt(O,b)}for(O=S;D.l(b)>=0;){for(w=Math.max(1,Math.floor(D.m()/b.m())),M=Math.ceil(Math.log(w)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),k=_(w),R=k.j(b);W(R)||R.l(D)>0;)w-=M,k=_(w),R=k.j(b);J(k)&&(k=C),O=O.add(k),D=lt(D,R)}return new pt(O,D)}r.B=function(D){return Ft(this,D).h},r.and=function(D){const b=Math.max(this.g.length,D.g.length),w=[];for(let M=0;M<b;M++)w[M]=this.i(M)&D.i(M);return new f(w,this.h&D.h)},r.or=function(D){const b=Math.max(this.g.length,D.g.length),w=[];for(let M=0;M<b;M++)w[M]=this.i(M)|D.i(M);return new f(w,this.h|D.h)},r.xor=function(D){const b=Math.max(this.g.length,D.g.length),w=[];for(let M=0;M<b;M++)w[M]=this.i(M)^D.i(M);return new f(w,this.h^D.h)};function ht(D){const b=D.g.length+1,w=[];for(let M=0;M<b;M++)w[M]=D.i(M)<<1|D.i(M-1)>>>31;return new f(w,D.h)}function Rt(D,b){const w=b>>5;b%=32;const M=D.g.length-w,O=[];for(let k=0;k<M;k++)O[k]=b>0?D.i(k+w)>>>b|D.i(k+w+1)<<32-b:D.i(k+w);return new f(O,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,e0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=T,ns=f}).apply(typeof nE<"u"?nE:typeof self<"u"?self:typeof window<"u"?window:{});var $c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var n0,Ul,i0,oh,Mm,r0,s0,a0;(function(){var r,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof $c=="object"&&$c];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function l(c,m){if(m)t:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var P=c[A];if(!(P in v))break t;v=v[P]}c=c[c.length-1],A=v[c],m=m(A),m!=A&&m!=null&&t(v,c,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});var u=u||{},f=this||self;function p(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function g(c,m,v){return c.call.apply(c.bind,arguments)}function _(c,m,v){return _=g,_.apply(null,arguments)}function T(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function S(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,P,B){for(var tt=Array(arguments.length-2),At=2;At<arguments.length;At++)tt[At-2]=arguments[At];return m.prototype[P].apply(A,tt)}}var C=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function q(c){const m=c.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=c[A];return v}return[]}function J(c,m){for(let A=1;A<arguments.length;A++){const P=arguments[A];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=c.length||0;const B=P.length||0;c.length=v+B;for(let tt=0;tt<B;tt++)c[v+tt]=P[tt]}else c.push(P)}}class W{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Y(c){f.setTimeout(()=>{throw c},0)}function lt(){var c=D;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class yt{constructor(){this.h=this.g=null}add(m,v){const A=pt.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var pt=new W(()=>new Ft,c=>c.reset());class Ft{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ht,Rt=!1,D=new yt,b=()=>{const c=Promise.resolve(void 0);ht=()=>{c.then(w)}};function w(){for(var c;c=lt();){try{c.h.call(c.g)}catch(v){Y(v)}var m=pt;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}Rt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,m),f.removeEventListener("test",v,m)}catch{}return c})();function R(c){return/^[\s\xa0]*$/.test(c)}function ae(c,m){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}S(ae,O),ae.prototype.init=function(c,m){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ae.Z.h.call(this)},ae.prototype.h=function(){ae.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Me="closure_listenable_"+(Math.random()*1e6|0),F=0;function et(c,m,v,A,P){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=P,this.key=++F,this.da=this.fa=!1}function ft(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function zt(c,m,v){for(const A in c)m.call(v,c[A],A,c)}function Qt(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function V(c){const m={};for(const v in c)m[v]=c[v];return m}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(c,m){let v,A;for(let P=1;P<arguments.length;P++){A=arguments[P];for(v in A)c[v]=A[v];for(let B=0;B<$.length;B++)v=$[B],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function st(c){this.src=c,this.g={},this.h=0}st.prototype.add=function(c,m,v,A,P){const B=c.toString();c=this.g[B],c||(c=this.g[B]=[],this.h++);const tt=bt(c,m,A,P);return tt>-1?(m=c[tt],v||(m.fa=!1)):(m=new et(m,this.src,B,!!A,P),m.fa=v,c.push(m)),m};function vt(c,m){const v=m.type;if(v in c.g){var A=c.g[v],P=Array.prototype.indexOf.call(A,m,void 0),B;(B=P>=0)&&Array.prototype.splice.call(A,P,1),B&&(ft(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function bt(c,m,v,A){for(let P=0;P<c.length;++P){const B=c[P];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==A)return P}return-1}var Pt="closure_lm_"+(Math.random()*1e6|0),xe={};function oe(c,m,v,A,P){if(Array.isArray(m)){for(let B=0;B<m.length;B++)oe(c,m[B],v,A,P);return null}return v=No(v),c&&c[Me]?c.J(m,v,p(A)?!!A.capture:!1,P):_s(c,m,v,!1,A,P)}function _s(c,m,v,A,P,B){if(!m)throw Error("Invalid event type");const tt=p(P)?!!P.capture:!!P;let At=ys(c);if(At||(c[Pt]=At=new st(c)),v=At.add(m,v,A,tt,B),v.proxy)return v;if(A=la(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)k||(P=tt),P===void 0&&(P=!1),c.addEventListener(m.toString(),A,P);else if(c.attachEvent)c.attachEvent(ui(m.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function la(){function c(v){return m.call(c.src,c.listener,v)}const m=Co;return c}function ua(c,m,v,A,P){if(Array.isArray(m))for(var B=0;B<m.length;B++)ua(c,m[B],v,A,P);else A=p(A)?!!A.capture:!!A,v=No(v),c&&c[Me]?(c=c.i,B=String(m).toString(),B in c.g&&(m=c.g[B],v=bt(m,v,A,P),v>-1&&(ft(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[B],c.h--)))):c&&(c=ys(c))&&(m=c.g[m.toString()],c=-1,m&&(c=bt(m,v,A,P)),(v=c>-1?m[c]:null)&&ca(v))}function ca(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[Me])vt(m.i,c);else{var v=c.type,A=c.proxy;m.removeEventListener?m.removeEventListener(v,A,c.capture):m.detachEvent?m.detachEvent(ui(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=ys(m))?(vt(v,c),v.h==0&&(v.src=null,m[Pt]=null)):ft(c)}}}function ui(c){return c in xe?xe[c]:xe[c]="on"+c}function Co(c,m){if(c.da)c=!0;else{m=new ae(m,this);const v=c.listener,A=c.ha||c.src;c.fa&&ca(c),c=v.call(A,m)}return c}function ys(c){return c=c[Pt],c instanceof st?c:null}var Do="__closure_events_fn_"+(Math.random()*1e9>>>0);function No(c){return typeof c=="function"?c:(c[Do]||(c[Do]=function(m){return c.handleEvent(m)}),c[Do])}function Ee(){M.call(this),this.i=new st(this),this.M=this,this.G=null}S(Ee,M),Ee.prototype[Me]=!0,Ee.prototype.removeEventListener=function(c,m,v,A){ua(this,c,m,v,A)};function ke(c,m){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=m.type||m,typeof m=="string")m=new O(m,c);else if(m instanceof O)m.target=m.target||c;else{var P=m;m=new O(A,c),nt(m,P)}P=!0;let B,tt;if(v)for(tt=v.length-1;tt>=0;tt--)B=m.g=v[tt],P=mr(B,A,!0,m)&&P;if(B=m.g=c,P=mr(B,A,!0,m)&&P,P=mr(B,A,!1,m)&&P,v)for(tt=0;tt<v.length;tt++)B=m.g=v[tt],P=mr(B,A,!1,m)&&P}Ee.prototype.N=function(){if(Ee.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let A=0;A<v.length;A++)ft(v[A]);delete c.g[m],c.h--}}this.G=null},Ee.prototype.J=function(c,m,v,A){return this.i.add(String(c),m,!1,v,A)},Ee.prototype.K=function(c,m,v,A){return this.i.add(String(c),m,!0,v,A)};function mr(c,m,v,A){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let B=0;B<m.length;++B){const tt=m[B];if(tt&&!tt.da&&tt.capture==v){const At=tt.listener,me=tt.ha||tt.src;tt.fa&&vt(c.i,tt),P=At.call(me,A)!==!1&&P}}return P&&!A.defaultPrevented}function nf(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=_(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:f.setTimeout(c,m||0)}function vu(c){c.g=nf(()=>{c.g=null,c.i&&(c.i=!1,vu(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class rn extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:vu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vs(c){M.call(this),this.h=c,this.g={}}S(vs,M);var Oo=[];function Vo(c){zt(c.g,function(m,v){this.g.hasOwnProperty(v)&&ca(m)},c),c.g={}}vs.prototype.N=function(){vs.Z.N.call(this),Vo(this)},vs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pr=f.JSON.stringify,rf=f.JSON.parse,Eu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Tu(){}function Au(){}var Kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function He(){O.call(this,"d")}S(He,O);function Nn(){O.call(this,"c")}S(Nn,O);var de={},Su=null;function ha(){return Su=Su||new Ee}de.Ia="serverreachability";function bu(c){O.call(this,de.Ia,c)}S(bu,O);function ci(c){const m=ha();ke(m,new bu(m))}de.STAT_EVENT="statevent";function Es(c,m){O.call(this,de.STAT_EVENT,c),this.stat=m}S(Es,O);function Te(c){const m=ha();ke(m,new Es(m,c))}de.Ja="timingevent";function hi(c,m){O.call(this,de.Ja,c),this.size=m}S(hi,O);function fi(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},m)}function Yn(){this.g=!0}Yn.prototype.ua=function(){this.g=!1};function sf(c,m,v,A,P,B){c.info(function(){if(c.g)if(B){var tt="",At=B.split("&");for(let Ht=0;Ht<At.length;Ht++){var me=At[Ht].split("=");if(me.length>1){const le=me[0];me=me[1];const xn=le.split("_");tt=xn.length>=2&&xn[1]=="type"?tt+(le+"="+me+"&"):tt+(le+"=redacted&")}}}else tt=null;else tt=B;return"XMLHTTP REQ ("+A+") [attempt "+P+"]: "+m+`
`+v+`
`+tt})}function wu(c,m,v,A,P,B,tt){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+P+"]: "+m+`
`+v+`
`+B+" "+tt})}function di(c,m,v,A){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+af(c,v)+(A?" "+A:"")})}function Ts(c,m){c.info(function(){return"TIMEOUT: "+m})}Yn.prototype.info=function(){};function af(c,m){if(!c.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(c=0;c<B.length;c++)if(Array.isArray(B[c])){var v=B[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var P=A[0];if(P!="noop"&&P!="stop"&&P!="close")for(let tt=1;tt<A.length;tt++)A[tt]=""}}}}return pr(B)}catch{return m}}var As={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Mo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},xo;function Ss(){}S(Ss,Tu),Ss.prototype.g=function(){return new XMLHttpRequest},xo=new Ss;function Li(c){return encodeURIComponent(String(c))}function Ru(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function Xn(c,m,v,A){this.j=c,this.i=m,this.l=v,this.S=A||1,this.V=new vs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new $n}function $n(){this.i=null,this.g="",this.h=!1}var Ae={},Le={};function mi(c,m,v){c.M=1,c.A=bs(be(m)),c.u=v,c.R=!0,fa(c,null)}function fa(c,m){c.F=Date.now(),pi(c),c.B=be(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),ga(v.i,"t",A),c.C=0,v=c.j.L,c.h=new $n,c.g=Bu(c.j,v?m:null,!c.u),c.P>0&&(c.O=new rn(_(c.Y,c,c.g),c.P)),m=c.V,v=c.g,A=c.ba;var P="readystatechange";Array.isArray(P)||(P&&(Oo[0]=P.toString()),P=Oo);for(let B=0;B<P.length;B++){const tt=oe(v,P[B],A||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),ci(),sf(c.i,c.v,c.B,c.l,c.S,c.u)}Xn.prototype.ba=function(c){c=c.target;const m=this.O;m&&Wn(c)==3?m.j():this.Y(c)},Xn.prototype.Y=function(c){try{if(c==this.g)t:{const At=Wn(this.g),me=this.g.ya(),Ht=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||Ge(this.g)))){this.K||At!=4||me==7||(me==8||Ht<=0?ci(3):ci(2)),gi(this);var m=this.g.ca();this.X=m;var v=of(this);if(this.o=m==200,wu(this.i,this.v,this.B,this.l,this.S,At,m),this.o){if(this.U&&!this.L){e:{if(this.g){var A,P=this.g;if((A=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(A)){var B=A;break e}}B=null}if(c=B)di(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_i(this,c);else{this.o=!1,this.m=3,Te(12),_n(this),On(this);break t}}if(this.R){c=!0;let le;for(;!this.K&&this.C<v.length;)if(le=Cu(this,v),le==Le){At==4&&(this.m=4,Te(14),c=!1),di(this.i,this.l,null,"[Incomplete Response]");break}else if(le==Ae){this.m=4,Te(15),di(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else di(this.i,this.l,le,null),_i(this,le);if(Iu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||v.length!=0||this.h.h||(this.m=1,Te(16),c=!1),this.o=this.o&&c,!c)di(this.i,this.l,v,"[Invalid Chunked Response]"),_n(this),On(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Xo(tt),tt.P=!0,Te(11))}}else di(this.i,this.l,v,null),_i(this,v);At==4&&_n(this),this.o&&!this.K&&(At==4?Uu(this.j,this):(this.o=!1,pi(this)))}else ji(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Te(12)):(this.m=0,Te(13)),_n(this),On(this)}}}catch{}finally{}};function of(c){if(!Iu(c))return c.g.la();const m=Ge(c.g);if(m==="")return"";let v="";const A=m.length,P=Wn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return _n(c),On(c),"";c.h.i=new f.TextDecoder}for(let B=0;B<A;B++)c.h.h=!0,v+=c.h.i.decode(m[B],{stream:!(P&&B==A-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function Iu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Cu(c,m){var v=c.C,A=m.indexOf(`
`,v);return A==-1?Le:(v=Number(m.substring(v,A)),isNaN(v)?Ae:(A+=1,A+v>m.length?Le:(m=m.slice(A,A+v),c.C=A+v,m)))}Xn.prototype.cancel=function(){this.K=!0,_n(this)};function pi(c){c.T=Date.now()+c.H,da(c,c.H)}function da(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=fi(_(c.aa,c),m)}function gi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Xn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Ts(this.i,this.B),this.M!=2&&(ci(),Te(17)),_n(this),this.m=2,On(this)):da(this,this.T-c)};function On(c){c.j.I==0||c.K||Uu(c.j,c)}function _n(c){gi(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,Vo(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function _i(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||vi(v.h,c))){if(!c.L&&vi(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var P=A;if(P[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Ta(v),Sr(v);else break t;Os(v),Te(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=fi(_(v.Va,v),6e3));yi(v.h)<=1&&v.ta&&(v.ta=void 0)}else wi(v,11)}else if((c.L||v.g==c)&&Ta(v),!R(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let Ht=P[m];const le=Ht[0];if(!(le<=v.K))if(v.K=le,Ht=Ht[1],v.I==2)if(Ht[0]=="c"){v.M=Ht[1],v.ba=Ht[2];const xn=Ht[3];xn!=null&&(v.ka=xn,v.j.info("VER="+v.ka));const Ri=Ht[4];Ri!=null&&(v.za=Ri,v.j.info("SVER="+v.za));const ti=Ht[5];ti!=null&&typeof ti=="number"&&ti>0&&(A=1.5*ti,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const ei=c.g;if(ei){const Vs=ei.g?ei.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vs){var B=A.h;B.g||Vs.indexOf("spdy")==-1&&Vs.indexOf("quic")==-1&&Vs.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Uo(B,B.h),B.h=null))}if(A.G){const Aa=ei.g?ei.g.getResponseHeader("X-HTTP-Session-Id"):null;Aa&&(A.wa=Aa,Kt(A.J,A.G,Aa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var tt=c;if(A.na=ju(A,A.L?A.ba:null,A.W),tt.L){Lo(A.h,tt);var At=tt,me=A.O;me&&(At.H=me),At.D&&(gi(At),pi(At)),A.g=tt}else ku(A);v.i.length>0&&bi(v)}else Ht[0]!="stop"&&Ht[0]!="close"||wi(v,7);else v.I==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?wi(v,7):Ko(v):Ht[0]!="noop"&&v.l&&v.l.qa(Ht),v.A=0)}}ci(4)}catch{}}var Se=class{constructor(c,m){this.g=c,this.map=m}};function ko(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Po(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function yi(c){return c.h?1:c.g?c.g.size:0}function vi(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Uo(c,m){c.g?c.g.add(m):c.h=m}function Lo(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}ko.prototype.cancel=function(){if(this.i=zo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function zo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return q(c.i)}var Du=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ma(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let P,B=null;A>=0?(P=c[v].substring(0,A),B=c[v].substring(A+1)):P=c[v],m(P,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function yn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof yn?(this.l=c.l,ze(this,c.j),this.o=c.o,this.g=c.g,gr(this,c.u),this.h=c.h,jo(this,Mu(c.i)),this.m=c.m):c&&(m=String(c).match(Du))?(this.l=!1,ze(this,m[1]||"",!0),this.o=Ei(m[2]||""),this.g=Ei(m[3]||"",!0),gr(this,m[4]),this.h=Ei(m[5]||"",!0),jo(this,m[6]||"",!0),this.m=Ei(m[7]||"")):(this.l=!1,this.i=new yr(null,this.l))}yn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(ws(m,pa,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(ws(m,pa,!0),"@"),c.push(Li(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(ws(v,v.charAt(0)=="/"?Bo:Nu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",ws(v,Ou)),c.join("")},yn.prototype.resolve=function(c){const m=be(this);let v=!!c.j;v?ze(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var A=c.h;if(v)gr(m,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var P=m.h.lastIndexOf("/");P!=-1&&(A=m.h.slice(0,P+1)+A)}if(P=A,P==".."||P==".")A="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){A=P.lastIndexOf("/",0)==0,P=P.split("/");const B=[];for(let tt=0;tt<P.length;){const At=P[tt++];At=="."?A&&tt==P.length&&B.push(""):At==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),A&&tt==P.length&&B.push("")):(B.push(At),A=!0)}A=B.join("/")}else A=P}return v?m.h=A:v=c.i.toString()!=="",v?jo(m,Mu(c.i)):v=!!c.m,v&&(m.m=c.m),m};function be(c){return new yn(c)}function ze(c,m,v){c.j=v?Ei(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function gr(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function jo(c,m,v){m instanceof yr?(c.i=m,_a(c.i,c.l)):(v||(m=ws(m,_r)),c.i=new yr(m,c.l))}function Kt(c,m,v){c.i.set(m,v)}function bs(c){return Kt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ei(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ws(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,ln),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ln(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var pa=/[#\/\?@]/g,Nu=/[#\?:]/g,Bo=/[#\?]/g,_r=/[#\?@]/g,Ou=/#/g;function yr(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function un(c){c.g||(c.g=new Map,c.h=0,c.i&&ma(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=yr.prototype,r.add=function(c,m){un(this),this.i=null,c=vr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function Vu(c,m){un(c),m=vr(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function qo(c,m){return un(c),m=vr(c,m),c.g.has(m)}r.forEach=function(c,m){un(this),this.g.forEach(function(v,A){v.forEach(function(P){c.call(m,P,A,this)},this)},this)};function Ho(c,m){un(c);let v=[];if(typeof m=="string")qo(c,m)&&(v=v.concat(c.g.get(vr(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}r.set=function(c,m){return un(this),this.i=null,c=vr(this,c),qo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},r.get=function(c,m){return c?(c=Ho(this,c),c.length>0?String(c[0]):m):m};function ga(c,m,v){Vu(c,m),v.length>0&&(c.i=null,c.g.set(vr(c,m),q(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const P=Li(v);v=Ho(this,v);for(let B=0;B<v.length;B++){let tt=P;v[B]!==""&&(tt+="="+Li(v[B])),c.push(tt)}}return this.i=c.join("&")};function Mu(c){const m=new yr;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function vr(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function _a(c,m){m&&!c.j&&(un(c),c.i=null,c.g.forEach(function(v,A){const P=A.toLowerCase();A!=P&&(Vu(this,A),ga(this,P,v))},c)),c.j=m}function Zn(c,m){const v=new Yn;if(f.Image){const A=new Image;A.onload=T(Vn,v,"TestLoadImage: loaded",!0,m,A),A.onerror=T(Vn,v,"TestLoadImage: error",!1,m,A),A.onabort=T(Vn,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=T(Vn,v,"TestLoadImage: timeout",!1,m,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else m(!1)}function Go(c,m){const v=new Yn,A=new AbortController,P=setTimeout(()=>{A.abort(),Vn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:A.signal}).then(B=>{clearTimeout(P),B.ok?Vn(v,"TestPingServer: ok",!0,m):Vn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),Vn(v,"TestPingServer: error",!1,m)})}function Vn(c,m,v,A,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),A(v)}catch{}}function Er(){this.g=new Eu}function Ti(c){this.i=c.Sb||null,this.h=c.ab||!1}S(Ti,Tu),Ti.prototype.g=function(){return new Rs(this.i,this.h)};function Rs(c,m){Ee.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Rs,Ee),r=Rs.prototype,r.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Jn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||f).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Tr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Jn(this)),this.g&&(this.readyState=3,Jn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ya(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ya(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?Tr(this):Jn(this),this.readyState==3&&ya(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Tr(this))},r.Na=function(c){this.g&&(this.response=c,Tr(this))},r.ga=function(){this.g&&Tr(this)};function Tr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Jn(c)}r.setRequestHeader=function(c,m){this.A.append(c,m)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function Jn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Rs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Mn(c){let m="";return zt(c,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function Is(c,m,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=Mn(v),typeof c=="string"?v!=null&&Li(v):Kt(c,m,v))}function Zt(c){Ee.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Zt,Ee);var Ai=/^https?$/i,Fo=["POST","PUT"];r=Zt.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():xo.g(),this.g.onreadystatechange=C(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(B){Cs(this,B);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var P in A)v.set(P,A[P]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const B of A.keys())v.set(B,A.get(B));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),P=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Fo,m,void 0)>=0)||A||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,tt]of v)this.g.setRequestHeader(B,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(B){Cs(this,B)}};function Cs(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,Qo(c),zi(c)}function Qo(c){c.A||(c.A=!0,ke(c,"complete"),ke(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,ke(this,"complete"),ke(this,"abort"),zi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zi(this,!0)),Zt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ds(this):this.Xa())},r.Xa=function(){Ds(this)};function Ds(c){if(c.h&&typeof u<"u"){if(c.v&&Wn(c)==4)setTimeout(c.Ca.bind(c),0);else if(ke(c,"readystatechange"),Wn(c)==4){c.h=!1;try{const B=c.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var A;if(A=B===0){let tt=String(c.D).match(Du)[1]||null;!tt&&f.self&&f.self.location&&(tt=f.self.location.protocol.slice(0,-1)),A=!Ai.test(tt?tt.toLowerCase():"")}v=A}if(v)ke(c,"complete"),ke(c,"success");else{c.o=6;try{var P=Wn(c)>2?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.ca()+"]",Qo(c)}}finally{zi(c)}}}}function zi(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||ke(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Wn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Wn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),rf(m)}};function Ge(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ji(c){const m={};c=(c.g&&Wn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(R(c[A]))continue;var v=Ru(c[A]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[P]||[];m[P]=B,B.push(v)}Qt(m,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Si(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function Ar(c){this.za=0,this.i=[],this.j=new Yn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Si("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Si("baseRetryDelayMs",5e3,c),this.Za=Si("retryDelaySeedMs",1e4,c),this.Ta=Si("forwardChannelMaxRetries",2,c),this.va=Si("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new ko(c&&c.concurrentRequestLimit),this.Ba=new Er,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ar.prototype,r.ka=8,r.I=1,r.connect=function(c,m,v,A){Te(0),this.W=c,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=ju(this,null,this.W),bi(this)};function Ko(c){if(va(c),c.I==3){var m=c.V++,v=be(c.J);if(Kt(v,"SID",c.M),Kt(v,"RID",m),Kt(v,"TYPE","terminate"),Ns(c,v),m=new Xn(c,c.j,m),m.M=2,m.A=bs(be(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=m.A,v=!0),v||(m.g=Bu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),pi(m)}zu(c)}function Sr(c){c.g&&(Xo(c),c.g.cancel(),c.g=null)}function va(c){Sr(c),c.v&&(f.clearTimeout(c.v),c.v=null),Ta(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function bi(c){if(!Po(c.h)&&!c.m){c.m=!0;var m=c.Ea;ht||b(),Rt||(ht(),Rt=!0),D.add(m,c),c.D=0}}function Ea(c,m){return yi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=fi(_(c.Ea,c,m),Lu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const P=new Xn(this,this.j,c);let B=this.o;if(this.U&&(B?(B=V(B),nt(B,this.U)):B=this.U),this.u!==null||this.R||(P.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=xu(this,P,m),v=be(this.J),Kt(v,"RID",c),Kt(v,"CVER",22),this.G&&Kt(v,"X-HTTP-Session-Id",this.G),Ns(this,v),B&&(this.R?m="headers="+Li(Mn(B))+"&"+m:this.u&&Is(v,this.u,B)),Uo(this.h,P),this.Ra&&Kt(v,"TYPE","init"),this.S?(Kt(v,"$req",m),Kt(v,"SID","null"),P.U=!0,mi(P,v,null)):mi(P,v,m),this.I=2}}else this.I==3&&(c?Yo(this,c):this.i.length==0||Po(this.h)||Yo(this))};function Yo(c,m){var v;m?v=m.l:v=c.V++;const A=be(c.J);Kt(A,"SID",c.M),Kt(A,"RID",v),Kt(A,"AID",c.K),Ns(c,A),c.u&&c.o&&Is(A,c.u,c.o),v=new Xn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=xu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Uo(c.h,v),mi(v,A,m)}function Ns(c,m){c.H&&zt(c.H,function(v,A){Kt(m,A,v)}),c.l&&zt({},function(v,A){Kt(m,A,v)})}function xu(c,m,v){v=Math.min(c.i.length,v);const A=c.l?_(c.l.Ka,c.l,c):null;t:{var P=c.i;let At=-1;for(;;){const me=["count="+v];At==-1?v>0?(At=P[0].g,me.push("ofs="+At)):At=0:me.push("ofs="+At);let Ht=!0;for(let le=0;le<v;le++){var B=P[le].g;const xn=P[le].map;if(B-=At,B<0)At=Math.max(0,P[le].g-100),Ht=!1;else try{B="req"+B+"_"||"";try{var tt=xn instanceof Map?xn:Object.entries(xn);for(const[Ri,ti]of tt){let ei=ti;p(ti)&&(ei=pr(ti)),me.push(B+Ri+"="+encodeURIComponent(ei))}}catch(Ri){throw me.push(B+"type="+encodeURIComponent("_badmap")),Ri}}catch{A&&A(xn)}}if(Ht){tt=me.join("&");break t}}tt=void 0}return c=c.i.splice(0,v),m.G=c,tt}function ku(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;ht||b(),Rt||(ht(),Rt=!0),D.add(m,c),c.A=0}}function Os(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=fi(_(c.Da,c),Lu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Pu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=fi(_(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Te(10),Sr(this),Pu(this))};function Xo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Pu(c){c.g=new Xn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=be(c.na);Kt(m,"RID","rpc"),Kt(m,"SID",c.M),Kt(m,"AID",c.K),Kt(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Kt(m,"TO",c.ia),Kt(m,"TYPE","xmlhttp"),Ns(c,m),c.u&&c.o&&Is(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=bs(be(m)),v.u=null,v.R=!0,fa(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Sr(this),Os(this),Te(19))};function Ta(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Uu(c,m){var v=null;if(c.g==m){Ta(c),Xo(c),c.g=null;var A=2}else if(vi(c.h,m))v=m.G,Lo(c.h,m),A=1;else return;if(c.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=c.D;A=ha(),ke(A,new hi(A,v)),bi(c)}else ku(c);else if(P=m.m,P==3||P==0&&m.X>0||!(A==1&&Ea(c,m)||A==2&&Os(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),P){case 1:wi(c,5);break;case 4:wi(c,10);break;case 3:wi(c,6);break;default:wi(c,2)}}}function Lu(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function wi(c,m){if(c.j.info("Error code "+m),m==2){var v=_(c.bb,c),A=c.Ua;const P=!A;A=new yn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||ze(A,"https"),bs(A),P?Zn(A.toString(),v):Go(A.toString(),v)}else Te(2);c.I=0,c.l&&c.l.pa(m),zu(c),va(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))};function zu(c){if(c.I=0,c.ja=[],c.l){const m=zo(c.h);(m.length!=0||c.i.length!=0)&&(J(c.ja,m),J(c.ja,c.i),c.h.i.length=0,q(c.i),c.i.length=0),c.l.oa()}}function ju(c,m,v){var A=v instanceof yn?be(v):new yn(v);if(A.g!="")m&&(A.g=m+"."+A.g),gr(A,A.u);else{var P=f.location;A=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const B=new yn(null);A&&ze(B,A),m&&(B.g=m),P&&gr(B,P),v&&(B.h=v),A=B}return v=c.G,m=c.wa,v&&m&&Kt(A,v,m),Kt(A,"VER",c.ka),Ns(c,A),A}function Bu(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new Zt(new Ti({ab:v})):new Zt(c.ma),m.Fa(c.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function qu(){}r=qu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function br(){}br.prototype.g=function(c,m){return new sn(c,m)};function sn(c,m){Ee.call(this),this.g=new Ar(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!R(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Bi(this)}S(sn,Ee),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Ko(this.g)},sn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=pr(c),c=v);m.i.push(new Se(m.Ya++,c)),m.I==3&&bi(m)},sn.prototype.N=function(){this.g.l=null,delete this.j,Ko(this.g),delete this.g,sn.Z.N.call(this)};function Hu(c){He.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){t:{for(const v in m){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}S(Hu,He);function Gu(){Nn.call(this),this.status=1}S(Gu,Nn);function Bi(c){this.g=c}S(Bi,qu),Bi.prototype.ra=function(){ke(this.g,"a")},Bi.prototype.qa=function(c){ke(this.g,new Hu(c))},Bi.prototype.pa=function(c){ke(this.g,new Gu)},Bi.prototype.oa=function(){ke(this.g,"b")},br.prototype.createWebChannel=br.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,a0=function(){return new br},s0=function(){return ha()},r0=de,Mm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},As.NO_ERROR=0,As.TIMEOUT=8,As.HTTP_ERROR=6,oh=As,Mo.COMPLETE="complete",i0=Mo,Au.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",Ee.prototype.listen=Ee.prototype.J,Ul=Au,Zt.prototype.listenOnce=Zt.prototype.K,Zt.prototype.getLastError=Zt.prototype.Ha,Zt.prototype.getLastErrorCode=Zt.prototype.ya,Zt.prototype.getStatus=Zt.prototype.ca,Zt.prototype.getResponseJson=Zt.prototype.La,Zt.prototype.getResponseText=Zt.prototype.la,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Fa,n0=Zt}).apply(typeof $c<"u"?$c:typeof self<"u"?self:typeof window<"u"?window:{});const iE="@firebase/firestore",rE="4.9.2";class tn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");let Ao="12.3.0";const na=new Zm("@firebase/firestore");function Wa(){return na.logLevel}function rt(r,...t){if(na.logLevel<=Vt.DEBUG){const n=t.map(cp);na.debug(`Firestore (${Ao}): ${r}`,...n)}}function hr(r,...t){if(na.logLevel<=Vt.ERROR){const n=t.map(cp);na.error(`Firestore (${Ao}): ${r}`,...n)}}function fo(r,...t){if(na.logLevel<=Vt.WARN){const n=t.map(cp);na.warn(`Firestore (${Ao}): ${r}`,...n)}}function cp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function dt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,o0(r,s,n)}function o0(r,t,n){let s=`FIRESTORE (${Ao}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw hr(s),new Error(s)}function Lt(r,t,n,s){let l="Unexpected state";typeof n=="string"?l=n:s=n,r||o0(t,l,s)}function Et(r,t){return r}const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends dr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class is{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class l0{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class uC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(tn.UNAUTHENTICATED)))}shutdown(){}}class cC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class hC{constructor(t){this.t=t,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Lt(this.o===void 0,42304);let s=this.i;const l=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new is;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new is,t.enqueueRetryable((()=>l(this.currentUser)))};const f=()=>{const g=u;t.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},p=g=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new is)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Lt(typeof s.accessToken=="string",31837,{l:s}),new l0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Lt(t===null||typeof t=="string",2055,{h:t}),new tn(t)}}class fC{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class dC{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new fC(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class sE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mC{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Rn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Lt(this.o===void 0,3512);const s=u=>{u.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,rt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const l=u=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new sE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Lt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new sE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function pC(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class hp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=pC(40);for(let u=0;u<l.length;++u)s.length<20&&l[u]<n&&(s+=t.charAt(l[u]%62))}return s}}function Mt(r,t){return r<t?-1:r>t?1:0}function xm(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const l=r.charAt(s),u=t.charAt(s);if(l!==u)return gm(l)===gm(u)?Mt(l,u):gm(l)?1:-1}return Mt(r.length,t.length)}const gC=55296,_C=57343;function gm(r){const t=r.charCodeAt(0);return t>=gC&&t<=_C}function mo(r,t,n){return r.length===t.length&&r.every(((s,l)=>n(s,t[l])))}const aE="__name__";class Vi{constructor(t,n,s){n===void 0?n=0:n>t.length&&dt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&dt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Vi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Vi?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let l=0;l<s;l++){const u=Vi.compareSegments(t.get(l),n.get(l));if(u!==0)return u}return Mt(t.length,n.length)}static compareSegments(t,n){const s=Vi.isNumericId(t),l=Vi.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?Vi.extractNumericId(t).compare(Vi.extractNumericId(n)):xm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ns.fromString(t.substring(4,t.length-2))}}class ee extends Vi{construct(t,n,s){return new ee(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new it(K.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((l=>l.length>0)))}return new ee(n)}static emptyPath(){return new ee([])}}const yC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $e extends Vi{construct(t,n,s){return new $e(t,n,s)}static isValidIdentifier(t){return yC.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$e.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===aE}static keyField(){return new $e([aE])}static fromServerFormat(t){const n=[];let s="",l=0;const u=()=>{if(s.length===0)throw new it(K.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new it(K.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new it(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=g,l+=2}else p==="`"?(f=!f,l++):p!=="."||f?(s+=p,l++):(u(),l++)}if(u(),f)throw new it(K.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new $e(n)}static emptyPath(){return new $e([])}}class ut{constructor(t){this.path=t}static fromPath(t){return new ut(ee.fromString(t))}static fromName(t){return new ut(ee.fromString(t).popFirst(5))}static empty(){return new ut(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ee.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ut(new ee(t.slice()))}}function u0(r,t,n){if(!n)throw new it(K.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function vC(r,t,n,s){if(t===!0&&s===!0)throw new it(K.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function oE(r){if(!ut.isDocumentKey(r))throw new it(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function lE(r){if(ut.isDocumentKey(r))throw new it(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function c0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function zh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":dt(12329,{type:typeof r})}function lr(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new it(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zh(r);throw new it(K.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}function Oe(r,t){const n={typeString:r};return t&&(n.value=t),n}function hu(r,t){if(!c0(r))throw new it(K.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const l=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(l&&typeof f!==l){n=`JSON field '${s}' must be a ${l}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new it(K.INVALID_ARGUMENT,n);return!0}const uE=-62135596800,cE=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(t){return se.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*cE);return new se(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new it(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new it(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<uE)throw new it(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new it(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cE}_compareTo(t){return this.seconds===t.seconds?Mt(this.nanoseconds,t.nanoseconds):Mt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(hu(t,se._jsonSchema))return new se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-uE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:Oe("string",se._jsonSchemaVersion),seconds:Oe("number"),nanoseconds:Oe("number")};class gt{static fromTimestamp(t){return new gt(t)}static min(){return new gt(new se(0,0))}static max(){return new gt(new se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Jl=-1;function EC(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=gt.fromTimestamp(s===1e9?new se(n+1,0):new se(n,s));return new as(l,ut.empty(),t)}function TC(r){return new as(r.readTime,r.key,Jl)}class as{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new as(gt.min(),ut.empty(),Jl)}static max(){return new as(gt.max(),ut.empty(),Jl)}}function AC(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=ut.comparator(r.documentKey,t.documentKey),n!==0?n:Mt(r.largestBatchId,t.largestBatchId))}const SC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function So(r){if(r.code!==K.FAILED_PRECONDITION||r.message!==SC)throw r;rt("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Z(((s,l)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,l)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):Z.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):Z.reject(n)}static resolve(t){return new Z(((n,s)=>{n(t)}))}static reject(t){return new Z(((n,s)=>{s(t)}))}static waitFor(t){return new Z(((n,s)=>{let l=0,u=0,f=!1;t.forEach((p=>{++l,p.next((()=>{++u,f&&u===l&&n()}),(g=>s(g)))})),f=!0,u===l&&n()}))}static or(t){let n=Z.resolve(!1);for(const s of t)n=n.next((l=>l?Z.resolve(l):s()));return n}static forEach(t,n){const s=[];return t.forEach(((l,u)=>{s.push(n.call(this,l,u))})),this.waitFor(s)}static mapArray(t,n){return new Z(((s,l)=>{const u=t.length,f=new Array(u);let p=0;for(let g=0;g<u;g++){const _=g;n(t[_]).next((T=>{f[_]=T,++p,p===u&&s(f)}),(T=>l(T)))}}))}static doWhile(t,n){return new Z(((s,l)=>{const u=()=>{t()===!0?n().next((()=>{u()}),l):s()};u()}))}}function wC(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function bo(r){return r.name==="IndexedDbTransactionError"}class jh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}jh.ce=-1;const fp=-1;function fu(r){return r==null}function Ah(r){return r===0&&1/r==-1/0}function RC(r){return typeof r=="number"&&Number.isInteger(r)&&!Ah(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const h0="";function IC(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=hE(t)),t=CC(r.get(n),t);return hE(t)}function CC(r,t){let n=t;const s=r.length;for(let l=0;l<s;l++){const u=r.charAt(l);switch(u){case"\0":n+="";break;case h0:n+="";break;default:n+=u}}return n}function hE(r){return r+h0+""}function fE(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function ps(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function f0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ce{constructor(t,n){this.comparator=t,this.root=n||Xe.EMPTY}insert(t,n){return new ce(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Xe.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Xe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Zc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Zc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Zc(this.root,t,this.comparator,!0)}}class Zc{constructor(t,n,s,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&l&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Xe{constructor(t,n,s,l,u){this.key=t,this.value=n,this.color=s??Xe.RED,this.left=l??Xe.EMPTY,this.right=u??Xe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,l,u){return new Xe(t??this.key,n??this.value,s??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let l=this;const u=s(t,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(t,n,s),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Xe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return Xe.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Xe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Xe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw dt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw dt(27949);return t+(this.isRed()?0:1)}}Xe.EMPTY=null,Xe.RED=!0,Xe.BLACK=!1;Xe.EMPTY=new class{constructor(){this.size=0}get key(){throw dt(57766)}get value(){throw dt(16141)}get color(){throw dt(16727)}get left(){throw dt(29726)}get right(){throw dt(36894)}copy(t,n,s,l,u){return this}insert(t,n,s){return new Xe(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ue{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new dE(this.data.getIterator())}getIteratorFrom(t){return new dE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Ue)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Ue(this.comparator);return n.data=t,n}}class dE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Cn{constructor(t){this.fields=t,t.sort($e.comparator)}static empty(){return new Cn([])}unionWith(t){let n=new Ue($e.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Cn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return mo(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}class d0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ze{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new d0("Invalid base64 string: "+u):u}})(t);return new Ze(n)}static fromUint8Array(t){const n=(function(l){let u="";for(let f=0;f<l.length;++f)u+=String.fromCharCode(l[f]);return u})(t);return new Ze(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Mt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ze.EMPTY_BYTE_STRING=new Ze("");const DC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function os(r){if(Lt(!!r,39018),typeof r=="string"){let t=0;const n=DC.exec(r);if(Lt(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ye(r.seconds),nanos:ye(r.nanos)}}function ye(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ls(r){return typeof r=="string"?Ze.fromBase64String(r):Ze.fromUint8Array(r)}const m0="server_timestamp",p0="__type__",g0="__previous_value__",_0="__local_write_time__";function dp(r){return(r?.mapValue?.fields||{})[p0]?.stringValue===m0}function Bh(r){const t=r.mapValue.fields[g0];return dp(t)?Bh(t):t}function Wl(r){const t=os(r.mapValue.fields[_0].timestampValue);return new se(t.seconds,t.nanos)}class NC{constructor(t,n,s,l,u,f,p,g,_,T){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=_,this.isUsingEmulator=T}}const Sh="(default)";class tu{constructor(t,n){this.projectId=t,this.database=n||Sh}static empty(){return new tu("","")}get isDefaultDatabase(){return this.database===Sh}isEqual(t){return t instanceof tu&&t.projectId===this.projectId&&t.database===this.database}}const y0="__type__",OC="__max__",Jc={mapValue:{}},v0="__vector__",bh="value";function us(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?dp(r)?4:MC(r)?9007199254740991:VC(r)?10:11:dt(28295,{value:r})}function Ui(r,t){if(r===t)return!0;const n=us(r);if(n!==us(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Wl(r).isEqual(Wl(t));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const f=os(l.timestampValue),p=os(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,u){return ls(l.bytesValue).isEqual(ls(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,u){return ye(l.geoPointValue.latitude)===ye(u.geoPointValue.latitude)&&ye(l.geoPointValue.longitude)===ye(u.geoPointValue.longitude)})(r,t);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return ye(l.integerValue)===ye(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const f=ye(l.doubleValue),p=ye(u.doubleValue);return f===p?Ah(f)===Ah(p):isNaN(f)&&isNaN(p)}return!1})(r,t);case 9:return mo(r.arrayValue.values||[],t.arrayValue.values||[],Ui);case 10:case 11:return(function(l,u){const f=l.mapValue.fields||{},p=u.mapValue.fields||{};if(fE(f)!==fE(p))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(p[g]===void 0||!Ui(f[g],p[g])))return!1;return!0})(r,t);default:return dt(52216,{left:r})}}function eu(r,t){return(r.values||[]).find((n=>Ui(n,t)))!==void 0}function po(r,t){if(r===t)return 0;const n=us(r),s=us(t);if(n!==s)return Mt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Mt(r.booleanValue,t.booleanValue);case 2:return(function(u,f){const p=ye(u.integerValue||u.doubleValue),g=ye(f.integerValue||f.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(r,t);case 3:return mE(r.timestampValue,t.timestampValue);case 4:return mE(Wl(r),Wl(t));case 5:return xm(r.stringValue,t.stringValue);case 6:return(function(u,f){const p=ls(u),g=ls(f);return p.compareTo(g)})(r.bytesValue,t.bytesValue);case 7:return(function(u,f){const p=u.split("/"),g=f.split("/");for(let _=0;_<p.length&&_<g.length;_++){const T=Mt(p[_],g[_]);if(T!==0)return T}return Mt(p.length,g.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,f){const p=Mt(ye(u.latitude),ye(f.latitude));return p!==0?p:Mt(ye(u.longitude),ye(f.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return pE(r.arrayValue,t.arrayValue);case 10:return(function(u,f){const p=u.fields||{},g=f.fields||{},_=p[bh]?.arrayValue,T=g[bh]?.arrayValue,S=Mt(_?.values?.length||0,T?.values?.length||0);return S!==0?S:pE(_,T)})(r.mapValue,t.mapValue);case 11:return(function(u,f){if(u===Jc.mapValue&&f===Jc.mapValue)return 0;if(u===Jc.mapValue)return 1;if(f===Jc.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),_=f.fields||{},T=Object.keys(_);g.sort(),T.sort();for(let S=0;S<g.length&&S<T.length;++S){const C=xm(g[S],T[S]);if(C!==0)return C;const q=po(p[g[S]],_[T[S]]);if(q!==0)return q}return Mt(g.length,T.length)})(r.mapValue,t.mapValue);default:throw dt(23264,{he:n})}}function mE(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Mt(r,t);const n=os(r),s=os(t),l=Mt(n.seconds,s.seconds);return l!==0?l:Mt(n.nanos,s.nanos)}function pE(r,t){const n=r.values||[],s=t.values||[];for(let l=0;l<n.length&&l<s.length;++l){const u=po(n[l],s[l]);if(u)return u}return Mt(n.length,s.length)}function go(r){return km(r)}function km(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=os(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ls(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ut.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",l=!0;for(const u of n.values||[])l?l=!1:s+=",",s+=km(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const f of s)u?u=!1:l+=",",l+=`${f}:${km(n.fields[f])}`;return l+"}"})(r.mapValue):dt(61005,{value:r})}function lh(r){switch(us(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Bh(r);return t?16+lh(t):16;case 5:return 2*r.stringValue.length;case 6:return ls(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,u)=>l+lh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return ps(s.fields,((u,f)=>{l+=u.length+lh(f)})),l})(r.mapValue);default:throw dt(13486,{value:r})}}function gE(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Pm(r){return!!r&&"integerValue"in r}function mp(r){return!!r&&"arrayValue"in r}function _E(r){return!!r&&"nullValue"in r}function yE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function uh(r){return!!r&&"mapValue"in r}function VC(r){return(r?.mapValue?.fields||{})[y0]?.stringValue===v0}function Hl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return ps(r.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Hl(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Hl(r.arrayValue.values[n]);return t}return{...r}}function MC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===OC}class on{constructor(t){this.value=t}static empty(){return new on({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!uh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Hl(n)}setAll(t){let n=$e.emptyPath(),s={},l=[];t.forEach(((f,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,s,l),s={},l=[],n=p.popLast()}f?s[p.lastSegment()]=Hl(f):l.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,l)}delete(t){const n=this.field(t.popLast());uh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ui(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=n.mapValue.fields[t.get(s)];uh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,s){ps(n,((l,u)=>t[l]=u));for(const l of s)delete t[l]}clone(){return new on(Hl(this.value))}}function E0(r){const t=[];return ps(r.fields,((n,s)=>{const l=new $e([n]);if(uh(s)){const u=E0(s.mapValue).fields;if(u.length===0)t.push(l);else for(const f of u)t.push(l.child(f))}else t.push(l)})),new Cn(t)}class qe{constructor(t,n,s,l,u,f,p){this.key=t,this.documentType=n,this.version=s,this.readTime=l,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(t){return new qe(t,0,gt.min(),gt.min(),gt.min(),on.empty(),0)}static newFoundDocument(t,n,s,l){return new qe(t,1,n,gt.min(),s,l,0)}static newNoDocument(t,n){return new qe(t,2,n,gt.min(),gt.min(),on.empty(),0)}static newUnknownDocument(t,n){return new qe(t,3,n,gt.min(),gt.min(),on.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(gt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof qe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class wh{constructor(t,n){this.position=t,this.inclusive=n}}function vE(r,t,n){let s=0;for(let l=0;l<r.position.length;l++){const u=t[l],f=r.position[l];if(u.field.isKeyField()?s=ut.comparator(ut.fromName(f.referenceValue),n.key):s=po(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function EE(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ui(r.position[n],t.position[n]))return!1;return!0}class nu{constructor(t,n="asc"){this.field=t,this.dir=n}}function xC(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class T0{}class Ne extends T0{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new PC(t,n,s):n==="array-contains"?new zC(t,s):n==="in"?new jC(t,s):n==="not-in"?new BC(t,s):n==="array-contains-any"?new qC(t,s):new Ne(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new UC(t,s):new LC(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(po(n,this.value)):n!==null&&us(this.value)===us(n)&&this.matchesComparison(po(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class li extends T0{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new li(t,n)}matches(t){return A0(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function A0(r){return r.op==="and"}function S0(r){return kC(r)&&A0(r)}function kC(r){for(const t of r.filters)if(t instanceof li)return!1;return!0}function Um(r){if(r instanceof Ne)return r.field.canonicalString()+r.op.toString()+go(r.value);if(S0(r))return r.filters.map((t=>Um(t))).join(",");{const t=r.filters.map((n=>Um(n))).join(",");return`${r.op}(${t})`}}function b0(r,t){return r instanceof Ne?(function(s,l){return l instanceof Ne&&s.op===l.op&&s.field.isEqual(l.field)&&Ui(s.value,l.value)})(r,t):r instanceof li?(function(s,l){return l instanceof li&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((u,f,p)=>u&&b0(f,l.filters[p])),!0):!1})(r,t):void dt(19439)}function w0(r){return r instanceof Ne?(function(n){return`${n.field.canonicalString()} ${n.op} ${go(n.value)}`})(r):r instanceof li?(function(n){return n.op.toString()+" {"+n.getFilters().map(w0).join(" ,")+"}"})(r):"Filter"}class PC extends Ne{constructor(t,n,s){super(t,n,s),this.key=ut.fromName(s.referenceValue)}matches(t){const n=ut.comparator(t.key,this.key);return this.matchesComparison(n)}}class UC extends Ne{constructor(t,n){super(t,"in",n),this.keys=R0("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class LC extends Ne{constructor(t,n){super(t,"not-in",n),this.keys=R0("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function R0(r,t){return(t.arrayValue?.values||[]).map((n=>ut.fromName(n.referenceValue)))}class zC extends Ne{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return mp(n)&&eu(n.arrayValue,this.value)}}class jC extends Ne{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&eu(this.value.arrayValue,n)}}class BC extends Ne{constructor(t,n){super(t,"not-in",n)}matches(t){if(eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!eu(this.value.arrayValue,n)}}class qC extends Ne{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!mp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>eu(this.value.arrayValue,s)))}}class HC{constructor(t,n=null,s=[],l=[],u=null,f=null,p=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=u,this.startAt=f,this.endAt=p,this.Te=null}}function TE(r,t=null,n=[],s=[],l=null,u=null,f=null){return new HC(r,t,n,s,l,u,f)}function pp(r){const t=Et(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>Um(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),fu(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>go(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>go(s))).join(",")),t.Te=n}return t.Te}function gp(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!xC(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!b0(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!EE(r.startAt,t.startAt)&&EE(r.endAt,t.endAt)}function Lm(r){return ut.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class wo{constructor(t,n=null,s=[],l=[],u=null,f="F",p=null,g=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function GC(r,t,n,s,l,u,f,p){return new wo(r,t,n,s,l,u,f,p)}function _p(r){return new wo(r)}function AE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function I0(r){return r.collectionGroup!==null}function Gl(r){const t=Et(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new Ue($e.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new nu(u,s))})),n.has($e.keyField().canonicalString())||t.Ie.push(new nu($e.keyField(),s))}return t.Ie}function xi(r){const t=Et(r);return t.Ee||(t.Ee=FC(t,Gl(r))),t.Ee}function FC(r,t){if(r.limitType==="F")return TE(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new nu(l.field,u)}));const n=r.endAt?new wh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new wh(r.startAt.position,r.startAt.inclusive):null;return TE(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function zm(r,t){const n=r.filters.concat([t]);return new wo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function jm(r,t,n){return new wo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function qh(r,t){return gp(xi(r),xi(t))&&r.limitType===t.limitType}function C0(r){return`${pp(xi(r))}|lt:${r.limitType}`}function to(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((l=>w0(l))).join(", ")}]`),fu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((l=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(l))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((l=>go(l))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((l=>go(l))).join(",")),`Target(${s})`})(xi(r))}; limitType=${r.limitType})`}function Hh(r,t){return t.isFoundDocument()&&(function(s,l){const u=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ut.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,t)&&(function(s,l){for(const u of Gl(s))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(s,l){for(const u of s.filters)if(!u.matches(l))return!1;return!0})(r,t)&&(function(s,l){return!(s.startAt&&!(function(f,p,g){const _=vE(f,p,g);return f.inclusive?_<=0:_<0})(s.startAt,Gl(s),l)||s.endAt&&!(function(f,p,g){const _=vE(f,p,g);return f.inclusive?_>=0:_>0})(s.endAt,Gl(s),l))})(r,t)}function QC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function D0(r){return(t,n)=>{let s=!1;for(const l of Gl(r)){const u=KC(l,t,n);if(u!==0)return u;s=s||l.field.isKeyField()}return 0}}function KC(r,t,n){const s=r.field.isKeyField()?ut.comparator(t.key,n.key):(function(u,f,p){const g=f.data.field(u),_=p.data.field(u);return g!==null&&_!==null?po(g,_):dt(42886)})(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return dt(19790,{direction:r.dir})}}class sa{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[l,u]of s)if(this.equalsFn(l,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],t))return void(l[u]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){ps(this.inner,((n,s)=>{for(const[l,u]of s)t(l,u)}))}isEmpty(){return f0(this.inner)}size(){return this.innerSize}}const YC=new ce(ut.comparator);function fr(){return YC}const N0=new ce(ut.comparator);function Ll(...r){let t=N0;for(const n of r)t=t.insert(n.key,n);return t}function O0(r){let t=N0;return r.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function Zs(){return Fl()}function V0(){return Fl()}function Fl(){return new sa((r=>r.toString()),((r,t)=>r.isEqual(t)))}const XC=new ce(ut.comparator),$C=new Ue(ut.comparator);function xt(...r){let t=$C;for(const n of r)t=t.add(n);return t}const ZC=new Ue(Mt);function JC(){return ZC}function yp(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ah(t)?"-0":t}}function M0(r){return{integerValue:""+r}}function WC(r,t){return RC(t)?M0(t):yp(r,t)}class Gh{constructor(){this._=void 0}}function t2(r,t,n){return r instanceof Rh?(function(l,u){const f={fields:{[p0]:{stringValue:m0},[_0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&dp(u)&&(u=Bh(u)),u&&(f.fields[g0]=u),{mapValue:f}})(n,t):r instanceof iu?k0(r,t):r instanceof ru?P0(r,t):(function(l,u){const f=x0(l,u),p=SE(f)+SE(l.Ae);return Pm(f)&&Pm(l.Ae)?M0(p):yp(l.serializer,p)})(r,t)}function e2(r,t,n){return r instanceof iu?k0(r,t):r instanceof ru?P0(r,t):n}function x0(r,t){return r instanceof Ih?(function(s){return Pm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class Rh extends Gh{}class iu extends Gh{constructor(t){super(),this.elements=t}}function k0(r,t){const n=U0(t);for(const s of r.elements)n.some((l=>Ui(l,s)))||n.push(s);return{arrayValue:{values:n}}}class ru extends Gh{constructor(t){super(),this.elements=t}}function P0(r,t){let n=U0(t);for(const s of r.elements)n=n.filter((l=>!Ui(l,s)));return{arrayValue:{values:n}}}class Ih extends Gh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function SE(r){return ye(r.integerValue||r.doubleValue)}function U0(r){return mp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function n2(r,t){return r.field.isEqual(t.field)&&(function(s,l){return s instanceof iu&&l instanceof iu||s instanceof ru&&l instanceof ru?mo(s.elements,l.elements,Ui):s instanceof Ih&&l instanceof Ih?Ui(s.Ae,l.Ae):s instanceof Rh&&l instanceof Rh})(r.transform,t.transform)}class i2{constructor(t,n){this.version=t,this.transformResults=n}}class en{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new en}static exists(t){return new en(void 0,t)}static updateTime(t){return new en(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ch(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Fh{}function L0(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Qh(r.key,en.none()):new du(r.key,r.data,en.none());{const n=r.data,s=on.empty();let l=new Ue($e.comparator);for(let u of t.fields)if(!l.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),l=l.add(u)}return new gs(r.key,s,new Cn(l.toArray()),en.none())}}function r2(r,t,n){r instanceof du?(function(l,u,f){const p=l.value.clone(),g=wE(l.fieldTransforms,u,f.transformResults);p.setAll(g),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,t,n):r instanceof gs?(function(l,u,f){if(!ch(l.precondition,u))return void u.convertToUnknownDocument(f.version);const p=wE(l.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(z0(l)),g.setAll(p),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,t,n):(function(l,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function Ql(r,t,n,s){return r instanceof du?(function(u,f,p,g){if(!ch(u.precondition,f))return p;const _=u.value.clone(),T=RE(u.fieldTransforms,g,f);return _.setAll(T),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null})(r,t,n,s):r instanceof gs?(function(u,f,p,g){if(!ch(u.precondition,f))return p;const _=RE(u.fieldTransforms,g,f),T=f.data;return T.setAll(z0(u)),T.setAll(_),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(r,t,n,s):(function(u,f,p){return ch(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p})(r,t,n)}function s2(r,t){let n=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),u=x0(s.transform,l||null);u!=null&&(n===null&&(n=on.empty()),n.set(s.field,u))}return n||null}function bE(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&mo(s,l,((u,f)=>n2(u,f)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class du extends Fh{constructor(t,n,s,l=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class gs extends Fh{constructor(t,n,s,l,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function z0(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}})),t}function wE(r,t,n){const s=new Map;Lt(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let l=0;l<n.length;l++){const u=r[l],f=u.transform,p=t.data.field(u.field);s.set(u.field,e2(f,p,n[l]))}return s}function RE(r,t,n){const s=new Map;for(const l of r){const u=l.transform,f=n.data.field(l.field);s.set(l.field,t2(u,f,t))}return s}class Qh extends Fh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class j0 extends Fh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class a2{constructor(t,n,s,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(t.key)&&r2(u,t,s[l])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Ql(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Ql(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=V0();return this.mutations.forEach((l=>{const u=t.get(l.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=n.has(l.key)?null:p;const g=L0(f,p);g!==null&&s.set(l.key,g),f.isValidDocument()||f.convertToNoDocument(gt.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),xt())}isEqual(t){return this.batchId===t.batchId&&mo(this.mutations,t.mutations,((n,s)=>bE(n,s)))&&mo(this.baseMutations,t.baseMutations,((n,s)=>bE(n,s)))}}class vp{constructor(t,n,s,l){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(t,n,s){Lt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let l=(function(){return XC})();const u=t.mutations;for(let f=0;f<u.length;f++)l=l.insert(u[f].key,s[f].version);return new vp(t,n,s,l)}}class o2{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class l2{constructor(t,n){this.count=t,this.unchangedNames=n}}var De,Ut;function B0(r){switch(r){case K.OK:return dt(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return dt(15467,{code:r})}}function q0(r){if(r===void 0)return hr("GRPC error has no .code"),K.UNKNOWN;switch(r){case De.OK:return K.OK;case De.CANCELLED:return K.CANCELLED;case De.UNKNOWN:return K.UNKNOWN;case De.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case De.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case De.INTERNAL:return K.INTERNAL;case De.UNAVAILABLE:return K.UNAVAILABLE;case De.UNAUTHENTICATED:return K.UNAUTHENTICATED;case De.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case De.NOT_FOUND:return K.NOT_FOUND;case De.ALREADY_EXISTS:return K.ALREADY_EXISTS;case De.PERMISSION_DENIED:return K.PERMISSION_DENIED;case De.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case De.ABORTED:return K.ABORTED;case De.OUT_OF_RANGE:return K.OUT_OF_RANGE;case De.UNIMPLEMENTED:return K.UNIMPLEMENTED;case De.DATA_LOSS:return K.DATA_LOSS;default:return dt(39323,{code:r})}}(Ut=De||(De={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";function u2(){return new TextEncoder}const c2=new ns([4294967295,4294967295],0);function IE(r){const t=u2().encode(r),n=new e0;return n.update(t),new Uint8Array(n.digest())}function CE(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new ns([n,s],0),new ns([l,u],0)]}class Ep{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new zl(`Invalid padding: ${n}`);if(s<0)throw new zl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new zl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new zl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=ns.fromNumber(this.ge)}ye(t,n,s){let l=t.add(n.multiply(ns.fromNumber(s)));return l.compare(c2)===1&&(l=new ns([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=IE(t),[s,l]=CE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,l,u);if(!this.we(f))return!1}return!0}static create(t,n,s){const l=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Ep(u,l,n);return s.forEach((p=>f.insert(p))),f}insert(t){if(this.ge===0)return;const n=IE(t),[s,l]=CE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,l,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Kh{constructor(t,n,s,l,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const l=new Map;return l.set(t,mu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Kh(gt.min(),l,new ce(Mt),fr(),xt())}}class mu{constructor(t,n,s,l,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new mu(s,n,xt(),xt(),xt())}}class hh{constructor(t,n,s,l){this.be=t,this.removedTargetIds=n,this.key=s,this.De=l}}class H0{constructor(t,n){this.targetId=t,this.Ce=n}}class G0{constructor(t,n,s=Ze.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=l}}class DE{constructor(){this.ve=0,this.Fe=NE(),this.Me=Ze.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=xt(),n=xt(),s=xt();return this.Fe.forEach(((l,u)=>{switch(u){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:dt(38017,{changeType:u})}})),new mu(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=NE()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Lt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class h2{constructor(t){this.Ge=t,this.ze=new Map,this.je=fr(),this.Je=Wc(),this.He=Wc(),this.Ye=new ce(Mt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:dt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,l)=>{this.rt(l)&&n(l)}))}st(t){const n=t.targetId,s=t.Ce.count,l=this.ot(n);if(l){const u=l.target;if(Lm(u))if(s===0){const f=new ut(u.path);this.et(n,f,qe.newNoDocument(f,gt.min()))}else Lt(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const p=this.ut(t),g=p?this.ct(p,t,f):1;if(g!==0){this.it(n);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,_)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:u=0}=n;let f,p;try{f=ls(s).toUint8Array()}catch(g){if(g instanceof d0)return fo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Ep(f,l,u)}catch(g){return fo(g instanceof zl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let l=0;return s.forEach((u=>{const f=this.Ge.ht(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(p)||(this.et(n,u,null),l++)})),l}Tt(t){const n=new Map;this.ze.forEach(((u,f)=>{const p=this.ot(f);if(p){if(u.current&&Lm(p.target)){const g=new ut(p.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,qe.newNoDocument(g,t))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=xt();this.He.forEach(((u,f)=>{let p=!0;f.forEachWhile((g=>{const _=this.ot(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const l=new Kh(t,n,this.Ye,this.je,s);return this.je=fr(),this.Je=Wc(),this.He=Wc(),this.Ye=new ce(Mt),l}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new DE,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Ue(Mt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Ue(Mt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||rt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new DE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Wc(){return new ce(ut.comparator)}function NE(){return new ce(ut.comparator)}const f2={asc:"ASCENDING",desc:"DESCENDING"},d2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},m2={and:"AND",or:"OR"};class p2{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Bm(r,t){return r.useProto3Json||fu(t)?t:{value:t}}function Ch(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function F0(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function g2(r,t){return Ch(r,t.toTimestamp())}function Dn(r){return Lt(!!r,49232),gt.fromTimestamp((function(n){const s=os(n);return new se(s.seconds,s.nanos)})(r))}function Tp(r,t){return qm(r,t).canonicalString()}function qm(r,t){const n=(function(l){return new ee(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?n:n.child(t)}function Q0(r){const t=ee.fromString(r);return Lt(J0(t),10190,{key:t.toString()}),t}function Dh(r,t){return Tp(r.databaseId,t.path)}function Kl(r,t){const n=Q0(t);if(n.get(1)!==r.databaseId.projectId)throw new it(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new it(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ut(Y0(n))}function K0(r,t){return Tp(r.databaseId,t)}function _2(r){const t=Q0(r);return t.length===4?ee.emptyPath():Y0(t)}function Hm(r){return new ee(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Y0(r){return Lt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function OE(r,t,n){return{name:Dh(r,t),fields:n.value.mapValue.fields}}function y2(r,t){return"found"in t?(function(s,l){Lt(!!l.found,43571),l.found.name,l.found.updateTime;const u=Kl(s,l.found.name),f=Dn(l.found.updateTime),p=l.found.createTime?Dn(l.found.createTime):gt.min(),g=new on({mapValue:{fields:l.found.fields}});return qe.newFoundDocument(u,f,p,g)})(r,t):"missing"in t?(function(s,l){Lt(!!l.missing,3894),Lt(!!l.readTime,22933);const u=Kl(s,l.missing),f=Dn(l.readTime);return qe.newNoDocument(u,f)})(r,t):dt(7234,{result:t})}function v2(r,t){let n;if("targetChange"in t){t.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:dt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],u=(function(_,T){return _.useProto3Json?(Lt(T===void 0||typeof T=="string",58123),Ze.fromBase64String(T||"")):(Lt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Ze.fromUint8Array(T||new Uint8Array))})(r,t.targetChange.resumeToken),f=t.targetChange.cause,p=f&&(function(_){const T=_.code===void 0?K.UNKNOWN:q0(_.code);return new it(T,_.message||"")})(f);n=new G0(s,l,u,p||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=Kl(r,s.document.name),u=Dn(s.document.updateTime),f=s.document.createTime?Dn(s.document.createTime):gt.min(),p=new on({mapValue:{fields:s.document.fields}}),g=qe.newFoundDocument(l,u,f,p),_=s.targetIds||[],T=s.removedTargetIds||[];n=new hh(_,T,g.key,g)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=Kl(r,s.document),u=s.readTime?Dn(s.readTime):gt.min(),f=qe.newNoDocument(l,u),p=s.removedTargetIds||[];n=new hh([],p,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=Kl(r,s.document),u=s.removedTargetIds||[];n=new hh([],u,l,null)}else{if(!("filter"in t))return dt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:u}=s,f=new l2(l,u),p=s.targetId;n=new H0(p,f)}}return n}function X0(r,t){let n;if(t instanceof du)n={update:OE(r,t.key,t.value)};else if(t instanceof Qh)n={delete:Dh(r,t.key)};else if(t instanceof gs)n={update:OE(r,t.key,t.data),updateMask:C2(t.fieldMask)};else{if(!(t instanceof j0))return dt(16599,{Vt:t.type});n={verify:Dh(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,f){const p=f.transform;if(p instanceof Rh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof iu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof ru)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Ih)return{fieldPath:f.field.canonicalString(),increment:p.Ae};throw dt(20930,{transform:f.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:g2(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:dt(27497)})(r,t.precondition)),n}function E2(r,t){return r&&r.length>0?(Lt(t!==void 0,14353),r.map((n=>(function(l,u){let f=l.updateTime?Dn(l.updateTime):Dn(u);return f.isEqual(gt.min())&&(f=Dn(u)),new i2(f,l.transformResults||[])})(n,t)))):[]}function T2(r,t){return{documents:[K0(r,t.path)]}}function A2(r,t){const n={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=K0(r,l);const u=(function(_){if(_.length!==0)return Z0(li.create(_,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(_){if(_.length!==0)return _.map((T=>(function(C){return{field:eo(C.field),direction:w2(C.dir)}})(T)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const p=Bm(r,t.limit);return p!==null&&(n.structuredQuery.limit=p),t.startAt&&(n.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:n,parent:l}}function S2(r){let t=_2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){Lt(s===1,65062);const T=n.from[0];T.allDescendants?l=T.collectionId:t=t.child(T.collectionId)}let u=[];n.where&&(u=(function(S){const C=$0(S);return C instanceof li&&S0(C)?C.getFilters():[C]})(n.where));let f=[];n.orderBy&&(f=(function(S){return S.map((C=>(function(J){return new nu(no(J.field),(function(Y){switch(Y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(C)))})(n.orderBy));let p=null;n.limit&&(p=(function(S){let C;return C=typeof S=="object"?S.value:S,fu(C)?null:C})(n.limit));let g=null;n.startAt&&(g=(function(S){const C=!!S.before,q=S.values||[];return new wh(q,C)})(n.startAt));let _=null;return n.endAt&&(_=(function(S){const C=!S.before,q=S.values||[];return new wh(q,C)})(n.endAt)),GC(t,l,f,u,p,"F",g,_)}function b2(r,t){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt(28987,{purpose:l})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function $0(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=no(n.unaryFilter.field);return Ne.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=no(n.unaryFilter.field);return Ne.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=no(n.unaryFilter.field);return Ne.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=no(n.unaryFilter.field);return Ne.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return dt(61313);default:return dt(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Ne.create(no(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return dt(58110);default:return dt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return li.create(n.compositeFilter.filters.map((s=>$0(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return dt(1026)}})(n.compositeFilter.op))})(r):dt(30097,{filter:r})}function w2(r){return f2[r]}function R2(r){return d2[r]}function I2(r){return m2[r]}function eo(r){return{fieldPath:r.canonicalString()}}function no(r){return $e.fromServerFormat(r.fieldPath)}function Z0(r){return r instanceof Ne?(function(n){if(n.op==="=="){if(yE(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NAN"}};if(_E(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(yE(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NOT_NAN"}};if(_E(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eo(n.field),op:R2(n.op),value:n.value}}})(r):r instanceof li?(function(n){const s=n.getFilters().map((l=>Z0(l)));return s.length===1?s[0]:{compositeFilter:{op:I2(n.op),filters:s}}})(r):dt(54877,{filter:r})}function C2(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function J0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Jr{constructor(t,n,s,l,u=gt.min(),f=gt.min(),p=Ze.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(t){return new Jr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class D2{constructor(t){this.yt=t}}function N2(r){const t=S2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?jm(t,t.limit,"L"):t}class O2{constructor(){this.Cn=new V2}addToCollectionParentIndex(t,n){return this.Cn.add(n),Z.resolve()}getCollectionParents(t,n){return Z.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return Z.resolve()}deleteFieldIndex(t,n){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,n){return Z.resolve()}getDocumentsMatchingTarget(t,n){return Z.resolve(null)}getIndexType(t,n){return Z.resolve(0)}getFieldIndexes(t,n){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,n){return Z.resolve(as.min())}getMinOffsetFromCollectionGroup(t,n){return Z.resolve(as.min())}updateCollectionGroup(t,n,s){return Z.resolve()}updateIndexEntries(t,n){return Z.resolve()}}class V2{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n]||new Ue(ee.comparator),u=!l.has(s);return this.index[n]=l.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Ue(ee.comparator)).toArray()}}const VE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},W0=41943040;class gn{static withCacheSize(t){return new gn(t,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(W0,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);class _o{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new _o(0)}static cr(){return new _o(-1)}}const ME="LruGarbageCollector",M2=1048576;function xE([r,t],[n,s]){const l=Mt(r,n);return l===0?Mt(t,s):l}class x2{constructor(t){this.Ir=t,this.buffer=new Ue(xE),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();xE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class k2{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){rt(ME,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){bo(n)?rt(ME,"Ignoring IndexedDB error during garbage collection: ",n):await So(n)}await this.Vr(3e5)}))}}class P2{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return Z.resolve(jh.ce);const s=new x2(n);return this.mr.forEachTarget(t,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(VE)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),VE):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,l,u,f,p,g,_;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,f=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(s=S,p=Date.now(),this.removeTargets(t,s,n)))).next((S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(t,s)))).next((S=>(_=Date.now(),Wa()<=Vt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${l} in `+(p-f)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${S} documents in `+(_-g)+`ms
Total Duration: ${_-T}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:S}))))}}function U2(r,t){return new P2(r,t)}class L2{constructor(){this.changes=new sa((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,qe.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Z.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class z2{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class j2{constructor(t,n,s,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((l=>(s=l,this.remoteDocumentCache.getEntry(t,n)))).next((l=>(s!==null&&Ql(s.mutation,l,Cn.empty(),se.now()),l)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,xt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=xt()){const l=Zs();return this.populateOverlays(t,l,n).next((()=>this.computeViews(t,n,l,s).next((u=>{let f=Ll();return u.forEach(((p,g)=>{f=f.insert(p,g.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const s=Zs();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,xt())))}populateOverlays(t,n,s){const l=[];return s.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(t,l).next((u=>{u.forEach(((f,p)=>{n.set(f,p)}))}))}computeViews(t,n,s,l){let u=fr();const f=Fl(),p=(function(){return Fl()})();return n.forEach(((g,_)=>{const T=s.get(_.key);l.has(_.key)&&(T===void 0||T.mutation instanceof gs)?u=u.insert(_.key,_):T!==void 0?(f.set(_.key,T.mutation.getFieldMask()),Ql(T.mutation,_,T.mutation.getFieldMask(),se.now())):f.set(_.key,Cn.empty())})),this.recalculateAndSaveOverlays(t,u).next((g=>(g.forEach(((_,T)=>f.set(_,T))),n.forEach(((_,T)=>p.set(_,new z2(T,f.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,n){const s=Fl();let l=new ce(((f,p)=>f-p)),u=xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const p of f)p.keys().forEach((g=>{const _=n.get(g);if(_===null)return;let T=s.get(g)||Cn.empty();T=p.applyToLocalView(_,T),s.set(g,T);const S=(l.get(p.batchId)||xt()).add(g);l=l.insert(p.batchId,S)}))})).next((()=>{const f=[],p=l.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),_=g.key,T=g.value,S=V0();T.forEach((C=>{if(!u.has(C)){const q=L0(n.get(C),s.get(C));q!==null&&S.set(C,q),u=u.add(C)}})),f.push(this.documentOverlayCache.saveOverlays(t,_,S))}return Z.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,l){return(function(f){return ut.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):I0(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,l):this.getDocumentsMatchingCollectionQuery(t,n,s,l)}getNextDocuments(t,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,l).next((u=>{const f=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,l-u.size):Z.resolve(Zs());let p=Jl,g=u;return f.next((_=>Z.forEach(_,((T,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),u.get(T)?Z.resolve():this.remoteDocumentCache.getEntry(t,T).next((C=>{g=g.insert(T,C)}))))).next((()=>this.populateOverlays(t,_,u))).next((()=>this.computeViews(t,g,_,xt()))).next((T=>({batchId:p,changes:O0(T)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ut(n)).next((s=>{let l=Ll();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,l){const u=n.collectionGroup;let f=Ll();return this.indexManager.getCollectionParents(t,u).next((p=>Z.forEach(p,(g=>{const _=(function(S,C){return new wo(C,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,_,s,l).next((T=>{T.forEach(((S,C)=>{f=f.insert(S,C)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,s,l){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,l)))).next((f=>{u.forEach(((g,_)=>{const T=_.getKey();f.get(T)===null&&(f=f.insert(T,qe.newInvalidDocument(T)))}));let p=Ll();return f.forEach(((g,_)=>{const T=u.get(g);T!==void 0&&Ql(T.mutation,_,Cn.empty(),se.now()),Hh(n,_)&&(p=p.insert(g,_))})),p}))}}class B2{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return Z.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Dn(l.createTime)}})(n)),Z.resolve()}getNamedQuery(t,n){return Z.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:N2(l.bundledQuery),readTime:Dn(l.readTime)}})(n)),Z.resolve()}}class q2{constructor(){this.overlays=new ce(ut.comparator),this.qr=new Map}getOverlay(t,n){return Z.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Zs();return Z.forEach(n,(l=>this.getOverlay(t,l).next((u=>{u!==null&&s.set(l,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((l,u)=>{this.St(t,n,u)})),Z.resolve()}removeOverlaysForBatchId(t,n,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),Z.resolve()}getOverlaysForCollection(t,n,s){const l=Zs(),u=n.length+1,f=new ut(n.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const g=p.getNext().value,_=g.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===u&&g.largestBatchId>s&&l.set(g.getKey(),g)}return Z.resolve(l)}getOverlaysForCollectionGroup(t,n,s,l){let u=new ce(((_,T)=>_-T));const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let T=u.get(_.largestBatchId);T===null&&(T=Zs(),u=u.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const p=Zs(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((_,T)=>p.set(_,T))),!(p.size()>=l)););return Z.resolve(p)}St(t,n,s){const l=this.overlays.get(s.key);if(l!==null){const f=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new o2(n,s));let u=this.qr.get(n);u===void 0&&(u=xt(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class H2{constructor(){this.sessionToken=Ze.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,Z.resolve()}}class Ap{constructor(){this.Qr=new Ue(Be.$r),this.Ur=new Ue(Be.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new Be(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new Be(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new ut(new ee([])),s=new Be(n,t),l=new Be(n,t+1),u=[];return this.Ur.forEachInRange([s,l],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new ut(new ee([])),s=new Be(n,t),l=new Be(n,t+1);let u=xt();return this.Ur.forEachInRange([s,l],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new Be(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Be{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return ut.comparator(t.key,n.key)||Mt(t.Yr,n.Yr)}static Kr(t,n){return Mt(t.Yr,n.Yr)||ut.comparator(t.key,n.key)}}class G2{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ue(Be.$r)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new a2(u,n,s,l);this.mutationQueue.push(f);for(const p of l)this.Zr=this.Zr.add(new Be(p.key,u)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return Z.resolve(f)}lookupMutationBatch(t,n){return Z.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,l=this.ei(s),u=l<0?0:l;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?fp:this.tr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Be(n,0),l=new Be(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,l],(f=>{const p=this.Xr(f.Yr);u.push(p)})),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Ue(Mt);return n.forEach((l=>{const u=new Be(l,0),f=new Be(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(p=>{s=s.add(p.Yr)}))})),Z.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,l=s.length+1;let u=s;ut.isDocumentKey(u)||(u=u.child(""));const f=new Be(new ut(u),0);let p=new Ue(Mt);return this.Zr.forEachWhile((g=>{const _=g.key.path;return!!s.isPrefixOf(_)&&(_.length===l&&(p=p.add(g.Yr)),!0)}),f),Z.resolve(this.ti(p))}ti(t){const n=[];return t.forEach((s=>{const l=this.Xr(s);l!==null&&n.push(l)})),n}removeMutationBatch(t,n){Lt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Z.forEach(n.mutations,(l=>{const u=new Be(l.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new Be(n,0),l=this.Zr.firstAfterOrEqual(s);return Z.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class F2{constructor(t){this.ri=t,this.docs=(function(){return new ce(ut.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,l=this.docs.get(s),u=l?l.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return Z.resolve(s?s.document.mutableCopy():qe.newInvalidDocument(n))}getEntries(t,n){let s=fr();return n.forEach((l=>{const u=this.docs.get(l);s=s.insert(l,u?u.document.mutableCopy():qe.newInvalidDocument(l))})),Z.resolve(s)}getDocumentsMatchingQuery(t,n,s,l){let u=fr();const f=n.path,p=new ut(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:_,value:{document:T}}=g.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||AC(TC(T),s)<=0||(l.has(T.key)||Hh(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(t,n,s,l){dt(9500)}ii(t,n){return Z.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new Q2(this)}getSize(t){return Z.resolve(this.size)}}class Q2 extends L2{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(s)})),Z.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class K2{constructor(t){this.persistence=t,this.si=new sa((n=>pp(n)),gp),this.lastRemoteSnapshotVersion=gt.min(),this.highestTargetId=0,this.oi=0,this._i=new Ap,this.targetCount=0,this.ai=_o.ur()}forEachTarget(t,n){return this.si.forEach(((s,l)=>n(l))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),Z.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new _o(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,Z.resolve()}updateTargetData(t,n){return this.Pr(n),Z.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,n,s){let l=0;const u=[];return this.si.forEach(((f,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),Z.waitFor(u).next((()=>l))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return Z.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),Z.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((f=>{u.push(l.markPotentiallyOrphaned(t,f))})),Z.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),Z.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return Z.resolve(s)}containsKey(t,n){return Z.resolve(this._i.containsKey(n))}}class t1{constructor(t,n){this.ui={},this.overlays={},this.ci=new jh(0),this.li=!1,this.li=!0,this.hi=new H2,this.referenceDelegate=t(this),this.Pi=new K2(this),this.indexManager=new O2,this.remoteDocumentCache=(function(l){return new F2(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new D2(n),this.Ii=new B2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new q2,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new G2(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){rt("MemoryPersistence","Starting transaction:",t);const l=new Y2(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(t,n){return Z.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class Y2 extends bC{constructor(t){super(),this.currentSequenceNumber=t}}class Sp{constructor(t){this.persistence=t,this.Ri=new Ap,this.Vi=null}static mi(t){return new Sp(t)}get fi(){if(this.Vi)return this.Vi;throw dt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),Z.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),Z.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(s=>{const l=ut.fromPath(s);return this.gi(t,l).next((u=>{u||n.removeEntry(l,gt.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return Z.or([()=>Z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Nh{constructor(t,n){this.persistence=t,this.pi=new sa((s=>IC(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=U2(this,n)}static mi(t,n){return new Nh(t,n)}Ei(){}di(t){return Z.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((l=>s+l))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return Z.forEach(this.pi,((s,l)=>this.br(t,s,l).next((u=>u?Z.resolve():n(l)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(t,(f=>this.br(t,f,n).next((p=>{p||(s++,u.removeEntry(f,gt.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),Z.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),Z.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),Z.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=lh(t.data.value)),n}br(t,n,s){return Z.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.pi.get(n);return Z.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class bp{constructor(t,n,s,l){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=l}static As(t,n){let s=xt(),l=xt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new bp(t,n.fromCache,s,l)}}class X2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class $2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Cb()?8:wC(nn())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,l){const u={result:null};return this.ys(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(t,n,l,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new X2;return this.Ss(t,n,f).next((p=>{if(u.result=p,this.Vs)return this.bs(t,n,f,p.size)}))})).next((()=>u.result))}bs(t,n,s,l){return s.documentReadCount<this.fs?(Wa()<=Vt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",to(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(Wa()<=Vt.DEBUG&&rt("QueryEngine","Query:",to(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(Wa()<=Vt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",to(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,xi(n))):Z.resolve())}ys(t,n){if(AE(n))return Z.resolve(null);let s=xi(n);return this.indexManager.getIndexType(t,s).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=jm(n,null,"F"),s=xi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const f=xt(...u);return this.ps.getDocuments(t,f).next((p=>this.indexManager.getMinOffset(t,s).next((g=>{const _=this.Ds(n,p);return this.Cs(n,_,f,g.readTime)?this.ys(t,jm(n,null,"F")):this.vs(t,_,n,g)}))))})))))}ws(t,n,s,l){return AE(n)||l.isEqual(gt.min())?Z.resolve(null):this.ps.getDocuments(t,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,l)?Z.resolve(null):(Wa()<=Vt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),to(n)),this.vs(t,f,n,EC(l,Jl)).next((p=>p)))}))}Ds(t,n){let s=new Ue(D0(t));return n.forEach(((l,u)=>{Hh(t,u)&&(s=s.add(u))})),s}Cs(t,n,s,l){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(t,n,s){return Wa()<=Vt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",to(n)),this.ps.getDocumentsMatchingQuery(t,n,as.min(),s)}vs(t,n,s,l){return this.ps.getDocumentsMatchingQuery(t,s,l).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const wp="LocalStore",Z2=3e8;class J2{constructor(t,n,s,l){this.persistence=t,this.Fs=n,this.serializer=l,this.Ms=new ce(Mt),this.xs=new sa((u=>pp(u)),gp),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new j2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function W2(r,t,n,s){return new J2(r,t,n,s)}async function e1(r,t){const n=Et(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next((u=>(l=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],p=[];let g=xt();for(const _ of l){f.push(_.batchId);for(const T of _.mutations)g=g.add(T.key)}for(const _ of u){p.push(_.batchId);for(const T of _.mutations)g=g.add(T.key)}return n.localDocuments.getDocuments(s,g).next((_=>({Ls:_,removedBatchIds:f,addedBatchIds:p})))}))}))}function tD(r,t){const n=Et(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,_,T){const S=_.batch,C=S.keys();let q=Z.resolve();return C.forEach((J=>{q=q.next((()=>T.getEntry(g,J))).next((W=>{const Y=_.docVersions.get(J);Lt(Y!==null,48541),W.version.compareTo(Y)<0&&(S.applyToRemoteDocument(W,_),W.isValidDocument()&&(W.setReadTime(_.commitVersion),T.addEntry(W)))}))})),q.next((()=>p.mutationQueue.removeMutationBatch(g,S)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let g=xt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(g=g.add(p.batch.mutations[_].key));return g})(t)))).next((()=>n.localDocuments.getDocuments(s,l)))}))}function n1(r){const t=Et(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function eD(r,t){const n=Et(r),s=t.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const p=[];t.targetChanges.forEach(((T,S)=>{const C=l.get(S);if(!C)return;p.push(n.Pi.removeMatchingKeys(u,T.removedDocuments,S).next((()=>n.Pi.addMatchingKeys(u,T.addedDocuments,S))));let q=C.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(S)!==null?q=q.withResumeToken(Ze.EMPTY_BYTE_STRING,gt.min()).withLastLimboFreeSnapshotVersion(gt.min()):T.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(T.resumeToken,s)),l=l.insert(S,q),(function(W,Y,lt){return W.resumeToken.approximateByteSize()===0||Y.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=Z2?!0:lt.addedDocuments.size+lt.modifiedDocuments.size+lt.removedDocuments.size>0})(C,q,T)&&p.push(n.Pi.updateTargetData(u,q))}));let g=fr(),_=xt();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),p.push(nD(u,f,t.documentUpdates).next((T=>{g=T.ks,_=T.qs}))),!s.isEqual(gt.min())){const T=n.Pi.getLastRemoteSnapshotVersion(u).next((S=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));p.push(T)}return Z.waitFor(p).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,_))).next((()=>g))})).then((u=>(n.Ms=l,u)))}function nD(r,t,n){let s=xt(),l=xt();return n.forEach((u=>s=s.add(u))),t.getEntries(r,s).next((u=>{let f=fr();return n.forEach(((p,g)=>{const _=u.get(p);g.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),g.isNoDocument()&&g.version.isEqual(gt.min())?(t.removeEntry(p,g.readTime),f=f.insert(p,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(g),f=f.insert(p,g)):rt(wp,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",g.version)})),{ks:f,qs:l}}))}function iD(r,t){const n=Et(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=fp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function rD(r,t){const n=Et(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return n.Pi.getTargetData(s,t).next((u=>u?(l=u,Z.resolve(l)):n.Pi.allocateTargetId(s).next((f=>(l=new Jr(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=n.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function Gm(r,t,n){const s=Et(r),l=s.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,l)))}catch(f){if(!bo(f))throw f;rt(wp,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ms=s.Ms.remove(t),s.xs.delete(l.target)}function kE(r,t,n){const s=Et(r);let l=gt.min(),u=xt();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,_,T){const S=Et(g),C=S.xs.get(T);return C!==void 0?Z.resolve(S.Ms.get(C)):S.Pi.getTargetData(_,T)})(s,f,xi(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,p.targetId).next((g=>{u=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,t,n?l:gt.min(),n?u:xt()))).next((p=>(sD(s,QC(t),p),{documents:p,Qs:u})))))}function sD(r,t,n){let s=r.Os.get(t)||gt.min();n.forEach(((l,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(t,s)}class PE{constructor(){this.activeTargetIds=JC()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class aD{constructor(){this.Mo=new PE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new PE,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class oD{Oo(t){}shutdown(){}}const UE="ConnectivityMonitor";class LE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){rt(UE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){rt(UE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let th=null;function Fm(){return th===null?th=(function(){return 268435456+Math.round(2147483648*Math.random())})():th++,"0x"+th.toString(16)}const _m="RestConnection",lD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uD{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===Sh?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(t,n,s,l,u){const f=Fm(),p=this.zo(t,n.toUriEncodedString());rt(_m,`Sending RPC '${t}' ${f}:`,p,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,l,u);const{host:_}=new URL(p),T=vo(_);return this.Jo(t,p,g,s,T).then((S=>(rt(_m,`Received RPC '${t}' ${f}: `,S),S)),(S=>{throw fo(_m,`RPC '${t}' ${f} failed with error: `,S,"url: ",p,"request:",s),S}))}Ho(t,n,s,l,u,f){return this.Go(t,n,s,l,u)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ao})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>t[u]=l)),s&&s.headers.forEach(((l,u)=>t[u]=l))}zo(t,n){const s=lD[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class cD{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const We="WebChannelConnection";class hD extends uD{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,l,u){const f=Fm();return new Promise(((p,g)=>{const _=new n0;_.setWithCredentials(!0),_.listenOnce(i0.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case oh.NO_ERROR:const S=_.getResponseJson();rt(We,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(S)),p(S);break;case oh.TIMEOUT:rt(We,`RPC '${t}' ${f} timed out`),g(new it(K.DEADLINE_EXCEEDED,"Request time out"));break;case oh.HTTP_ERROR:const C=_.getStatus();if(rt(We,`RPC '${t}' ${f} failed with status:`,C,"response text:",_.getResponseText()),C>0){let q=_.getResponseJson();Array.isArray(q)&&(q=q[0]);const J=q?.error;if(J&&J.status&&J.message){const W=(function(lt){const yt=lt.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(yt)>=0?yt:K.UNKNOWN})(J.status);g(new it(W,J.message))}else g(new it(K.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new it(K.UNAVAILABLE,"Connection failed."));break;default:dt(9055,{l_:t,streamId:f,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{rt(We,`RPC '${t}' ${f} completed.`)}}));const T=JSON.stringify(l);rt(We,`RPC '${t}' ${f} sending request:`,l),_.send(n,"POST",T,s,15)}))}T_(t,n,s){const l=Fm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=a0(),p=s0(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const T=u.join("");rt(We,`Creating RPC '${t}' stream ${l}: ${T}`,g);const S=f.createWebChannel(T,g);this.I_(S);let C=!1,q=!1;const J=new cD({Yo:Y=>{q?rt(We,`Not sending because RPC '${t}' stream ${l} is closed:`,Y):(C||(rt(We,`Opening RPC '${t}' stream ${l} transport.`),S.open(),C=!0),rt(We,`RPC '${t}' stream ${l} sending:`,Y),S.send(Y))},Zo:()=>S.close()}),W=(Y,lt,yt)=>{Y.listen(lt,(pt=>{try{yt(pt)}catch(Ft){setTimeout((()=>{throw Ft}),0)}}))};return W(S,Ul.EventType.OPEN,(()=>{q||(rt(We,`RPC '${t}' stream ${l} transport opened.`),J.o_())})),W(S,Ul.EventType.CLOSE,(()=>{q||(q=!0,rt(We,`RPC '${t}' stream ${l} transport closed`),J.a_(),this.E_(S))})),W(S,Ul.EventType.ERROR,(Y=>{q||(q=!0,fo(We,`RPC '${t}' stream ${l} transport errored. Name:`,Y.name,"Message:",Y.message),J.a_(new it(K.UNAVAILABLE,"The operation could not be completed")))})),W(S,Ul.EventType.MESSAGE,(Y=>{if(!q){const lt=Y.data[0];Lt(!!lt,16349);const yt=lt,pt=yt?.error||yt[0]?.error;if(pt){rt(We,`RPC '${t}' stream ${l} received error:`,pt);const Ft=pt.status;let ht=(function(b){const w=De[b];if(w!==void 0)return q0(w)})(Ft),Rt=pt.message;ht===void 0&&(ht=K.INTERNAL,Rt="Unknown error status: "+Ft+" with message "+pt.message),q=!0,J.a_(new it(ht,Rt)),S.close()}else rt(We,`RPC '${t}' stream ${l} received:`,lt),J.u_(lt)}})),W(p,r0.STAT_EVENT,(Y=>{Y.stat===Mm.PROXY?rt(We,`RPC '${t}' stream ${l} detected buffering proxy`):Y.stat===Mm.NOPROXY&&rt(We,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function ym(){return typeof document<"u"?document:null}function Yh(r){return new p2(r,!0)}class Rp{constructor(t,n,s=1e3,l=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-s);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const zE="PersistentStream";class i1{constructor(t,n,s,l,u,f,p,g){this.Mi=t,this.S_=s,this.b_=l,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Rp(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(hr(n.toString()),hr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===n&&this.G_(s,l)}),(s=>{t((()=>{const l=new it(K.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return rt(zE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(rt(zE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class fD extends i1{constructor(t,n,s,l,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=v2(this.serializer,t),s=(function(u){if(!("targetChange"in u))return gt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?gt.min():f.readTime?Dn(f.readTime):gt.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=Hm(this.serializer),n.addTarget=(function(u,f){let p;const g=f.target;if(p=Lm(g)?{documents:T2(u,g)}:{query:A2(u,g).ft},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=F0(u,f.resumeToken);const _=Bm(u,f.expectedCount);_!==null&&(p.expectedCount=_)}else if(f.snapshotVersion.compareTo(gt.min())>0){p.readTime=Ch(u,f.snapshotVersion.toTimestamp());const _=Bm(u,f.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const s=b2(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=Hm(this.serializer),n.removeTarget=t,this.q_(n)}}class dD extends i1{constructor(t,n,s,l,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Lt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Lt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Lt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=E2(t.writeResults,t.commitTime),s=Dn(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=Hm(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>X0(this.serializer,s)))};this.q_(n)}}class mD{}class pD extends mD{constructor(t,n,s,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new it(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(t,qm(n,s),l,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new it(K.UNKNOWN,u.toString())}))}Ho(t,n,s,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,p])=>this.connection.Ho(t,qm(n,s),l,f,p,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new it(K.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class gD{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(hr(n),this.aa=!1):rt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ia="RemoteStore";class _D{constructor(t,n,s,l,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{aa(this)&&(rt(ia,"Restarting streams for network reachability change."),await(async function(g){const _=Et(g);_.Ea.add(4),await pu(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Xh(_)})(this))}))})),this.Ra=new gD(s,l)}}async function Xh(r){if(aa(r))for(const t of r.da)await t(!0)}async function pu(r){for(const t of r.da)await t(!1)}function r1(r,t){const n=Et(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Np(n)?Dp(n):Ro(n).O_()&&Cp(n,t))}function Ip(r,t){const n=Et(r),s=Ro(n);n.Ia.delete(t),s.O_()&&s1(n,t),n.Ia.size===0&&(s.O_()?s.L_():aa(n)&&n.Ra.set("Unknown"))}function Cp(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(gt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ro(r).Y_(t)}function s1(r,t){r.Va.Ue(t),Ro(r).Z_(t)}function Dp(r){r.Va=new h2({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),Ro(r).start(),r.Ra.ua()}function Np(r){return aa(r)&&!Ro(r).x_()&&r.Ia.size>0}function aa(r){return Et(r).Ea.size===0}function a1(r){r.Va=void 0}async function yD(r){r.Ra.set("Online")}async function vD(r){r.Ia.forEach(((t,n)=>{Cp(r,t)}))}async function ED(r,t){a1(r),Np(r)?(r.Ra.ha(t),Dp(r)):r.Ra.set("Unknown")}async function TD(r,t,n){if(r.Ra.set("Online"),t instanceof G0&&t.state===2&&t.cause)try{await(async function(l,u){const f=u.cause;for(const p of u.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,f),l.Ia.delete(p),l.Va.removeTarget(p))})(r,t)}catch(s){rt(ia,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Oh(r,s)}else if(t instanceof hh?r.Va.Ze(t):t instanceof H0?r.Va.st(t):r.Va.tt(t),!n.isEqual(gt.min()))try{const s=await n1(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const p=u.Va.Tt(f);return p.targetChanges.forEach(((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const T=u.Ia.get(_);T&&u.Ia.set(_,T.withResumeToken(g.resumeToken,f))}})),p.targetMismatches.forEach(((g,_)=>{const T=u.Ia.get(g);if(!T)return;u.Ia.set(g,T.withResumeToken(Ze.EMPTY_BYTE_STRING,T.snapshotVersion)),s1(u,g);const S=new Jr(T.target,g,_,T.sequenceNumber);Cp(u,S)})),u.remoteSyncer.applyRemoteEvent(p)})(r,n)}catch(s){rt(ia,"Failed to raise snapshot:",s),await Oh(r,s)}}async function Oh(r,t,n){if(!bo(t))throw t;r.Ea.add(1),await pu(r),r.Ra.set("Offline"),n||(n=()=>n1(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{rt(ia,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Xh(r)}))}function o1(r,t){return t().catch((n=>Oh(r,n,t)))}async function $h(r){const t=Et(r),n=cs(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:fp;for(;AD(t);)try{const l=await iD(t.localStore,s);if(l===null){t.Ta.length===0&&n.L_();break}s=l.batchId,SD(t,l)}catch(l){await Oh(t,l)}l1(t)&&u1(t)}function AD(r){return aa(r)&&r.Ta.length<10}function SD(r,t){r.Ta.push(t);const n=cs(r);n.O_()&&n.X_&&n.ea(t.mutations)}function l1(r){return aa(r)&&!cs(r).x_()&&r.Ta.length>0}function u1(r){cs(r).start()}async function bD(r){cs(r).ra()}async function wD(r){const t=cs(r);for(const n of r.Ta)t.ea(n.mutations)}async function RD(r,t,n){const s=r.Ta.shift(),l=vp.from(s,t,n);await o1(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await $h(r)}async function ID(r,t){t&&cs(r).X_&&await(async function(s,l){if((function(f){return B0(f)&&f!==K.ABORTED})(l.code)){const u=s.Ta.shift();cs(s).B_(),await o1(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,l))),await $h(s)}})(r,t),l1(r)&&u1(r)}async function jE(r,t){const n=Et(r);n.asyncQueue.verifyOperationInProgress(),rt(ia,"RemoteStore received new credentials");const s=aa(n);n.Ea.add(3),await pu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Xh(n)}async function CD(r,t){const n=Et(r);t?(n.Ea.delete(2),await Xh(n)):t||(n.Ea.add(2),await pu(n),n.Ra.set("Unknown"))}function Ro(r){return r.ma||(r.ma=(function(n,s,l){const u=Et(n);return u.sa(),new fD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Xo:yD.bind(null,r),t_:vD.bind(null,r),r_:ED.bind(null,r),H_:TD.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Np(r)?Dp(r):r.Ra.set("Unknown")):(await r.ma.stop(),a1(r))}))),r.ma}function cs(r){return r.fa||(r.fa=(function(n,s,l){const u=Et(n);return u.sa(),new dD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:bD.bind(null,r),r_:ID.bind(null,r),ta:wD.bind(null,r),na:RD.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await $h(r)):(await r.fa.stop(),r.Ta.length>0&&(rt(ia,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Op{constructor(t,n,s,l,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=u,this.deferred=new is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,l,u){const f=Date.now()+s,p=new Op(t,n,f,l,u);return p.start(s),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(K.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vp(r,t){if(hr("AsyncQueue",`${t}: ${r}`),bo(r))return new it(K.UNAVAILABLE,`${t}: ${r}`);throw r}class oo{static emptySet(t){return new oo(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||ut.comparator(n.key,s.key):(n,s)=>ut.comparator(n.key,s.key),this.keyedMap=Ll(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof oo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new oo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}class BE{constructor(){this.ga=new ce(ut.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):dt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class yo{constructor(t,n,s,l,u,f,p,g,_){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(t,n,s,l,u){const f=[];return n.forEach((p=>{f.push({type:0,doc:p})})),new yo(t,n,oo.emptySet(n),f,s,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&qh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}class DD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class ND{constructor(){this.queries=qE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const l=Et(n),u=l.queries;l.queries=qE(),u.forEach(((f,p)=>{for(const g of p.Sa)g.onError(s)}))})(this,new it(K.ABORTED,"Firestore shutting down"))}}function qE(){return new sa((r=>C0(r)),qh)}async function OD(r,t){const n=Et(r);let s=3;const l=t.query;let u=n.queries.get(l);u?!u.ba()&&t.Da()&&(s=2):(u=new DD,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(f){const p=Vp(f,`Initialization of query '${to(t.query)}' failed`);return void t.onError(p)}n.queries.set(l,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&Mp(n)}async function VD(r,t){const n=Et(r),s=t.query;let l=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?l=t.Da()?0:1:!u.ba()&&t.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function MD(r,t){const n=Et(r);let s=!1;for(const l of t){const u=l.query,f=n.queries.get(u);if(f){for(const p of f.Sa)p.Fa(l)&&(s=!0);f.wa=l}}s&&Mp(n)}function xD(r,t,n){const s=Et(r),l=s.queries.get(t);if(l)for(const u of l.Sa)u.onError(n);s.queries.delete(t)}function Mp(r){r.Ca.forEach((t=>{t.next()}))}var Qm,HE;(HE=Qm||(Qm={})).Ma="default",HE.Cache="cache";class kD{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new yo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=yo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Qm.Cache}}class c1{constructor(t){this.key=t}}class h1{constructor(t){this.key=t}}class PD{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=xt(),this.mutatedKeys=xt(),this.eu=D0(t),this.tu=new oo(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new BE,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=l,p=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((T,S)=>{const C=l.get(T),q=Hh(this.query,S)?S:null,J=!!C&&this.mutatedKeys.has(C.key),W=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let Y=!1;C&&q?C.data.isEqual(q.data)?J!==W&&(s.track({type:3,doc:q}),Y=!0):this.su(C,q)||(s.track({type:2,doc:q}),Y=!0,(g&&this.eu(q,g)>0||_&&this.eu(q,_)<0)&&(p=!0)):!C&&q?(s.track({type:0,doc:q}),Y=!0):C&&!q&&(s.track({type:1,doc:C}),Y=!0,(g||_)&&(p=!0)),Y&&(q?(f=f.add(q),u=W?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{tu:f,iu:s,Cs:p,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,l){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((T,S)=>(function(q,J){const W=Y=>{switch(Y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt(20277,{Rt:Y})}};return W(q)-W(J)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(s),l=l??!1;const p=n&&!l?this._u():[],g=this.Xa.size===0&&this.current&&!l?1:0,_=g!==this.Za;return this.Za=g,f.length!==0||_?{snapshot:new yo(this.query,t.tu,u,f,t.mutatedKeys,g===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new BE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=xt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new h1(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new c1(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=xt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return yo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const xp="SyncEngine";class UD{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class LD{constructor(t){this.key=t,this.hu=!1}}class zD{constructor(t,n,s,l,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new sa((p=>C0(p)),qh),this.Iu=new Map,this.Eu=new Set,this.du=new ce(ut.comparator),this.Au=new Map,this.Ru=new Ap,this.Vu={},this.mu=new Map,this.fu=_o.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function jD(r,t,n=!0){const s=_1(r);let l;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await f1(s,t,n,!0),l}async function BD(r,t){const n=_1(r);await f1(n,t,!0,!1)}async function f1(r,t,n,s){const l=await rD(r.localStore,xi(t)),u=l.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let p;return s&&(p=await qD(r,t,u,f==="current",l.resumeToken)),r.isPrimaryClient&&n&&r1(r.remoteStore,l),p}async function qD(r,t,n,s,l){r.pu=(S,C,q)=>(async function(W,Y,lt,yt){let pt=Y.view.ru(lt);pt.Cs&&(pt=await kE(W.localStore,Y.query,!1).then((({documents:D})=>Y.view.ru(D,pt))));const Ft=yt&&yt.targetChanges.get(Y.targetId),ht=yt&&yt.targetMismatches.get(Y.targetId)!=null,Rt=Y.view.applyChanges(pt,W.isPrimaryClient,Ft,ht);return FE(W,Y.targetId,Rt.au),Rt.snapshot})(r,S,C,q);const u=await kE(r.localStore,t,!0),f=new PD(t,u.Qs),p=f.ru(u.documents),g=mu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),_=f.applyChanges(p,r.isPrimaryClient,g);FE(r,n,_.au);const T=new UD(t,n,f);return r.Tu.set(t,T),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),_.snapshot}async function HD(r,t,n){const s=Et(r),l=s.Tu.get(t),u=s.Iu.get(l.targetId);if(u.length>1)return s.Iu.set(l.targetId,u.filter((f=>!qh(f,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Gm(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),n&&Ip(s.remoteStore,l.targetId),Km(s,l.targetId)})).catch(So)):(Km(s,l.targetId),await Gm(s.localStore,l.targetId,!0))}async function GD(r,t){const n=Et(r),s=n.Tu.get(t),l=n.Iu.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Ip(n.remoteStore,s.targetId))}async function FD(r,t,n){const s=JD(r);try{const l=await(function(f,p){const g=Et(f),_=se.now(),T=p.reduce(((q,J)=>q.add(J.key)),xt());let S,C;return g.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let J=fr(),W=xt();return g.Ns.getEntries(q,T).next((Y=>{J=Y,J.forEach(((lt,yt)=>{yt.isValidDocument()||(W=W.add(lt))}))})).next((()=>g.localDocuments.getOverlayedDocuments(q,J))).next((Y=>{S=Y;const lt=[];for(const yt of p){const pt=s2(yt,S.get(yt.key).overlayedDocument);pt!=null&&lt.push(new gs(yt.key,pt,E0(pt.value.mapValue),en.exists(!0)))}return g.mutationQueue.addMutationBatch(q,_,lt,p)})).next((Y=>{C=Y;const lt=Y.applyToLocalDocumentSet(S,W);return g.documentOverlayCache.saveOverlays(q,Y.batchId,lt)}))})).then((()=>({batchId:C.batchId,changes:O0(S)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),(function(f,p,g){let _=f.Vu[f.currentUser.toKey()];_||(_=new ce(Mt)),_=_.insert(p,g),f.Vu[f.currentUser.toKey()]=_})(s,l.batchId,n),await gu(s,l.changes),await $h(s.remoteStore)}catch(l){const u=Vp(l,"Failed to persist write");n.reject(u)}}async function d1(r,t){const n=Et(r);try{const s=await eD(n.localStore,t);t.targetChanges.forEach(((l,u)=>{const f=n.Au.get(u);f&&(Lt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?f.hu=!0:l.modifiedDocuments.size>0?Lt(f.hu,14607):l.removedDocuments.size>0&&(Lt(f.hu,42227),f.hu=!1))})),await gu(n,s,t)}catch(s){await So(s)}}function GE(r,t,n){const s=Et(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.Tu.forEach(((u,f)=>{const p=f.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(f,p){const g=Et(f);g.onlineState=p;let _=!1;g.queries.forEach(((T,S)=>{for(const C of S.Sa)C.va(p)&&(_=!0)})),_&&Mp(g)})(s.eventManager,t),l.length&&s.Pu.H_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function QD(r,t,n){const s=Et(r);s.sharedClientState.updateQueryState(t,"rejected",n);const l=s.Au.get(t),u=l&&l.key;if(u){let f=new ce(ut.comparator);f=f.insert(u,qe.newNoDocument(u,gt.min()));const p=xt().add(u),g=new Kh(gt.min(),new Map,new ce(Mt),f,p);await d1(s,g),s.du=s.du.remove(u),s.Au.delete(t),kp(s)}else await Gm(s.localStore,t,!1).then((()=>Km(s,t,n))).catch(So)}async function KD(r,t){const n=Et(r),s=t.batch.batchId;try{const l=await tD(n.localStore,t);p1(n,s,null),m1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await gu(n,l)}catch(l){await So(l)}}async function YD(r,t,n){const s=Et(r);try{const l=await(function(f,p){const g=Et(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let T;return g.mutationQueue.lookupMutationBatch(_,p).next((S=>(Lt(S!==null,37113),T=S.keys(),g.mutationQueue.removeMutationBatch(_,S)))).next((()=>g.mutationQueue.performConsistencyCheck(_))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(_,T,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T))).next((()=>g.localDocuments.getDocuments(_,T)))}))})(s.localStore,t);p1(s,t,n),m1(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await gu(s,l)}catch(l){await So(l)}}function m1(r,t){(r.mu.get(t)||[]).forEach((n=>{n.resolve()})),r.mu.delete(t)}function p1(r,t,n){const s=Et(r);let l=s.Vu[s.currentUser.toKey()];if(l){const u=l.get(t);u&&(n?u.reject(n):u.resolve(),l=l.remove(t)),s.Vu[s.currentUser.toKey()]=l}}function Km(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((s=>{r.Ru.containsKey(s)||g1(r,s)}))}function g1(r,t){r.Eu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(Ip(r.remoteStore,n),r.du=r.du.remove(t),r.Au.delete(n),kp(r))}function FE(r,t,n){for(const s of n)s instanceof c1?(r.Ru.addReference(s.key,t),XD(r,s)):s instanceof h1?(rt(xp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||g1(r,s.key)):dt(19791,{wu:s})}function XD(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(rt(xp,"New document in limbo: "+n),r.Eu.add(s),kp(r))}function kp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new ut(ee.fromString(t)),s=r.fu.next();r.Au.set(s,new LD(n)),r.du=r.du.insert(n,s),r1(r.remoteStore,new Jr(xi(_p(n.path)),s,"TargetPurposeLimboResolution",jh.ce))}}async function gu(r,t,n){const s=Et(r),l=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,g)=>{f.push(s.pu(g,t,n).then((_=>{if((_||n)&&s.isPrimaryClient){const T=_?!_.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(_){l.push(_);const T=bp.As(g.targetId,_);u.push(T)}})))})),await Promise.all(f),s.Pu.H_(l),await(async function(g,_){const T=Et(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>Z.forEach(_,(C=>Z.forEach(C.Es,(q=>T.persistence.referenceDelegate.addReference(S,C.targetId,q))).next((()=>Z.forEach(C.ds,(q=>T.persistence.referenceDelegate.removeReference(S,C.targetId,q)))))))))}catch(S){if(!bo(S))throw S;rt(wp,"Failed to update sequence numbers: "+S)}for(const S of _){const C=S.targetId;if(!S.fromCache){const q=T.Ms.get(C),J=q.snapshotVersion,W=q.withLastLimboFreeSnapshotVersion(J);T.Ms=T.Ms.insert(C,W)}}})(s.localStore,u))}async function $D(r,t){const n=Et(r);if(!n.currentUser.isEqual(t)){rt(xp,"User change. New user:",t.toKey());const s=await e1(n.localStore,t);n.currentUser=t,(function(u,f){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new it(K.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await gu(n,s.Ls)}}function ZD(r,t){const n=Et(r),s=n.Au.get(t);if(s&&s.hu)return xt().add(s.key);{let l=xt();const u=n.Iu.get(t);if(!u)return l;for(const f of u){const p=n.Tu.get(f);l=l.unionWith(p.view.nu)}return l}}function _1(r){const t=Et(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=d1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=QD.bind(null,t),t.Pu.H_=MD.bind(null,t.eventManager),t.Pu.yu=xD.bind(null,t.eventManager),t}function JD(r){const t=Et(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=KD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=YD.bind(null,t),t}class Vh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Yh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return W2(this.persistence,new $2,t.initialUser,this.serializer)}Cu(t){return new t1(Sp.mi,this.serializer)}Du(t){return new aD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vh.provider={build:()=>new Vh};class WD extends Vh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Lt(this.persistence.referenceDelegate instanceof Nh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new k2(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new t1((s=>Nh.mi(s,n)),this.serializer)}}class Ym{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>GE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=$D.bind(null,this.syncEngine),await CD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new ND})()}createDatastore(t){const n=Yh(t.databaseInfo.databaseId),s=(function(u){return new hD(u)})(t.databaseInfo);return(function(u,f,p,g){return new pD(u,f,p,g)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,l,u,f,p){return new _D(s,l,u,f,p)})(this.localStore,this.datastore,t.asyncQueue,(n=>GE(this.syncEngine,n,0)),(function(){return LE.v()?new LE:new oD})())}createSyncEngine(t,n){return(function(l,u,f,p,g,_,T){const S=new zD(l,u,f,p,g,_);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Et(n);rt(ia,"RemoteStore shutting down."),s.Ea.add(5),await pu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ym.provider={build:()=>new Ym};class tN{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):hr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}class eN{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new it(K.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(l,u){const f=Et(l),p={documents:u.map((S=>Dh(f.serializer,S)))},g=await f.Ho("BatchGetDocuments",f.serializer.databaseId,ee.emptyPath(),p,u.length),_=new Map;g.forEach((S=>{const C=y2(f.serializer,S);_.set(C.key.toString(),C)}));const T=[];return u.forEach((S=>{const C=_.get(S.toString());Lt(!!C,55234,{key:S}),T.push(C)})),T})(this.datastore,t);return n.forEach((s=>this.recordVersion(s))),n}set(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(t.toString())}delete(t){this.write(new Qh(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach((n=>{t.delete(n.key.toString())})),t.forEach(((n,s)=>{const l=ut.fromPath(s);this.mutations.push(new j0(l,this.precondition(l)))})),await(async function(s,l){const u=Et(s),f={writes:l.map((p=>X0(u.serializer,p)))};await u.Go("Commit",u.serializer.databaseId,ee.emptyPath(),f)})(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw dt(50498,{Gu:t.constructor.name});n=gt.min()}const s=this.readVersions.get(t.key.toString());if(s){if(!n.isEqual(s))throw new it(K.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)}precondition(t){const n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?n.isEqual(gt.min())?en.exists(!1):en.updateTime(n):en.none()}preconditionForUpdate(t){const n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(gt.min()))throw new it(K.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return en.updateTime(n)}return en.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class nN{constructor(t,n,s,l,u){this.asyncQueue=t,this.datastore=n,this.options=s,this.updateFunction=l,this.deferred=u,this.zu=s.maxAttempts,this.M_=new Rp(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const t=new eN(this.datastore),n=this.Hu(t);n&&n.then((s=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(s)})).catch((l=>{this.Yu(l)}))))})).catch((s=>{this.Yu(s)}))}))}Hu(t){try{const n=this.updateFunction(t);return!fu(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(t){this.zu>0&&this.Zu(t)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(t)}Zu(t){if(t?.name==="FirebaseError"){const n=t.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!B0(n)}return!1}}const hs="FirestoreClient";class iN{constructor(t,n,s,l,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=tn.UNAUTHENTICATED,this.clientId=hp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{rt(hs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(rt(hs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new is;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Vp(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function vm(r,t){r.asyncQueue.verifyOperationInProgress(),rt(hs,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await e1(t.localStore,l),s=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function QE(r,t){r.asyncQueue.verifyOperationInProgress();const n=await rN(r);rt(hs,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((s=>jE(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>jE(t.remoteStore,l))),r._onlineComponents=t}async function rN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){rt(hs,"Using user provided OfflineComponentProvider");try{await vm(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(l){return l.name==="FirebaseError"?l.code===K.FAILED_PRECONDITION||l.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;fo("Error using user provided cache. Falling back to memory cache: "+n),await vm(r,new Vh)}}else rt(hs,"Using default OfflineComponentProvider"),await vm(r,new WD(void 0));return r._offlineComponents}async function Pp(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(rt(hs,"Using user provided OnlineComponentProvider"),await QE(r,r._uninitializedComponentsProvider._online)):(rt(hs,"Using default OnlineComponentProvider"),await QE(r,new Ym))),r._onlineComponents}function sN(r){return Pp(r).then((t=>t.syncEngine))}function aN(r){return Pp(r).then((t=>t.datastore))}async function KE(r){const t=await Pp(r),n=t.eventManager;return n.onListen=jD.bind(null,t.syncEngine),n.onUnlisten=HD.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=BD.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=GD.bind(null,t.syncEngine),n}function y1(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const YE=new Map;const v1="firestore.googleapis.com",XE=!0;class $E{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new it(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=v1,this.ssl=XE}else this.host=t.host,this.ssl=t.ssl??XE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=W0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<M2)throw new it(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}vC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=y1(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new it(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new it(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new it(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Zh{constructor(t,n,s,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $E({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new it(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $E(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new uC;switch(s.type){case"firstParty":return new dC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new it(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=YE.get(n);s&&(rt("ComponentProvider","Removing Datastore"),YE.delete(n),s.terminate())})(this),Promise.resolve()}}function oN(r,t,n,s={}){r=lr(r,Zh);const l=vo(t),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${n}`;l&&(mT(`https://${p}`),pT("Firestore",!0)),u.host!==v1&&u.host!==p&&fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:l,emulatorOptions:s};if(!Js(g,f)&&(r._setSettings(g),s.mockUserToken)){let _,T;if(typeof s.mockUserToken=="string")_=s.mockUserToken,T=tn.MOCK_USER;else{_=vb(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new it(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new tn(S)}r._authCredentials=new cC(new l0(_,T))}}class oa{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new oa(this.firestore,t,this._query)}}class ve{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ve(this.firestore,t,this._key)}toJSON(){return{type:ve._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(hu(n,ve._jsonSchema))return new ve(t,s||null,new ut(ee.fromString(n.referencePath)))}}ve._jsonSchemaVersion="firestore/documentReference/1.0",ve._jsonSchema={type:Oe("string",ve._jsonSchemaVersion),referencePath:Oe("string")};class rs extends oa{constructor(t,n,s){super(t,n,_p(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ve(this.firestore,null,new ut(t))}withConverter(t){return new rs(this.firestore,t,this._path)}}function Ys(r,t,...n){if(r=Ve(r),u0("collection","path",t),r instanceof Zh){const s=ee.fromString(t,...n);return lE(s),new rs(r,null,s)}{if(!(r instanceof ve||r instanceof rs))throw new it(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(t,...n));return lE(s),new rs(r.firestore,null,s)}}function pn(r,t,...n){if(r=Ve(r),arguments.length===1&&(t=hp.newId()),u0("doc","path",t),r instanceof Zh){const s=ee.fromString(t,...n);return oE(s),new ve(r,null,new ut(s))}{if(!(r instanceof ve||r instanceof rs))throw new it(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(t,...n));return oE(s),new ve(r.firestore,r instanceof rs?r.converter:null,new ut(s))}}const ZE="AsyncQueue";class JE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Rp(this,"async_queue_retry"),this._c=()=>{const s=ym();s&&rt(ZE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=ym();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=ym();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new is;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!bo(t))throw t;rt(ZE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,hr("INTERNAL UNHANDLED ERROR: ",WE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const l=Op.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&dt(47125,{Pc:WE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function WE(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function tT(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const l=n;for(const u of s)if(u in l&&typeof l[u]=="function")return!0;return!1})(r,["next","error","complete"])}class ra extends Zh{constructor(t,n,s,l){super(t,n,s,l),this.type="firestore",this._queue=new JE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new JE(t),this._firestoreClient=void 0,await t}}}function lN(r,t){const n=typeof r=="object"?r:vT(),s=typeof r=="string"?r:Sh,l=Wm(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const u=_b("firestore");u&&oN(l,...u)}return l}function Up(r){if(r._terminated)throw new it(K.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||uN(r),r._firestoreClient}function uN(r){const t=r._freezeSettings(),n=(function(l,u,f,p){return new NC(l,u,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,y1(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new iN(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(r._componentsProvider))}class In{constructor(t){this._byteString=t}static fromBase64String(t){try{return new In(Ze.fromBase64String(t))}catch(n){throw new it(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new In(Ze.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:In._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(hu(t,In._jsonSchema))return In.fromBase64String(t.bytes)}}In._jsonSchemaVersion="firestore/bytes/1.0",In._jsonSchema={type:Oe("string",In._jsonSchemaVersion),bytes:Oe("string")};class _u{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new it(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $e(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Lp{constructor(t){this._methodName=t}}class ki{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new it(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new it(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Mt(this._lat,t._lat)||Mt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ki._jsonSchemaVersion}}static fromJSON(t){if(hu(t,ki._jsonSchema))return new ki(t.latitude,t.longitude)}}ki._jsonSchemaVersion="firestore/geoPoint/1.0",ki._jsonSchema={type:Oe("string",ki._jsonSchemaVersion),latitude:Oe("number"),longitude:Oe("number")};class Pi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,l){if(s.length!==l.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==l[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Pi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(hu(t,Pi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Pi(t.vectorValues);throw new it(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Pi._jsonSchemaVersion="firestore/vectorValue/1.0",Pi._jsonSchema={type:Oe("string",Pi._jsonSchemaVersion),vectorValues:Oe("object")};const cN=/^__.*__$/;class hN{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new gs(t,this.data,this.fieldMask,n,this.fieldTransforms):new du(t,this.data,n,this.fieldTransforms)}}class E1{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new gs(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function T1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt(40011,{Ac:r})}}class zp{constructor(t,n,s,l,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new zp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Mh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(T1(this.Ac)&&cN.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class fN{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Yh(t)}Cc(t,n,s,l=!1){return new zp({Ac:t,methodName:n,Dc:s,path:$e.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jh(r){const t=r._freezeSettings(),n=Yh(r._databaseId);return new fN(r._databaseId,!!t.ignoreUndefinedProperties,n)}function A1(r,t,n,s,l,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,t,n,l);jp("Data must be an object, but it was:",f,s);const p=w1(s,f);let g,_;if(u.merge)g=new Cn(f.fieldMask),_=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const S of u.mergeFields){const C=Xm(t,S,n);if(!f.contains(C))throw new it(K.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);I1(T,C)||T.push(C)}g=new Cn(T),_=f.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,_=f.fieldTransforms;return new hN(new on(p),g,_)}class Wh extends Lp{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Wh}}function S1(r,t,n,s){const l=r.Cc(1,t,n);jp("Data must be an object, but it was:",l,s);const u=[],f=on.empty();ps(s,((g,_)=>{const T=Bp(t,g,n);_=Ve(_);const S=l.yc(T);if(_ instanceof Wh)u.push(T);else{const C=yu(_,S);C!=null&&(u.push(T),f.set(T,C))}}));const p=new Cn(u);return new E1(f,p,l.fieldTransforms)}function b1(r,t,n,s,l,u){const f=r.Cc(1,t,n),p=[Xm(t,s,n)],g=[l];if(u.length%2!=0)throw new it(K.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<u.length;C+=2)p.push(Xm(t,u[C])),g.push(u[C+1]);const _=[],T=on.empty();for(let C=p.length-1;C>=0;--C)if(!I1(_,p[C])){const q=p[C];let J=g[C];J=Ve(J);const W=f.yc(q);if(J instanceof Wh)_.push(q);else{const Y=yu(J,W);Y!=null&&(_.push(q),T.set(q,Y))}}const S=new Cn(_);return new E1(T,S,f.fieldTransforms)}function dN(r,t,n,s=!1){return yu(n,r.Cc(s?4:3,t))}function yu(r,t){if(R1(r=Ve(r)))return jp("Unsupported field value:",t,r),w1(r,t);if(r instanceof Lp)return(function(s,l){if(!T1(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,l){const u=[];let f=0;for(const p of s){let g=yu(p,l.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(r,t)}return(function(s,l){if((s=Ve(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return WC(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=se.fromDate(s);return{timestampValue:Ch(l.serializer,u)}}if(s instanceof se){const u=new se(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ch(l.serializer,u)}}if(s instanceof ki)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof In)return{bytesValue:F0(l.serializer,s._byteString)};if(s instanceof ve){const u=l.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw l.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Tp(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Pi)return(function(f,p){return{mapValue:{fields:{[y0]:{stringValue:v0},[bh]:{arrayValue:{values:f.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return yp(p.serializer,_)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${zh(s)}`)})(r,t)}function w1(r,t){const n={};return f0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ps(r,((s,l)=>{const u=yu(l,t.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function R1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof se||r instanceof ki||r instanceof In||r instanceof ve||r instanceof Lp||r instanceof Pi)}function jp(r,t,n){if(!R1(n)||!c0(n)){const s=zh(n);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function Xm(r,t,n){if((t=Ve(t))instanceof _u)return t._internalPath;if(typeof t=="string")return Bp(r,t);throw Mh("Field path arguments must be of type string or ",r,!1,void 0,n)}const mN=new RegExp("[~\\*/\\[\\]]");function Bp(r,t,n){if(t.search(mN)>=0)throw Mh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new _u(...t.split("."))._internalPath}catch{throw Mh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Mh(r,t,n,s,l){const u=s&&!s.isEmpty(),f=l!==void 0;let p=`Function ${t}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${l}`),g+=")"),new it(K.INVALID_ARGUMENT,p+r+g)}function I1(r,t){return r.some((n=>n.isEqual(t)))}class xh{constructor(t,n,s,l,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ve(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new pN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(tf("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class pN extends xh{data(){return super.data()}}function tf(r,t){return typeof t=="string"?Bp(r,t):t instanceof _u?t._internalPath:t._delegate._internalPath}function gN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new it(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qp{}class C1 extends qp{}function Em(r,t,...n){let s=[];t instanceof qp&&s.push(t),s=s.concat(n),(function(u){const f=u.filter((g=>g instanceof Hp)).length,p=u.filter((g=>g instanceof ef)).length;if(f>1||f>0&&p>0)throw new it(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class ef extends C1{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new ef(t,n,s)}_apply(t){const n=this._parse(t);return D1(t._query,n),new oa(t.firestore,t.converter,zm(t._query,n))}_parse(t){const n=Jh(t.firestore);return(function(u,f,p,g,_,T,S){let C;if(_.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new it(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){nT(S,T);const J=[];for(const W of S)J.push(eT(g,u,W));C={arrayValue:{values:J}}}else C=eT(g,u,S)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||nT(S,T),C=dN(p,f,S,T==="in"||T==="not-in");return Ne.create(_,T,C)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function Tm(r,t,n){const s=t,l=tf("where",r);return ef._create(l,s,n)}class Hp extends qp{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Hp(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:li.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(l,u){let f=l;const p=u.getFlattenedFilters();for(const g of p)D1(f,g),f=zm(f,g)})(t._query,n),new oa(t.firestore,t.converter,zm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Gp extends C1{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Gp(t,n)}_apply(t){const n=(function(l,u,f){if(l.startAt!==null)throw new it(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new it(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new nu(u,f)})(t._query,this._field,this._direction);return new oa(t.firestore,t.converter,(function(l,u){const f=l.explicitOrderBy.concat([u]);return new wo(l.path,l.collectionGroup,f,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,n))}}function eh(r,t="asc"){const n=t,s=tf("orderBy",r);return Gp._create(s,n)}function eT(r,t,n){if(typeof(n=Ve(n))=="string"){if(n==="")throw new it(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!I0(t)&&n.indexOf("/")!==-1)throw new it(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(ee.fromString(n));if(!ut.isDocumentKey(s))throw new it(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return gE(r,new ut(s))}if(n instanceof ve)return gE(r,n._key);throw new it(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zh(n)}.`)}function nT(r,t){if(!Array.isArray(r)||r.length===0)throw new it(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function D1(r,t){const n=(function(l,u){for(const f of l)for(const p of f.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new it(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new it(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class N1{convertValue(t,n="none"){switch(us(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ls(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw dt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return ps(t,((l,u)=>{s[l]=this.convertValue(u,n)})),s}convertVectorValue(t){const n=t.fields?.[bh].arrayValue?.values?.map((s=>ye(s.doubleValue)));return new Pi(n)}convertGeoPoint(t){return new ki(ye(t.latitude),ye(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Bh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Wl(t));default:return null}}convertTimestamp(t){const n=os(t);return new se(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ee.fromString(t);Lt(J0(s),9688,{name:t});const l=new tu(s.get(1),s.get(3)),u=new ut(s.popFirst(5));return l.isEqual(n)||hr(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function O1(r,t,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(t,n):r.toFirestore(t):t,s}class _N extends N1{constructor(t){super(),this.firestore=t}convertBytes(t){return new In(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new ve(this.firestore,null,n)}}class io{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ss extends xh{constructor(t,n,s,l,u,f){super(t,n,s,l,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new fh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(tf("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new it(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=ss._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ss._jsonSchemaVersion="firestore/documentSnapshot/1.0",ss._jsonSchema={type:Oe("string",ss._jsonSchemaVersion),bundleSource:Oe("string","DocumentSnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class fh extends ss{data(t={}){return super.data(t)}}class lo{constructor(t,n,s,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new io(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new fh(this._firestore,this._userDataWriter,s.key,s,new io(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new it(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map((p=>{const g=new fh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new io(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new fh(l._firestore,l._userDataWriter,p.doc.key,p.doc,new io(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,T=-1;return p.type!==0&&(_=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),T=f.indexOf(p.doc.key)),{type:yN(p.type),doc:g,oldIndex:_,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new it(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=lo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=hp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function yN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt(61501,{type:r})}}lo._jsonSchemaVersion="firestore/querySnapshot/1.0",lo._jsonSchema={type:Oe("string",lo._jsonSchemaVersion),bundleSource:Oe("string","QuerySnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class Fp extends N1{constructor(t){super(),this.firestore=t}convertBytes(t){return new In(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new ve(this.firestore,null,n)}}function xl(r,t,n,...s){r=lr(r,ve);const l=lr(r.firestore,ra),u=Jh(l);let f;return f=typeof(t=Ve(t))=="string"||t instanceof _u?b1(u,"updateDoc",r._key,t,n,s):S1(u,"updateDoc",r._key,t),Qp(l,[f.toMutation(r._key,en.exists(!0))])}function nh(r){return Qp(lr(r.firestore,ra),[new Qh(r._key,en.none())])}function Am(r,t){const n=lr(r.firestore,ra),s=pn(r),l=O1(r.converter,t);return Qp(n,[A1(Jh(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,en.exists(!1))]).then((()=>s))}function Sm(r,...t){r=Ve(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||tT(t[s])||(n=t[s++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(tT(t[s])){const g=t[s];t[s]=g.next?.bind(g),t[s+1]=g.error?.bind(g),t[s+2]=g.complete?.bind(g)}let u,f,p;if(r instanceof ve)f=lr(r.firestore,ra),p=_p(r._key.path),u={next:g=>{t[s]&&t[s](vN(f,r,g))},error:t[s+1],complete:t[s+2]};else{const g=lr(r,oa);f=lr(g.firestore,ra),p=g._query;const _=new Fp(f);u={next:T=>{t[s]&&t[s](new lo(f,_,g,T))},error:t[s+1],complete:t[s+2]},gN(r._query)}return(function(_,T,S,C){const q=new tN(C),J=new kD(T,q,S);return _.asyncQueue.enqueueAndForget((async()=>OD(await KE(_),J))),()=>{q.Nu(),_.asyncQueue.enqueueAndForget((async()=>VD(await KE(_),J)))}})(Up(f),p,l,u)}function Qp(r,t){return(function(s,l){const u=new is;return s.asyncQueue.enqueueAndForget((async()=>FD(await sN(s),l,u))),u.promise})(Up(r),t)}function vN(r,t,n){const s=n.docs.get(t._key),l=new Fp(r);return new ss(r,l,t._key,s,new io(n.hasPendingWrites,n.fromCache),t.converter)}const EN={maxAttempts:5};function jl(r,t){if((r=Ve(r)).firestore!==t)throw new it(K.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class TN{constructor(t,n){this._firestore=t,this._transaction=n,this._dataReader=Jh(t)}get(t){const n=jl(t,this._firestore),s=new _N(this._firestore);return this._transaction.lookup([n._key]).then((l=>{if(!l||l.length!==1)return dt(24041);const u=l[0];if(u.isFoundDocument())return new xh(this._firestore,s,u.key,u,n.converter);if(u.isNoDocument())return new xh(this._firestore,s,n._key,null,n.converter);throw dt(18433,{doc:u})}))}set(t,n,s){const l=jl(t,this._firestore),u=O1(l.converter,n,s),f=A1(this._dataReader,"Transaction.set",l._key,u,l.converter!==null,s);return this._transaction.set(l._key,f),this}update(t,n,s,...l){const u=jl(t,this._firestore);let f;return f=typeof(n=Ve(n))=="string"||n instanceof _u?b1(this._dataReader,"Transaction.update",u._key,n,s,l):S1(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,f),this}delete(t){const n=jl(t,this._firestore);return this._transaction.delete(n._key),this}}class AN extends TN{constructor(t,n){super(t,n),this._firestore=t}get(t){const n=jl(t,this._firestore),s=new Fp(this._firestore);return super.get(t).then((l=>new ss(this._firestore,s,n._key,l._document,new io(!1,!1),n.converter)))}}function iT(r,t,n){r=lr(r,ra);const s={...EN,...n};return(function(u){if(u.maxAttempts<1)throw new it(K.INVALID_ARGUMENT,"Max attempts must be at least 1")})(s),(function(u,f,p){const g=new is;return u.asyncQueue.enqueueAndForget((async()=>{const _=await aN(u);new nN(u.asyncQueue,_,p,f,g).ju()})),g.promise})(Up(r),(l=>t(new AN(r,l))),s)}(function(t,n=!0){(function(l){Ao=l})(Eo),ho(new Ws("firestore",((s,{instanceIdentifier:l,options:u})=>{const f=s.getProvider("app").getImmediate(),p=new ra(new hC(s.getProvider("auth-internal")),new mC(f,s.getProvider("app-check-internal")),(function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new it(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tu(_.options.projectId,T)})(f,l),f);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),es(iE,rE,t),es(iE,rE,"esm2020")})();const SN={apiKey:"AIzaSyCvf06ixbU1SNGbN5Hn52IQpZXMc7b2qNc",authDomain:"guardabrazo-kanban.firebaseapp.com",projectId:"guardabrazo-kanban",storageBucket:"guardabrazo-kanban.firebasestorage.app",messagingSenderId:"967252315652",appId:"1:967252315652:web:8356deb1bea9eeab726f51",measurementId:"G-LNFPGGM2C6"},V1=yT(SN),Yl=sC(V1),_e=lN(V1),rT=r=>{let t;const n=new Set,s=(_,T)=>{const S=typeof _=="function"?_(t):_;if(!Object.is(S,t)){const C=t;t=T??(typeof S!="object"||S===null)?S:Object.assign({},t,S),n.forEach(q=>q(t,C))}},l=()=>t,p={setState:s,getState:l,getInitialState:()=>g,subscribe:_=>(n.add(_),()=>n.delete(_))},g=t=r(s,l,p);return p},bN=(r=>r?rT(r):rT),wN=r=>r;function RN(r,t=wN){const n=Zr.useSyncExternalStore(r.subscribe,Zr.useCallback(()=>t(r.getState()),[r,t]),Zr.useCallback(()=>t(r.getInitialState()),[r,t]));return Zr.useDebugValue(n),n}const sT=r=>{const t=bN(r),n=s=>RN(t,s);return Object.assign(n,t),n},IN=(r=>r?sT(r):sT),Io=IN((r,t)=>({user:null,projects:[],currentProjectId:null,columns:[],tasks:[],theme:"light",setUser:n=>r({user:n}),setTheme:n=>r({theme:n}),setCurrentProject:n=>r({currentProjectId:n}),subscribeToProjects:n=>{const s=Em(Ys(_e,"projects"),Tm("userId","==",n),eh("order"),eh("createdAt"));return Sm(s,l=>{const u=l.docs.map(f=>({id:f.id,...f.data()}));r({projects:u}),!t().currentProjectId&&u.length>0&&r({currentProjectId:u[0].id})})},subscribeToBoard:n=>{const s=Em(Ys(_e,"columns"),Tm("projectId","==",n),eh("order")),l=Em(Ys(_e,"tasks"),Tm("projectId","==",n),eh("createdAt")),u=Sm(s,p=>{const g=p.docs.map(_=>({id:_.id,..._.data()}));r({columns:g})}),f=Sm(l,p=>{const g=p.docs.map(_=>({id:_.id,..._.data()}));r({tasks:g})});return()=>{u(),f()}},addProject:async n=>{const{user:s,projects:l}=t();if(!s)return;const u=l.length,f=await Am(Ys(_e,"projects"),{title:n,userId:s.uid,createdAt:Date.now(),nextTaskIndex:1,order:u}),g=["BACKLOG","TO DO","DOING","AWAIT","DONE"].map((_,T)=>Am(Ys(_e,"columns"),{title:_,projectId:f.id,order:T}));await Promise.all(g)},deleteProject:async n=>{await nh(pn(_e,"projects",n)),t().currentProjectId===n&&r({currentProjectId:null})},addColumn:async(n,s)=>{const{columns:l}=t(),u=l.length;await Am(Ys(_e,"columns"),{title:n,projectId:s,order:u})},deleteColumn:async n=>{await nh(pn(_e,"columns",n))},addTask:async(n,s,l,u,f)=>{const{user:p}=t();p&&await iT(_e,async g=>{const _=pn(_e,"projects",l),T=await g.get(_);if(!T.exists())throw"Project does not exist!";const S=T.data().nextTaskIndex||1,C=pn(Ys(_e,"tasks"));g.set(C,{title:n,columnId:s,projectId:l,createdAt:Date.now(),tag:u||"General",description:f||"",projectIndex:S}),g.update(_,{nextTaskIndex:S+1})})},deleteTask:async n=>{await nh(pn(_e,"tasks",n))},renameTask:async(n,s)=>{await xl(pn(_e,"tasks",n),{title:s})},updateTask:async(n,s)=>{await xl(pn(_e,"tasks",n),s)},renameColumn:async(n,s)=>{await xl(pn(_e,"columns",n),{title:s})},moveTask:async(n,s)=>{await xl(pn(_e,"tasks",n),{columnId:s})},renameProject:async(n,s)=>{await xl(pn(_e,"projects",n),{title:s})},reorderProject:async(n,s)=>{const{projects:l}=t(),u=l.findIndex(_=>_.id===n);if(u===-1)return;const f=s==="up"?u-1:u+1;if(f<0||f>=l.length)return;const p=l[u],g=l[f];await iT(_e,async _=>{const T=pn(_e,"projects",p.id),S=pn(_e,"projects",g.id),C=g.order??0,q=p.order??0;_.update(T,{order:C}),_.update(S,{order:q})})},clearColumnTasks:async n=>{const{tasks:s}=t(),u=s.filter(f=>f.columnId===n).map(f=>nh(pn(_e,"tasks",f.id)));await Promise.all(u)}})),CN=()=>{const[r,t]=It.useState(""),[n,s]=It.useState(""),[l,u]=It.useState(!0),[f,p]=It.useState(""),g=async()=>{try{const T=new ir;await mI(Yl,T)}catch(T){p(T.message)}},_=async T=>{T.preventDefault(),p("");try{l?await FR(Yl,r,n):await GR(Yl,r,n)}catch(S){p(S.message)}};return L.jsx(Fn,{"data-theme":"light",style:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"var(--bg-base)",color:"var(--text-primary)"},children:L.jsx(dh,{style:{width:"400px",padding:"2rem"},children:L.jsxs($t,{gap:"lg",children:[L.jsx(co,{as:"h2",style:{textAlign:"center"},children:l?"KANBAN":"Create Account"}),f&&L.jsx(ar,{variant:"accent",style:{color:"var(--color-error, red)"},children:f}),L.jsxs("form",{onSubmit:_,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[L.jsx(Gn,{value:r,onChange:T=>t(T.target.value),placeholder:"Email",type:"email",autoComplete:"email"}),L.jsx(Gn,{value:n,onChange:T=>s(T.target.value),placeholder:"Password",type:"password",autoComplete:l?"current-password":"new-password"}),L.jsx(qt,{type:"submit",variant:"primary",children:l?"Login":"Sign Up"})]}),L.jsx($t,{direction:"row",gap:"md",align:"center",justify:"center",children:L.jsx(ar,{size:"xs",variant:"muted",children:"OR"})}),L.jsx(qt,{onClick:g,variant:"subtle",children:"Continue with Google"}),L.jsx(qt,{variant:"subtle",onClick:()=>u(!l),children:l?"Don't have an account? Sign Up":"Already have an account? Login"})]})})})},DN=()=>{const{theme:r,setTheme:t}=ab(),n=Io(l=>l.setTheme),s=l=>{t(l),n(l)};return L.jsxs(uo,{children:[L.jsx(qt,{variant:"subtle",active:r==="light",onClick:()=>s("light"),children:"Light"}),L.jsx(qt,{variant:"subtle",active:r==="darkMuted",onClick:()=>s("darkMuted"),children:"Dark"})]})},NN="_board_1x6pn_1110",ON="_columnsContainer_1x6pn_1117",VN="_column_1x6pn_1117",MN="_addColumn_1x6pn_1134",xN="_minimalAddColumn_1x6pn_1140",kN="_columnHeader_1x6pn_1165",PN="_columnContent_1x6pn_1171",UN="_taskCard_1x6pn_1177",LN="_addTaskButton_1x6pn_1185",zN="_moreButton_1x6pn_1195",ai={board:NN,columnsContainer:ON,column:VN,addColumn:MN,minimalAddColumn:xN,columnHeader:kN,columnContent:PN,taskCard:UN,addTaskButton:LN,moreButton:zN},jN=({task:r})=>{const{deleteTask:t,updateTask:n}=Io(),[s,l]=It.useState(!1),[u,f]=It.useState(!1),[p,g]=It.useState(r.title),[_,T]=It.useState(r.tag||"General"),[S,C]=It.useState(r.description||""),q=It.useRef(null);It.useEffect(()=>{const Y=lt=>{q.current&&!q.current.contains(lt.target)&&l(!1)};return document.addEventListener("mousedown",Y),()=>document.removeEventListener("mousedown",Y)},[]),It.useEffect(()=>{g(r.title),T(r.tag||"General"),C(r.description||"")},[r]);const J=async Y=>{Y.preventDefault(),p.trim()&&(await n(r.id,{title:p,tag:_.trim()||"General",description:S.trim()}),f(!1))},W=Y=>{Y.dataTransfer.setData("taskId",r.id),Y.dataTransfer.setData("sourceColumnId",r.columnId)};return L.jsx(Fn,{className:ai.taskCard,draggable:!u,onDragStart:W,style:{background:"var(--bg-surface)",border:"1px solid var(--border-subtle)",padding:"1rem",position:"relative"},children:L.jsxs($t,{gap:"sm",children:[L.jsxs($t,{direction:"row",justify:"between",align:"start",children:[L.jsx(aT,{label:r.tag||"General",variant:"default"}),L.jsxs("div",{style:{position:"relative"},ref:q,children:[L.jsx(qt,{variant:"subtle",onClick:()=>l(!s),className:ai.moreButton,style:{padding:"4px 8px",height:"auto"},children:"..."}),s&&L.jsx(Fn,{style:{position:"absolute",top:"100%",right:0,zIndex:10,minWidth:"100px"},children:L.jsxs(uo,{orientation:"vertical",style:{width:"100%"},children:[L.jsx(qt,{variant:"subtle",onClick:()=>{f(!0),l(!1)},style:{width:"100%",justifyContent:"flex-start",background:"var(--bg-panel)",border:"1px solid var(--border-subtle)"},children:"Edit"}),L.jsx(qt,{variant:"subtle",onClick:()=>t(r.id),style:{width:"100%",justifyContent:"flex-start",color:"var(--color-error)",background:"var(--bg-panel)",border:"1px solid var(--border-subtle)",borderTop:"none"},children:"Delete"})]})})]})]}),u?L.jsx("form",{onSubmit:J,children:L.jsxs($t,{gap:"xs",children:[L.jsx(Gn,{value:p,onChange:Y=>g(Y.target.value),placeholder:"Title",autoFocus:!0}),L.jsx(Gn,{value:S,onChange:Y=>C(Y.target.value),placeholder:"Description"}),L.jsx(Gn,{value:_,onChange:Y=>T(Y.target.value),placeholder:"Tag"}),L.jsxs(uo,{style:{display:"flex",width:"100%"},children:[L.jsx(qt,{type:"submit",variant:"primary",style:{flex:1},children:"Save"}),L.jsx(qt,{variant:"subtle",onClick:()=>f(!1),style:{flex:1},children:"Cancel"})]})]})}):L.jsxs(L.Fragment,{children:[L.jsx(ar,{size:"sm",style:{fontWeight:500},children:r.title}),r.description&&L.jsx(ar,{size:"xs",variant:"muted",style:{lineHeight:"1.4"},children:r.description})]}),L.jsx($t,{direction:"row",justify:"between",align:"center",style:{marginTop:"4px"},children:L.jsxs(ar,{size:"xs",variant:"muted",children:["#",r.projectIndex]})})]})})},BN=({column:r,tasks:t})=>{const{deleteColumn:n,clearColumnTasks:s,moveTask:l,renameColumn:u}=Io(),[f,p]=It.useState(!1),[g,_]=It.useState(!1),[T,S]=It.useState(r.title),C=It.useRef(null);It.useEffect(()=>{const Y=lt=>{C.current&&!C.current.contains(lt.target)&&p(!1)};return document.addEventListener("mousedown",Y),()=>document.removeEventListener("mousedown",Y)},[]);const q=async Y=>{Y.preventDefault(),T.trim()&&(await u(r.id,T),_(!1))},J=Y=>{Y.preventDefault()},W=async Y=>{Y.preventDefault();const lt=Y.dataTransfer.getData("taskId"),yt=Y.dataTransfer.getData("sourceColumnId");lt&&yt!==r.id&&await l(lt,r.id)};return L.jsxs(Fn,{className:ai.column,style:{background:"var(--bg-panel)"},onDragOver:J,onDrop:W,children:[L.jsx(Fn,{className:ai.columnHeader,style:{padding:"1rem",borderBottom:"1px solid var(--border-subtle)"},children:L.jsxs($t,{direction:"row",justify:"between",align:"center",style:{width:"100%"},children:[g?L.jsx("form",{onSubmit:q,style:{flex:1,marginRight:"8px"},children:L.jsx($t,{gap:"xs",children:L.jsx(Gn,{value:T,onChange:Y=>S(Y.target.value),autoFocus:!0,onBlur:()=>_(!1)})})}):L.jsx(co,{size:"sm",children:r.title}),L.jsxs($t,{direction:"row",gap:"xs",align:"center",children:[L.jsxs("div",{style:{position:"relative"},ref:C,children:[L.jsx(qt,{variant:"subtle",onClick:()=>p(!f),className:ai.moreButton,style:{padding:"4px 8px",height:"auto"},children:"..."}),f&&L.jsx(Fn,{style:{position:"absolute",top:"100%",right:0,zIndex:10,minWidth:"100px"},children:L.jsxs(uo,{orientation:"vertical",style:{width:"100%"},children:[L.jsx(qt,{variant:"subtle",onClick:()=>{_(!0),p(!1)},style:{width:"100%",justifyContent:"flex-start",background:"var(--bg-panel)",border:"1px solid var(--border-subtle)"},children:"Rename"}),L.jsx(qt,{variant:"subtle",onClick:()=>{s(r.id),p(!1)},style:{width:"100%",justifyContent:"flex-start",color:"var(--color-error)",background:"var(--bg-panel)",border:"1px solid var(--border-subtle)",borderTop:"none"},children:"Flush"}),L.jsx(qt,{variant:"subtle",onClick:()=>n(r.id),style:{width:"100%",justifyContent:"flex-start",color:"var(--color-error)",background:"var(--bg-panel)",border:"1px solid var(--border-subtle)",borderTop:"none"},children:"Delete"})]})})]}),L.jsx(aT,{label:t.length.toString(),variant:"muted"})]})]})}),L.jsxs($t,{gap:"md",className:ai.columnContent,children:[t.map(Y=>L.jsx(jN,{task:Y},Y.id)),L.jsx(qN,{columnId:r.id,projectId:r.projectId})]})]})},qN=({columnId:r,projectId:t})=>{const[n,s]=Zr.useState(""),[l,u]=Zr.useState(""),[f,p]=Zr.useState(""),[g,_]=Zr.useState(!1),{addTask:T}=Io(),S=async C=>{C.preventDefault(),n.trim()&&(await T(n,r,t,l.trim()||void 0,f.trim()||void 0),s(""),u(""),p(""),_(!1))};return g?L.jsx("form",{onSubmit:S,children:L.jsxs($t,{gap:"xs",children:[L.jsx(Gn,{value:n,onChange:C=>s(C.target.value),placeholder:"Task title",autoFocus:!0}),L.jsx(Gn,{value:f,onChange:C=>p(C.target.value),placeholder:"Description (optional)"}),L.jsx(Gn,{value:l,onChange:C=>u(C.target.value),placeholder:"Tag (optional)"}),L.jsxs($t,{direction:"row",gap:"xs",children:[L.jsx(qt,{type:"submit",variant:"primary",children:"Add"}),L.jsx(qt,{variant:"subtle",onClick:()=>_(!1),children:"Cancel"})]})]})}):L.jsx(qt,{variant:"subtle",className:ai.addTaskButton,onClick:()=>_(!0),children:"+ Add Task"})},HN=()=>{const{currentProjectId:r,columns:t,tasks:n,subscribeToBoard:s,addColumn:l}=Io(),[u,f]=It.useState(""),[p,g]=It.useState(!1);It.useEffect(()=>{if(!r)return;const T=s(r);return()=>T()},[r,s]);const _=async T=>{T.preventDefault(),!(!u.trim()||!r)&&(await l(u,r),f(""),g(!1))};return r?L.jsx(Fn,{className:ai.board,children:L.jsxs($t,{direction:"row",gap:"lg",align:"stretch",className:ai.columnsContainer,children:[t.map(T=>L.jsx(BN,{column:T,tasks:n.filter(S=>S.columnId===T.id)},T.id)),L.jsx(Fn,{className:p?ai.addColumn:ai.minimalAddColumn,children:p?L.jsx("form",{onSubmit:_,style:{width:"100%"},children:L.jsxs($t,{gap:"sm",children:[L.jsx(Gn,{value:u,onChange:T=>f(T.target.value),placeholder:"Column Title",autoFocus:!0}),L.jsxs($t,{direction:"row",gap:"sm",children:[L.jsx(qt,{type:"submit",variant:"primary",children:"Add"}),L.jsx(qt,{variant:"subtle",onClick:()=>g(!1),children:"Cancel"})]})]})}):L.jsx("button",{onClick:()=>g(!0),title:"Add Column",children:"+"})})]})}):null},GN=()=>{const[r,t]=It.useState(1500),[n,s]=It.useState(!1),[l,u]=It.useState("work");It.useEffect(()=>{let S=null;if(n&&r>0)S=setInterval(()=>{t(r-1)},1e3);else if(r===0){s(!1);const C=new(window.AudioContext||window.webkitAudioContext),q=C.createOscillator(),J=C.createGain();q.connect(J),J.connect(C.destination),q.type="sine",q.frequency.value=880,J.gain.value=.1,q.start(),setTimeout(()=>{q.stop(),C.close()},500)}return()=>clearInterval(S)},[n,r]);const f=()=>s(!n),p=()=>{s(!1),t(l==="work"?1500:300)},g=S=>{u(S),s(!1),t(S==="work"?1500:300)},_=S=>{const C=Math.floor(S/60),q=S%60;return`${C.toString().padStart(2,"0")}:${q.toString().padStart(2,"0")}`},T=L.jsxs($t,{direction:"row",justify:"between",align:"center",style:{width:"100%"},children:[L.jsx(co,{size:"md",children:"Timer"}),L.jsx(co,{size:"md",style:{fontWeight:400,fontFamily:"var(--font-family)"},children:_(r)})]});return L.jsx(dh,{header:T,children:L.jsxs($t,{gap:"sm",children:[L.jsxs(uo,{style:{display:"flex",width:"100%"},children:[L.jsx(qt,{variant:"subtle",onClick:f,style:{flex:1},children:n?"PAUSE":"START"}),L.jsx(qt,{variant:"subtle",onClick:p,style:{flex:1},children:"RESET"})]}),L.jsx(qt,{variant:l==="work"?"primary":"subtle",onClick:()=>g(l==="work"?"break":"work"),style:{width:"100%"},children:l==="work"?"SWITCH TO BREAK":"SWITCH TO WORK"})]})})},FN=()=>{const{user:r,setUser:t,projects:n,currentProjectId:s,setCurrentProject:l,subscribeToProjects:u,addProject:f,deleteProject:p,renameProject:g,reorderProject:_}=Io(),[T,S]=It.useState(""),[C,q]=It.useState(!1),[J,W]=It.useState(null),[Y,lt]=It.useState(null),[yt,pt]=It.useState("");It.useEffect(()=>{const ht=YR(Yl,Rt=>{t(Rt)});return()=>ht()},[t]),It.useEffect(()=>{const ht=()=>W(null);return document.addEventListener("click",ht),()=>document.removeEventListener("click",ht)},[]),It.useEffect(()=>{if(!r)return;const ht=u(r.uid);return()=>ht()},[r,u]);const Ft=async ht=>{ht.preventDefault(),T.trim()&&(await f(T),S(""),q(!1))};return r?L.jsx(lb,{title:"Kanban",defaultTheme:"light",headerActions:L.jsxs($t,{direction:"row",gap:"md",align:"center",children:[L.jsx(DN,{}),L.jsx(qt,{variant:"subtle",onClick:()=>Yl.signOut(),children:"Logout"})]}),sidebar:L.jsxs($t,{gap:"md",className:"app-sidebar",style:{height:"100%"},children:[L.jsx(dh,{header:"Projects",children:L.jsxs($t,{gap:"sm",children:[L.jsx($t,{gap:"none",children:n.map((ht,Rt)=>{const D=Rt===n.length-1,b=Y===ht.id;return L.jsx("div",{style:{width:"100%"},children:b?L.jsx("form",{onSubmit:async w=>{w.preventDefault(),yt.trim()&&(await g(ht.id,yt),lt(null))},style:{width:"100%"},children:L.jsx(Gn,{value:yt,onChange:w=>pt(w.target.value),autoFocus:!0,onBlur:()=>lt(null),style:{height:"32px",width:"100%"}})}):L.jsxs($t,{direction:"row",gap:"none",style:{width:"100%"},children:[L.jsx(qt,{variant:s===ht.id?"primary":"subtle",onClick:()=>l(ht.id),active:s===ht.id,style:{flex:1,justifyContent:"flex-start",textAlign:"left",borderRadius:"0",borderBottom:D?void 0:"none",borderRight:s===ht.id?"none":void 0,minWidth:0},children:L.jsx("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",display:"block",maxWidth:"100%"},children:ht.title})}),s===ht.id&&L.jsxs("div",{style:{position:"relative"},children:[L.jsx(qt,{variant:"primary",active:!0,onClick:w=>{w.stopPropagation(),W(J===ht.id?null:ht.id)},style:{padding:"0 8px",height:"100%",borderRadius:"0",borderBottom:D?void 0:"none",borderLeft:"none"},title:"Project Options",children:"..."}),J===ht.id&&L.jsx(Fn,{style:{position:"absolute",top:"100%",right:0,zIndex:100,minWidth:"120px"},children:L.jsxs(uo,{orientation:"vertical",style:{width:"100%"},children:[L.jsx(qt,{variant:"subtle",onClick:w=>{w.stopPropagation(),_(ht.id,"up"),W(null)},disabled:Rt===0,style:{width:"100%",justifyContent:"flex-start",background:"var(--bg-panel)",border:"1px solid var(--border-subtle)"},children:"Move Up"}),L.jsx(qt,{variant:"subtle",onClick:w=>{w.stopPropagation(),_(ht.id,"down"),W(null)},disabled:Rt===n.length-1,style:{width:"100%",justifyContent:"flex-start",background:"var(--bg-panel)",border:"1px solid var(--border-subtle)",borderTop:"none"},children:"Move Down"}),L.jsx(qt,{variant:"subtle",onClick:w=>{w.stopPropagation(),lt(ht.id),pt(ht.title),W(null)},style:{width:"100%",justifyContent:"flex-start",background:"var(--bg-panel)",border:"1px solid var(--border-subtle)",borderTop:"none"},children:"Rename"}),L.jsx(qt,{variant:"subtle",onClick:w=>{w.stopPropagation(),p(ht.id),W(null)},style:{width:"100%",justifyContent:"flex-start",color:"var(--color-error)",background:"var(--bg-panel)",border:"1px solid var(--border-subtle)",borderTop:"none"},children:"Delete"})]})})]})]})},ht.id)})}),C?L.jsx("form",{onSubmit:Ft,children:L.jsxs($t,{gap:"xs",children:[L.jsx(Gn,{value:T,onChange:ht=>S(ht.target.value),placeholder:"New Project",autoFocus:!0}),L.jsxs($t,{direction:"row",gap:"xs",children:[L.jsx(qt,{type:"submit",variant:"primary",children:"Add"}),L.jsx(qt,{variant:"subtle",onClick:()=>q(!1),children:"Cancel"})]})]})}):L.jsx(qt,{variant:"subtle",onClick:()=>q(!0),style:{justifyContent:"flex-start"},children:"+ New Project"})]})}),L.jsx(Fn,{style:{flex:1}})," ",L.jsx(GN,{})]}),footer:L.jsx($t,{direction:"row",justify:"center",align:"center",style:{width:"100%",padding:"0 16px",height:"40px"},children:L.jsxs(ar,{style:{fontSize:"10px",color:"var(--text-muted)"},children:[" ",new Date().getFullYear()," GUARDABRAZO"]})}),children:L.jsx($t,{gap:"md",style:{height:"100%"},children:s?L.jsx(Fn,{style:{flex:1,overflow:"hidden"},children:L.jsx(HN,{})}):L.jsx(dh,{style:{padding:"2rem",textAlign:"center"},children:L.jsx(ar,{variant:"muted",children:"Select or create a project to get started."})})})}):L.jsx(CN,{})};function QN(){return L.jsx(FN,{})}vS.createRoot(document.getElementById("root")).render(L.jsx(It.StrictMode,{children:L.jsx(QN,{})}));
